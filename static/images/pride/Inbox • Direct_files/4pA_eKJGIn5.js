;/*FB_PKG_DELIM*/

__d("XFBBotFeedbackKind.facebook",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["BOT_FEEDBACK_NEGATIVE","BOT_FEEDBACK_NEGATIVE_ACCURATE","BOT_FEEDBACK_NEGATIVE_CLARITY","BOT_FEEDBACK_NEGATIVE_DOESNT_LOOK_LIKE_THE_PERSON","BOT_FEEDBACK_NEGATIVE_GENERIC","BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY","BOT_FEEDBACK_NEGATIVE_HELPFUL","BOT_FEEDBACK_NEGATIVE_INTERESTING","BOT_FEEDBACK_NEGATIVE_NOT_RELEVANT_TO_TEXT","BOT_FEEDBACK_NEGATIVE_NOT_VISUALLY_APPEALING","BOT_FEEDBACK_NEGATIVE_OTHER","BOT_FEEDBACK_NEGATIVE_PERSONALIZED","BOT_FEEDBACK_NEGATIVE_REFUSED","BOT_FEEDBACK_NEGATIVE_SAFE","BOT_FEEDBACK_POSITIVE"]);c=a;f["default"]=c}),66);
__d("AdsAIMessengerConstants",["fbt","BotFeedbackKind","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";d={title:h._(/*BTDS*/"[INTERNAL ONLY] Hallucination"),value:(b=c("BotFeedbackKind")).BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY};e={title:h._(/*BTDS*/"Not relevant to my question"),value:b.BOT_FEEDBACK_NEGATIVE_HELPFUL};f={title:h._(/*BTDS*/"Not personalized"),value:b.BOT_FEEDBACK_NEGATIVE_PERSONALIZED};var i={title:h._(/*BTDS*/"Incorrect information"),value:b.BOT_FEEDBACK_NEGATIVE_ACCURATE},j={title:h._(/*BTDS*/"Harmful or offensive"),value:b.BOT_FEEDBACK_NEGATIVE_SAFE},k={title:h._(/*BTDS*/"Hard to understand"),value:b.BOT_FEEDBACK_NEGATIVE_CLARITY},l={title:h._(/*BTDS*/"Something else"),value:b.BOT_FEEDBACK_NEGATIVE_OTHER};e={excludingOther:[e,f,i,j,k],feedbackOptionOther:l};function a(a){switch(a){case c("BotFeedbackKind").BOT_FEEDBACK_POSITIVE:return"BOT_FEEDBACK_POSITIVE";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_GENERIC:return"BOT_FEEDBACK_NEGATIVE_GENERIC";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_HELPFUL:return"BOT_FEEDBACK_NEGATIVE_HELPFUL";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_ACCURATE:return"BOT_FEEDBACK_NEGATIVE_ACCURATE";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_INTERESTING:return"BOT_FEEDBACK_NEGATIVE_INTERESTING";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_SAFE:return"BOT_FEEDBACK_NEGATIVE_SAFE";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_CLARITY:return"BOT_FEEDBACK_NEGATIVE_CLARITY";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_PERSONALIZED:return"BOT_FEEDBACK_NEGATIVE_PERSONALIZED";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_OTHER:return"BOT_FEEDBACK_NEGATIVE_OTHER";case c("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY:return"BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY";default:c("FBLogger")("ads_ai_chat").mustfix("Cannot find corresponding XFBBotFeedbackKind for BotFeedbackKind %s",a)}}f=new Map([[b.BOT_FEEDBACK_POSITIVE,"ads_ai_submit_positive_feedback_generic"],[b.BOT_FEEDBACK_NEGATIVE_GENERIC,"ads_ai_submit_negative_feedback_generic"],[b.BOT_FEEDBACK_NEGATIVE_HELPFUL,"ads_ai_submit_negative_feedback_not_relevant"],[b.BOT_FEEDBACK_NEGATIVE_ACCURATE,"ads_ai_submit_negative_feedback_not_accurate"],[b.BOT_FEEDBACK_NEGATIVE_INTERESTING,"ads_ai_submit_negative_feedback_repetitive"],[b.BOT_FEEDBACK_NEGATIVE_SAFE,"ads_ai_submit_negative_feedback_harmful"],[b.BOT_FEEDBACK_NEGATIVE_CLARITY,"ads_ai_submit_negative_feedback_hard_to_understand"],[b.BOT_FEEDBACK_NEGATIVE_PERSONALIZED,"ads_ai_submit_negative_feedback_not_personalized"],[b.BOT_FEEDBACK_NEGATIVE_OTHER,"ads_ai_submit_negative_feedback_other"],[b.BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY,"ads_ai_submit_negative_feedback_hallucination"]]);i=h._(/*BTDS*/"Let us know what's wrong with this response");g.INTERNAL_ONLY_FeedbackOptionHallucination=d;g.FEEDBACK_OPTIONS=e;g.getGraphQLBotFeedbackKind=a;g.BotFeedbackKindToLoggerEventMapping=f;g.feedbackModalHeader=i}),226);
__d("randomShuffleSeeded",["Alea"],(function(a,b,c,d,e,f,g){function a(a){for(var b=arguments.length,d=new Array(b>1?b-1:0),e=1;e<b;e++)d[e-1]=arguments[e];var f=c("Alea").apply(void 0,d);function g(a){return Math.floor(f()*a)}for(var h=a.length-1;h>0;h--){var i=g(h+1);if(i!=h){var j=a[i];a[i]=a[h];a[h]=j}}return a}g["default"]=a}),98);
__d("AdsAIMessengerUtils",["AdsAIMessengerConstants","AdsAISitevarConfig","CurrentUser","I64","gkx","randomShuffleSeeded"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return k(a.senderId)}function j(a){return a.botResponseId!=null&&a.botResponseId.startsWith("ads_ai_shiba")}function a(a){return i(a)||j(a)}function k(a){return c("AdsAISitevarConfig").bot_id!=null&&(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).of_string(c("AdsAISitevarConfig").bot_id))}function b(){var a=d("AdsAIMessengerConstants").FEEDBACK_OPTIONS.excludingOther,b=d("AdsAIMessengerConstants").FEEDBACK_OPTIONS.feedbackOptionOther;a=[].concat(a);c("randomShuffleSeeded")(a,parseInt(c("CurrentUser").getID(),10)).push(b);c("gkx")("731")&&a.push(d("AdsAIMessengerConstants").INTERNAL_ONLY_FeedbackOptionHallucination);return a}g.isMessageFromAdsAIBot=i;g.isMessageFromAdsAIShibaBot=j;g.isMessageFromAdsAI=a;g.isAdsAIParticipant=k;g.getRandomizedAdsAINegativeFeedbackOptions=b}),98);
__d("AdsMessengerContext.react",["AdsAIMessengerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||(h=d("react"));var i=h.useContext,j=b.createContext({isMessageFromAdsAI:d("AdsAIMessengerUtils").isMessageFromAdsAI,isMessageSendDisabled:!1,isMessengerInAds:!1});function a(){return i(j)}g.AdsMessengerContext=j;g.useAdsMessengerContext=a}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("DocumentTranslationStatusContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("useDocumentTranslationStatusObserver",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=j(!1),b=a[0],c=a[1];i(function(){var a=document.documentElement;if(a==null)return;var b=new MutationObserver(function(){a.className.match("translated")?c(!0):c(!1)});b.observe(a,{attributeFilter:["class"],attributes:!0,characterData:!1,childList:!1});a.className.match("translated")&&c(!0);return function(){return b.disconnect()}},[]);return b}g["default"]=a}),98);
__d("DocumentTranslationStatusProvider.react",["DocumentTranslationStatusContext","react","useDocumentTranslationStatusObserver","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){a=a.children;var b=c("useDocumentTranslationStatusObserver")();return i.jsx(c("DocumentTranslationStatusContext").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(c("DocumentTranslationStatusContext"));if(a)return c("uuidv4")();else return void 0}g.DocumentTranslationStatusProvider=a;g.useTranslationKeyForTextParent=b}),98);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent();return i.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometBackgroundImage.react",["CometImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={block:{display:"x1lliihq",$$css:!0},root:{borderStartStartRadius:"x1fmog5m",borderStartEndRadius:"xu25z0z",borderEndEndRadius:"x140muxe",borderEndStartRadius:"xo1y3bh",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}};function a(a){var b=a.alt,d=a.displayBlock,e=a.draggable,f=a.height,g=a.loading,h=a.onError,k=a.onLoad;a=a.src;return i.jsx(c("CometImage.react"),{alt:b,draggable:e,height:f,loading:g||void 0,objectFit:"cover",onError:h,onLoad:k,src:a,xstyle:[j.root,d&&j.block]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VirtualizationConfig",[],(function(a,b,c,d,e,f){"use strict";a={isVisible:!0,nodeHeight:null};b=4e3;c=0;d=!1;f.DEFAULT_INIT_RENDER_CONFIG=a;f.VERTICAL_HIDEABLE_MARGIN=b;f.HORIZONTAL_HIDEABLE_MARGIN=c;f.IS_INTERSECTION_MARGIN_SUPPORTED=d}),66);
__d("VirtualizationContainerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||c("react");b=a.createContext();g["default"]=b}),98);
__d("MutationObserver",[],(function(a,b,c,d,e,f){b=function(){function a(a){}var b=a.prototype;b.observe=function(a,b){};b.disconnect=function(){};b.takeRecords=function(){return[]};return a}();e=(d=(c=a.MutationObserver)!=null?c:a.WebKitMutationObserver)!=null?d:b;c=e;f["default"]=c}),66);
__d("useMutationObserver",["MutationObserver","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a,b){var d=j({observer:null,callback:a}),e=j(null),f=j({element:null,options:null,observer:null}),g=i(function(){var a=f.current,c=a.observer,g=a.element;a=a.options;var h=d.current.observer,i=e.current;(g!=i||b!=a||h!=c)&&(c&&c.disconnect(),h&&i&&h.observe(i,b),f.current={observer:h,element:i,options:b})},[b]);(d.current.observer==null||d.current.callback!==a)&&(d.current.observer!=null&&d.current.observer.disconnect(),d.current={observer:new(c("MutationObserver"))(a),callback:a});g();return i(function(a){e.current=a,g()},[g])}g["default"]=a}),98);
__d("useMutationStableChecker",["react","useMutationObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function m(a,b){var c=[];a.forEach(function(a){if(!(a instanceof HTMLElement))return;a.matches(b)&&c.push(a);c.push.apply(c,Array.from(a.querySelectorAll(b)))});return c}function n(a,b,c,d){d===void 0&&(d=!1);var e=m(b,c);return e.length===0?a:d?new Set([].concat(Array.from(a).filter(function(a){return!e.includes(a)}))):new Set([].concat(Array.from(a),e))}var o={childList:!0,subtree:!0};function a(a,b,d){var e=l(!0),f=e[0],g=e[1],h=k(),m=k(new Set()),p=c("useMutationObserver")(function(b){b.forEach(function(a){if(a.type==="childList"){var b=a.addedNodes;a=a.removedNodes;d!=null&&(m.current=n(n(m.current,b,d,!1),a,d,!0))}}),q(a)},o),q=i(function(a){h.current!=null&&window.clearTimeout(h.current),h.current=window.setTimeout(function(){m.current.size>0?q(a):(g(!0),p(null))},a)},[p]);j(function(){a>0?(p(b.current!=null?b.current:null),g(!1)):p(null);return function(){h.current!=null&&window.clearTimeout(h.current),p(null)}},[a,p,b]);return f}g["default"]=a}),98);
__d("useTimeoutStateSinceFirstMounting.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=k(a<=0),c=b[0],d=b[1],e=j(a),f=j(!1);i(function(){var a=window.setTimeout(function(){f.current||(f.current=!0,d(!0))},e.current);return function(){window.clearTimeout(a)}},[]);return c}g["default"]=a}),98);
__d("useVirtualizationContext",["VirtualizationContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useMemo,l=b.useRef;function a(){var a=j(c("VirtualizationContext")),b=l(0),d=l(new Set()),e=l(!1),f=l(null);f.current==null&&(f.current=new Map());var g=i(function(a){var c,d=b.current++;(c=f.current)==null||c.set(d,a);return function(){var a;(a=f.current)==null||a["delete"](d)}},[]),h=i(function(){return f.current==null?!1:f.current.size>0},[]),m=l(null);m.current==null&&(m.current=new Map());var n=i(function(a,c){var d=b.current++,e=null,f=m.current;if(f!=null){var g;f.has(a)||f.set(a,new Map());e=f.get(a);(g=e)==null||g.set(d,c)}return function(){var b;(b=e)==null||b["delete"](d);((b=e)==null?void 0:b.size)===0&&(f==null||f["delete"](a))}},[]),o=i(function(a){var b;return(b=(b=m.current)==null?void 0:b.has(a))!=null?b:!1},[]),p=i(function(a){d.current.add(a);a(e.current);return function(){d.current["delete"](a)}},[]),q=i(function(a){e.current=a,d.current.forEach(function(b){b(a)})},[]),r=k(function(){return a!=null?a:{createFlag:n,createPin:g,hasFlag:o,hasPin:h,onVirtualizationChange:q,subscribeToVirtualizationStatus:p}},[a,n,g,o,h,q,p]);return r}g["default"]=a}),98);
__d("CometVirtualization.react",["BaseView.react","BaseViewHideable.react","HiddenSubtreeContextProvider.react","HiddenSubtreePassiveContext","VirtualizationConfig","VirtualizationContainerContext","VirtualizationContext","gkx","intersectionObserverEntryIsIntersecting","justknobx","nullIntersectionObserverEntryLogger","react","stylex","unrecoverableViolation","useIntersectionObserver","useMergeRefs","useMutationStableChecker","usePrevious","useTimeoutStateSinceFirstMounting.react","useVirtualizationContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var aa=e.unstable_Activity,ba=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useRef,n=e.useState,o=function(){var a=null;return function(){if(a===null){var b;b=(b=document)==null?void 0:b.documentElement;if(b==null)throw c("unrecoverableViolation")("Scroll anchoring feature detection called in an environment without a documentElement","comet_infra");a=b.style.overflowAnchor!=null}return a}}();function ca(a,b){a===void 0&&(a=null);b===void 0&&(b=!1);a=n(a);var c=a[0],d=a[1];l(function(){c===null&&d(function(){return o()})},[c]);return b||(c!=null?c:!1)}var p={invisible:{display:"x1s85apg",$$css:!0},resetBlockFormattingContext:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},q=c("justknobx")._("1003");function r(a){return typeof a.replace==="function"?a.replace(/\n/g," ").replace(/\s+/g," "):""}function a(){if(typeof IntersectionObserver!=="function")return!1;return typeof IntersectionObserver.toString!=="function"?!1:r(IntersectionObserver.toString()).endsWith("{ [native code] }")}var da=a();function b(a){var b=arguments,e,f=a.activityOnlyMode,g=f===void 0?!1:f,i=a.children,o=a.deferVirtualizationInMs,r=o===void 0?0:o,s=a.deferVirtualizationMutationIntervalInMs,ea=s===void 0?0:s,fa=a.deferVirtualizationPlaceholderSelector,t=a.delayHeightPlaceholderMs,u=t===void 0?0:t,v=a.disableHiding,w=a.hiddenMode,x=w===void 0?"legacy":w,y=a.initialRenderConfig,z=y===void 0?d("VirtualizationConfig").DEFAULT_INIT_RENDER_CONFIG:y,A=a.leftRightMargin,B=A===void 0?d("VirtualizationConfig").HORIZONTAL_HIDEABLE_MARGIN:A,C=a.mountXStyle,ga=a.pinChildrenOnInteraction,D=a.pinChildrenWithPlayer,E=a.ref,F=a.scrollport,G=F===void 0?null:F,H=a.skipScrollAnchoringCheck_UNSAFE,ha=H===void 0?!1:H,I=a.testid,ia=I===void 0?"hideable":I,J=a.topBottomMargin,K=J===void 0?d("VirtualizationConfig").VERTICAL_HIDEABLE_MARGIN:J,L=a.unmountHiddenChildren,M=a.unmountXStyle,N=a.xstyle,ja=m(null),O=m(null),ka=k(c("HiddenSubtreePassiveContext")),P=n(!1),la=P[0],ma=P[1],Q=m(!0),na=n(z.isVisible),R=na[0],oa=na[1],pa=n(z.nodeHeight),S=pa[0],T=pa[1],qa=c("usePrevious")(R),ra=c("useTimeoutStateSinceFirstMounting.react")(r),U=c("useVirtualizationContext")(),V=k(c("VirtualizationContainerContext")),W=m(null),sa=C!=null?C:N,ta=M!=null?M:N;l(function(){var a=Q.current||S==null&&!R;O.current!=null&&a&&(T(O.current.getBoundingClientRect().height),window.clearTimeout(W.current))},[R,S,qa,g]);var X=u!=null&&u>0,ua=function(d){c("nullIntersectionObserverEntryLogger")(d,"IntersectionObserverEntry is null. num_arguments="+b.length);var a=ka.getCurrentState().hiddenOrBackgrounded_FIXME;if(c("intersectionObserverEntryIsIntersecting")(d))g||(!X?(window.clearTimeout(W.current),T(null)):W.current=window.setTimeout(function(){T(null)},u)),oa(!0);else if(!a){a=d.target.getBoundingClientRect();d=a.height;a=a.width;d>0&&a>0&&(oa(!1),g||X&&(window.clearTimeout(W.current),T(d)))}},va=c("useMutationStableChecker")(ea,O,fa);l(function(){Q.current&&(Q.current=!1)},[]);var wa={bottom:K,left:B,right:B,top:K},xa=ba(function(){var a=G!=null?G==null?void 0:G():V==null?void 0:V.rootElementRef.current;return a instanceof Element?a:null},[G,V]),ya=c("useIntersectionObserver")(ua,{root:xa,rootMargin:wa,scrollMargin:babelHelpers["extends"]({},wa),threshold:0}),za=c("useMergeRefs")(ya,ja,E),Aa=function(){if(!la&&S!==null&&L!==!1&&(X||!R))return{minHeight:S}}(),Ba=!R&&S!=null,Ca=ca((e=z.hasScrollAnchoring)!=null?e:null,ha),Da=Ca?za:E;if(c("gkx")("22947"))return j.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf"},{children:j.jsx(c("BaseView.react"),{children:i})}));var Y=function(){ga===!0&&ma(!0)},Ea=(D!=null?D:!1)&&U.hasFlag("HAS_PLAYER"),Z=da&&q&&L===!0&&Ba&&!la&&!U.hasPin()&&!Ea&&ra&&va;U.onVirtualizationChange(Z);var $=q&&!(v!=null?v:!1)&&Ba&&x!=="none";return g?j.jsx(c("VirtualizationContext").Provider,{value:U,children:j.jsx("div",{className:(h||(h=c("stylex")))(p.resetBlockFormattingContext,Z?ta:sa),"data-testid":void 0,"data-virtualized":Z,onClickCapture:Y,onFocusCapture:Y,onKeyPressCapture:Y,ref:Da,children:j.jsx("div",{ref:O,children:j.jsx(aa,{mode:Z?"hidden":"visible",children:i})})})}):j.jsx(c("VirtualizationContext").Provider,{value:U,children:j.jsx("div",{className:(h||(h=c("stylex")))(p.resetBlockFormattingContext,Z?ta:sa),"data-testid":void 0,"data-virtualized":Z,onClickCapture:Y,onFocusCapture:Y,onKeyPressCapture:Y,ref:Da,style:Aa,children:x==="legacy"?j.jsx(c("BaseViewHideable.react"),{hidden:$,ref:O,xstyle:$&&p.invisible,children:Z?null:j.jsx(c("HiddenSubtreeContextProvider.react"),{isHidden:$,children:i})}):j.jsx("div",{ref:O,children:Z?null:i})})})}b.displayName=b.name+" [from "+f.id+"]";g["default"]=b}),98);
__d("VirtualizationExperimentConfig",[],(function(a,b,c,d,e,f){"use strict";a=4e3;b=!0;c=!1;d=!1;e=!1;var g={polaris_feed_story_tray_item:{hiding_disabled:!1,pin_children_on_interaction:!0,surface_enabled:!0}},h={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{surface_enabled:!1}},i={comet_feed_unit_card:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!0,root_margin_top_bottom:500,surface_enabled:!0},comet_profile_photos:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_tofu_stories_container:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},comet_watch_tab:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:4e3,surface_enabled:!0},marketplace_item:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:1e3,surface_enabled:!0},thread_list:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0},thread_view:{hiding_disabled:!1,pin_children_on_interaction:!0,pin_children_with_player:!1,root_margin_top_bottom:500,surface_enabled:!0}};f.DEFAULT_TOP_BOTTOM_MARGIN=a;f.DEFAULT_PIN_CHILDREN_ON_INTERACTION=b;f.DEFAULT_PIN_CHILDREN_WITH_PLAYER=c;f.DEFAULT_DISABLE_HIDING=d;f.DEFAULT_ACTIVITY_MODE_ON=e;f.ROLLOUT_CONFIG=g;f.GK_HOLDOUT_CONFIG=h;f.GK_ROLLOUT_CONFIG=i}),66);
__d("VirtualizationExperimentSettings",["QE2Logger","VirtualizationExperimentConfig","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("2548"),j=c("gkx")("221");function k(a){if(Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").ROLLOUT_CONFIG;else if(i&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_HOLDOUT_CONFIG;else if(j&&Object.prototype.hasOwnProperty.call(d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG,a))return d("VirtualizationExperimentConfig").GK_ROLLOUT_CONFIG;return null}var l=function(a){var b=k(a);return b==null?void 0:b[a]},m=new Set(((h=c("qex")._("641"))!=null?h:"").split(",").map(function(a){return a.trim()}));function a(a){var b=new Map();return function(c){if(b.has(c))return b.get(c);var d=a(c);b.set(c,d);return d}}function b(a){if(m.has(a))return!0;a=l(a);return(a=a==null?void 0:a.surface_enabled)!=null?a:!1}h=a(b);function e(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=parseInt((a=a==null?void 0:a.trim())!=null?a:"",10);c.length>0&&!Number.isNaN(a)&&b.set(c,a)});return b}var n=e((b=c("qex")._("628"))!=null?b:"");function f(a){if(n.has(a)){var b;return(b=n.get(a))!=null?b:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}b=l(a);return(a=b==null?void 0:b.root_margin_top_bottom)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_TOP_BOTTOM_MARGIN}e=a(f);var o=new Set(((b=c("qex")._("642"))!=null?b:"all").split(",")),p=new Set();function q(a){if(p.has(a))return;(o.has("all")||o.has(a))&&d("QE2Logger").logExposureForActingAccount("comet_front_end_virtualization");p.add(a)}var r=(f=c("qex")._("4937"))!=null?f:d("VirtualizationExperimentConfig").DEFAULT_ACTIVITY_MODE_ON;function s(a){if(m.has(a))return r!=null?r:!1;a=l(a);return(a=a==null?void 0:a.react_activity_mode)!=null?a:!1}b=a(s);var t=(f=c("qex")._("648"))!=null?f:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_ON_INTERACTION;function u(a){if(m.has(a))return t!=null?t:!0;a=l(a);return(a=a==null?void 0:a.pin_children_on_interaction)!=null?a:!0}s=a(u);u=(f=c("qex")._("339"))!=null?f:"default";var v=u==="disable"?!0:u==="enable"?!1:null;function w(a){if(m.has(a))return v!=null?v:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING;a=l(a);return(a=a==null?void 0:a.hiding_disabled)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_DISABLE_HIDING}f=a(w);var x=(u=c("qex")._("885"))!=null?u:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;function y(a){if(m.has(a))return x!=null?x:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER;a=l(a);return(a=a==null?void 0:a.pin_children_with_player)!=null?a:d("VirtualizationExperimentConfig").DEFAULT_PIN_CHILDREN_WITH_PLAYER}w=a(y);var z="static",A=new Set(["static","dynamic"]);function B(a){var b=new Map();a.split(",").forEach(function(a){a=a.trim();a=a.split(":");var c=a[0];a=a[1];c=(c=c==null?void 0:c.trim())!=null?c:"";a=a==null?void 0:a.trim();a=A.has(a)?a:z;c.length>0&&b.set(c,a)});return b}var C=B((u=c("qex")._("1851"))!=null?u:"");function D(a){if(C.has(a)){var b;return(b=C.get(a))!=null?b:z}b=l(a);return(a=b==null?void 0:b.virtualization_strategy)!=null?a:z}function E(){var a;return(a=c("qex")._("4940"))!=null?a:!1}y=a(D);g.isSurfaceEnabled=h;g.getTopBottomMargin=e;g.logQEExposureOnceWhenNecessary=q;g.getActivityModeOn=b;g.getPinChildrenOnInteration=s;g.isHidingDisabled=f;g.getPinChildrenWithPlayer=w;g.getSkipScrollAnchoringCheck=E;g.getVirtualizationStrategy=y}),98);
__d("CometHideableComponentExperiment.react",["CometVirtualization.react","VirtualizationExperimentSettings","cr:10342","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var e=a.callingSurface,f=a.children,g=a.disableHiding,h=a.mountXStyle,k=a.scrollport;k=k===void 0?null:k;var l=a.topBottomMarginOverride,m=a.unmountXStyle;a=a.xstyle;var n=d("VirtualizationExperimentSettings").isSurfaceEnabled(e);g=g!=null?g:d("VirtualizationExperimentSettings").isHidingDisabled(e)||!n;j(function(){return d("VirtualizationExperimentSettings").logQEExposureOnceWhenNecessary(e)},[e]);var o=d("VirtualizationExperimentSettings").getVirtualizationStrategy(e);o=o==="static"?c("CometVirtualization.react"):b("cr:10342")!=null?b("cr:10342"):c("CometVirtualization.react");var p=d("VirtualizationExperimentSettings").getActivityModeOn(e),q=d("VirtualizationExperimentSettings").getSkipScrollAnchoringCheck();return i.jsx(o,{activityOnlyMode:p,disableHiding:g,mountXStyle:h,pinChildrenOnInteraction:n&&d("VirtualizationExperimentSettings").getPinChildrenOnInteration(e),pinChildrenWithPlayer:d("VirtualizationExperimentSettings").getPinChildrenWithPlayer(e),scrollport:k,skipScrollAnchoringCheck_UNSAFE:q,topBottomMargin:l!=null&&l>=0?l:d("VirtualizationExperimentSettings").getTopBottomMargin(e),unmountHiddenChildren:n,unmountXStyle:m,xstyle:a,children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mlcEditableSubscription",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{initialValueFn:function(){return a.isEditable()},subscribe:function(b){return a.registerEditableListener(b)}}}f["default"]=a}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useLayoutEffect,k=b.useState;function a(a){var b=(h||(h=c("useUnsafeRef_DEPRECATED")))(a.initialValueFn()),d=k(b.current),e=d[0],f=d[1];j(function(){var c=a.initialValueFn,d=a.subscribe;c=c();b.current!==c&&(b.current=c,f(c));return d(function(a){b.current=a,f(a)})},[a]);return e}g["default"]=a}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","stylex","useCometLexicalSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useLayoutEffect,n=b.useMemo,o=b.useState,p={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function a(a){var b=a.ariaAutoComplete,e=a.ariaDescribedBy,f=a.ariaExpanded,g=a.ariaLabel,j=a.ariaLabelledBy,q=a.ariaMultiline,r=a.ariaOwneeID,s=a.ariaRequired,t=a.autoCapitalize,u=a.autoComplete,v=a.autoCorrect,w=a.contentEditableRef,x=a.isInitiallyFocused,y=x===void 0?!1:x;x=a.role;x=x===void 0?"textbox":x;var z=a.spellCheck;z=z===void 0?!1:z;var A=a.tabIndex,B=a.webDriverTestID;B=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var C=d("LexicalComposerContext").useLexicalComposerContext(),D=C[0];C=o(void 0);var E=C[0],F=C[1];C=o(void 0);var G=C[0],H=C[1];C=c("useCometLexicalSubscription")(n(function(){return c("mlcEditableSubscription")(D)},[D]));m(function(){return D.registerCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&F(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&H(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},[D]);l(function(){y&&D.focus(function(){var a=document.activeElement,b=D.getRootElement();(!(b!=null&&b.contains(a))||b!=null||a==null)&&(b==null||b.focus({preventScroll:!0}))})},[D,y]);return k.jsx(d("LexicalContentEditable").ContentEditable,babelHelpers["extends"]({ariaActiveDescendant:E!=null?E:void 0,ariaAutoComplete:b,ariaControls:G!=null?G:void 0,ariaDescribedBy:e,ariaExpanded:f,ariaLabel:(E=g==null?void 0:g.toString())!=null?E:void 0,ariaLabelledBy:j,ariaMultiline:q,ariaOwns:r,ariaRequired:s!=null?s:void 0,autoCapitalize:t,autoComplete:u,autoCorrect:v,className:(i||(i=c("stylex")))(p.editor,B)+" "+(C?"notranslate":""),"data-testid":void 0,ref:w,role:x,spellCheck:z,suppressContentEditableWarning:!0,tabIndex:A},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometLexicalPlaceholder.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children;a=a.xstyle;return j.jsx("div",babelHelpers["extends"]({children:b},(h||(h=c("stylex"))).props(k.placeholder,a)))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMetricsNavigationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1956659");b=d("FalcoLoggerInternal").create("comet_metrics_navigation",a);e=b;g["default"]=e}),98);
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingInlineEnd:"x1im30kd",paddingBottom:"xg8j3zb",paddingInlineStart:"x1djpfga",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginInlineEnd:"x18faa90",marginBottom:"x1huwwth",marginInlineStart:"x4h0osi",$$css:!0}};function k(a,b){return a<2&&b%3===2}function a(a){var b=a.children,e=a.spacing,f=e===void 0?"narrow":e;e=a.uniformGrid;var g=e===void 0?!1:e;a=i.Children.toArray(b);var h=a.length;return i.jsx(d("react-strict-dom").html.div,{style:[j.wrapper,f==="narrow"&&j.wrapperNarrowSpacing,f==="wide"&&j.wrapperWideSpacing],children:i.Children.map(a,function(a,b){return i.jsx(d("react-strict-dom").html.div,{style:[j.item,f==="wide"&&j.itemWideSpacing,f==="narrow"&&j.itemNarrowSpacing,!g&&k(b,h)&&j.itemEnlarged],children:i.jsx(c("BaseAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("DirectRequestsThreadAllowFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsThreadAllowFalcoEvent").__setRef("DirectRequestsThreadAllowFalcoEventDeferred");function a(a){var b=a.folder,c=a.is_interop,d=a.is_spam,e=a.is_unread;h.onReady(function(a){return a.log(function(){return{folder:b,is_interop:c,is_spam:d,is_unread:e}})})}g.logDirectRequestsThreadAllowFalcoEvent=a}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});f["default"]=a}),66);
__d("E2EEMessagingLinkContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=e({inThread:!1,isSecure:!1});function a(a){var b=a.children,c=a.inThread,d=a.isSecure;a=k(function(){return{inThread:c,isSecure:d}},[c,d]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.E2EEMessagingLinkContext=l;g.E2EEMessagingLinkProvider=a;g.useE2EEMessagingLink=b}),98);
__d("FDSAirplaneFilled20Icon",["cr:14276"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14276")}),98);
__d("FDSAirplaneFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("571771"),20);b=a;g["default"]=b}),98);
__d("FDSAppThreadsFilled16Icon",["cr:14370"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14370")}),98);
__d("FDSAppThreadsFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("380222"),16);b=a;g["default"]=b}),98);
__d("FDSBlurredBackgroundImage.react",["CometBackgroundImage.react","XPlatReactEnvironment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=["xstyle"],i,j=i||d("react"),k={imageContainer:{filter:"xtea3wc",height:"xu1mrb",$$css:!0},imageContainerVR:{transform:"x15f76sd",$$css:!0},imageContainerWeb:{transform:"x1yyh9jt",width:"x1jx8tsq",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(d("react-strict-dom").html.div,{style:[k.root,b],children:j.jsx(d("react-strict-dom").html.div,{style:[k.imageContainer,d("XPlatReactEnvironment").isWeb()?k.imageContainerWeb:k.imageContainerVR],children:j.jsx(c("CometBackgroundImage.react"),babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSCalendarAddFilled20Icon",["cr:14606"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14606")}),98);
__d("FDSCalendarAddFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("640913"),20);b=a;g["default"]=b}),98);
__d("FDSCalendarFilled20Icon",["cr:13822"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13822")}),98);
__d("FDSCalendarFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("481118"),20);b=a;g["default"]=b}),98);
__d("FDSCamcorderCrossFilled20Icon",["cr:14629"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14629")}),98);
__d("FDSCamcorderCrossFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("662989"),20);b=a;g["default"]=b}),98);
__d("FDSCamcorderFilled20Icon",["cr:14631"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14631")}),98);
__d("FDSCamcorderFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("493174"),20);b=a;g["default"]=b}),98);
__d("FDSCamcorderIncomingFilled20Icon",["cr:14633"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14633")}),98);
__d("FDSCamcorderIncomingFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1096148"),20);b=a;g["default"]=b}),98);
__d("FDSCamcorderOutgoingFilled20Icon",["cr:14638"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14638")}),98);
__d("FDSCamcorderOutgoingFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1096150"),20);b=a;g["default"]=b}),98);
__d("FDSCamcorderPlusFilled20Icon",["cr:14642"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14642")}),98);
__d("FDSCamcorderPlusFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("662993"),20);b=a;g["default"]=b}),98);
__d("FDSCheckmarkCircleFilled20Icon",["cr:13866"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13866")}),98);
__d("FDSCheckmarkCircleFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("498146"),20);b=a;g["default"]=b}),98);
__d("FDSCheckmarkFilled20Icon",["cr:14115"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14115")}),98);
__d("FDSCheckmarkFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("477814"),20);b=a;g["default"]=b}),98);
__d("FDSCrossFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("478232"),16);b=a;g["default"]=b}),98);
__d("FDSCurrencyUsdFilled20Icon",["cr:14807"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14807")}),98);
__d("FDSCurrencyUsdFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("847056"),20);b=a;g["default"]=b}),98);
__d("FDSDocumentFilled20Icon",["cr:13998"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13998")}),98);
__d("FDSDocumentFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("728245"),20);b=a;g["default"]=b}),98);
__d("FDSFriendConfirmFilled20Icon",["cr:14220"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14220")}),98);
__d("FDSFriendConfirmFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("538342"),20);b=a;g["default"]=b}),98);
__d("FDSFriendRemoveFilled20Icon",["cr:15002"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15002")}),98);
__d("FDSFriendRemoveFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("714636"),20);b=a;g["default"]=b}),98);
__d("FDSFriendRequestFilled20Icon",["cr:15006"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15006")}),98);
__d("FDSFriendRequestFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("502671"),20);b=a;g["default"]=b}),98);
__d("FDSGroupFilled20Icon",["cr:15088"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15088")}),98);
__d("FDSGroupFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("485091"),20);b=a;g["default"]=b}),98);
__d("FDSImageCover.react",["BaseImage_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["alt","loading","onError","onLoad","src","style"],i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useRef,m=e.useState;d=function(){var a=document.documentElement;return a==null?!0:Boolean("objectFit"in a.style)}();function a(a){a.alt;var b=a.loading,d=a.onError,e=a.onLoad,f=a.src,g=a.style;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var i=m(null),n=i[0],o=i[1],p=l();i=k(function(){var a=p.current;if(a==null||!(a instanceof HTMLImageElement)||typeof a.src!=="string")return;o(a.src);e!=null&&e()},[e]);return n!=null?j.jsx("div",{className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3",style:babelHelpers["extends"]({backgroundImage:"url("+n+")",backgroundPosition:"center center",backgroundSize:"cover"},g)}):j.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({},a,{className:"xqtp20y xnalus7",loading:b||void 0,onError:d,onLoad:i,ref:p,src:f,style:g}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){return j.jsx(c("BaseImage_DEPRECATED.react"),babelHelpers["extends"]({className:"x1rg5ohu x5yr21d xl1xv1r xh8yej3"},a))}b.displayName=b.name+" [from "+f.id+"]";e=d?b:a;g["default"]=e}),98);
__d("FDSKeyHouseFilled20Icon",["cr:15166"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15166")}),98);
__d("FDSKeyHouseFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1670302"),20);b=a;g["default"]=b}),98);
__d("FDSLocationFilled20Icon",["cr:15234"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15234")}),98);
__d("FDSLocationFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("795388"),20);b=a;g["default"]=b}),98);
__d("FDSMapFilled20Icon",["cr:15245"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15245")}),98);
__d("FDSMapFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("645715"),20);b=a;g["default"]=b}),98);
__d("FDSPhoneCrossFilled20Icon",["cr:15388"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15388")}),98);
__d("FDSPhoneCrossFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("847457"),20);b=a;g["default"]=b}),98);
__d("FDSPhoneFilled20Icon",["cr:15391"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15391")}),98);
__d("FDSPhoneFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("558161"),20);b=a;g["default"]=b}),98);
__d("FDSPhoneIncomingFilled20Icon",["cr:15393"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15393")}),98);
__d("FDSPhoneIncomingFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1096151"),20);b=a;g["default"]=b}),98);
__d("FDSPhoneOutgoingFilled20Icon",["cr:15396"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15396")}),98);
__d("FDSPhoneOutgoingFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1096154"),20);b=a;g["default"]=b}),98);
__d("FDSPinFilled20Icon",["cr:13887"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13887")}),98);
__d("FDSPinFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("481942"),20);b=a;g["default"]=b}),98);
__d("FDSPostClockFilled20Icon",["cr:15477"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15477")}),98);
__d("FDSPostClockFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1604445"),20);b=a;g["default"]=b}),98);
__d("FDSPostSlashFilled20Icon",["cr:13848"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13848")}),98);
__d("FDSPostSlashFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1501526"),20);b=a;g["default"]=b}),98);
__d("FDSShieldFilled20Icon",["cr:14248"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14248")}),98);
__d("FDSShieldFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("492714"),20);b=a;g["default"]=b}),98);
__d("FDSShoppingCartFilled20Icon",["cr:15660"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15660")}),98);
__d("FDSShoppingCartFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("763120"),20);b=a;g["default"]=b}),98);
__d("FDSSkittleIcon.react",["FDSIcon.react","MetaConfig","getBadgePosition","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=["color","disabled","icon","iconBadge","iconBadgeAria","ref","shape","size"],i,j=i||d("react"),k={circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},iconBadge:{alignItems:"x6s0dn4",backgroundColor:"xwnonoy",borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",position:"x10l6tqk",$$css:!0},roundedRect:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},skittle:{alignItems:"x6s0dn4",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",display:"x3nfvp2",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0}},l={accent:{backgroundColor:"xwnonoy",$$css:!0},blue:{backgroundColor:"x11goek",$$css:!0},cherry:{backgroundColor:"x1tzrqqp",$$css:!0},grape:{backgroundColor:"x17f3y5z",$$css:!0},gray:{backgroundColor:"x1qhmfi1",$$css:!0},green:{backgroundColor:"xv9rvxn",$$css:!0},lemon:{backgroundColor:"xacajkf",$$css:!0},lightblue:{backgroundColor:"x1hr4nm9",$$css:!0},lime:{backgroundColor:"xbmc1ew",$$css:!0},pink:{backgroundColor:"x1qrsksh",$$css:!0},"primary-on-media":{backgroundColor:"xyyilqk",$$css:!0},"primary-on-media-legacy":{backgroundColor:"x9bbmet",$$css:!0},red:{backgroundColor:"x1ciooss",$$css:!0},seafoam:{backgroundColor:"x1tw9p8u",$$css:!0},teal:{backgroundColor:"x1emf0wh",$$css:!0},tomato:{backgroundColor:"xqjkjv5",$$css:!0},white:{backgroundColor:"x14hiurz",$$css:!0}},m={32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},56:{height:"xnnlda6",width:"x15yg21f",$$css:!0},60:{height:"xng8ra",width:"x1247r65",$$css:!0}},n=new Map([[24,16],[36,20],[40,24],[48,24],[56,24],[60,24]]);function o(a){switch(a){case"gray":return"primary";case"white":return"primary";case"lightblue":return"highlight";case"primary-on-media":return c("MetaConfig")._("179")?"primaryButtonIconOnMedia":"secondary";default:return"white"}}function a(a){var b=a.color,e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.iconBadge,i=a.iconBadgeAria,p=a.ref,q=a.shape;q=q===void 0?"circle":q;var r=a.size;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var s=a["aria-label"]==null&&a["aria-labelledby"]==null,t=(i==null?void 0:i["aria-label"])==null&&(i==null?void 0:i["aria-labelledby"])==null;return j.jsxs(d("react-strict-dom").html.div,{ref:p,style:[q==="circle"&&k.circle,q==="roundedRect"&&k.roundedRect,k.skittle,b==="primary-on-media"?c("MetaConfig")._("179")?l["primary-on-media"]:l["primary-on-media-legacy"]:l[b],m[r]],children:[j.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},s?{isDecorative:s}:a,{color:e?"disabled":o(b),icon:f,size:n.get(r)})),g!=null&&j.jsx(d("react-strict-dom").html.div,{style:[k.iconBadge,[d("getBadgePosition").getBadgePosition(r/2)]],children:j.jsx(c("FDSIcon.react"),babelHelpers["extends"]({},t?{isDecorative:t}:i,{color:"white",icon:g,size:8}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSTagFilled20Icon",["cr:15749"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15749")}),98);
__d("FDSTagFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("502473"),20);b=a;g["default"]=b}),98);
__d("FDSWatchTvFilled20Icon",["cr:15866"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15866")}),98);
__d("FDSWatchTvFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("607169"),20);b=a;g["default"]=b}),98);
__d("MWPMessageListColumn.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(a){return[{height:a==null?null:"x1f5funs",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xdmgqn6",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingInlineEnd:"x1o5r3ls",paddingInlineStart:"x15r0g6m",$$css:!0}};function k(a){var b=a.bubble,c=a.centered,e=a.children,f=a.grow,g=a.justifyContent,h=a.paint,k=a.profile;a.rounded;var l=a.selfCentered,m=a.shrinkwrap;a=a.withGutters;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.root,f===!0?j.grow:!1,m===!0?j.shrinkwrap:!1,h===!0?j.paint:!1,k===!0?j.profile:!1,a===!0?j.withGutters:!1,b===!0?j.bubble:!1,c===!0?j.centered:!1,l===!0?j.selfCentered:!1,g==="flex-start"?j.justifyContentStart:!1],children:e})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.children,c=a.grow;a=a.shrinkwrap;return i.jsx(k,{grow:c!=null?c:!1,paint:!0,shrinkwrap:a!=null?a:!1,withGutters:!0,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.children;a=a.selfCentered;return i.jsx(k,{paint:!0,profile:!0,selfCentered:a!=null?a:!1,shrinkwrap:!0,children:b})}b.displayName=b.name+" [from "+f.id+"]";function c(a){var b=a.children,c=a.paint;a=a.profile;return i.jsx(k,{paint:c!=null?c:!0,profile:a!=null?a:!1,selfCentered:!0,shrinkwrap:!0,children:b})}c.displayName=c.name+" [from "+f.id+"]";function e(a){var b=a.centered,c=a.children;a=a.paint;return i.jsx(k,{centered:b!=null?b:!1,paint:a!=null?a:!0,shrinkwrap:!0,children:c})}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.children;a=a.paint;a=a===void 0?!0:a;return i.jsx(k,{grow:!0,paint:a,children:b})}l.displayName=l.name+" [from "+f.id+"]";function m(a){a=a.children;return i.jsx(k,{grow:!0,justifyContent:"flex-start",paint:!0,children:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.children;a=a.paint;return i.jsx(k,{bubble:!0,paint:a,children:b})}n.displayName=n.name+" [from "+f.id+"]";function o(){return i.jsx(d("react-strict-dom").html.div,{role:"none",style:j.spacer})}o.displayName=o.name+" [from "+f.id+"]";function p(a){a=a.height;return i.jsx(d("react-strict-dom").html.div,{role:"none",style:[j.vr,j.customHeight(a)]})}p.displayName=p.name+" [from "+f.id+"]";g.MWPMessageListColumnWithGutters=a;g.MWPMessageListColumnProfile=b;g.MWPMessageListColumnSelfCentered=c;g.MWPMessageListColumnShrinkwrap=e;g.MWPMessageListColumnGrow=l;g.MWPMessageListColumnGrowJustified=m;g.MWPMessageListColumnBubble=n;g.MWPMessageListColumnHorizontalSpacer=o;g.MWPMessageListColumnVerticalRhythm=p}),98);
__d("IGDAIStickerEyebrowText.react",["fbt","IGDSText.react","MWPMessageListColumn.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.attachment;a=a.outgoing;e=e.mustacheText;if(e==null||e==="")return null;var f;b[0]!==a?(f={0:{className:"xyorhqc x1xmf6yo"},1:{className:"xyorhqc x1xmf6yo xpvyfi4"}}[!!a<<0],b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=h._(/*BTDS*/"\"{quoted text}\"",[h._param("quoted text",e)]),b[2]=e,b[3]=a):a=b[3];b[4]!==a?(e=j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a}),b[4]=a,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},f,{children:e}))}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}g["default"]=a}),226);
__d("IGDAWAdminWriteMsgTxn",["I64","LSAuthorityLevel","LSIntEnum","LSMessageSendStatus","LSMessageUnsendabilityStatus","WAGlobals","WAJids","asyncToGeneratorRuntime","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e,f=c("uuidv4")(),g="admin:"+(h||(h=d("I64"))).to_string(b.threadKey)+":"+f;e=(e=b.timestampMs)!=null?e:(h||(h=d("I64"))).of_float(Date.now());yield a.messages.put({adminMsgCtaType:b.ctaType,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),cannotUnsendReason:i.ofNumber(c("LSMessageUnsendabilityStatus").DENY_LOG_MESSAGE),displayedContentTypes:i.ofNumber(32),isAdminMessage:!0,messageId:g,offlineThreadingId:f,primarySortKey:e,secondarySortKey:void 0,senderId:(a=b.senderId)!=null?a:(h||(h=d("I64"))).of_string(d("WAJids").extractUserId(d("WAGlobals").getMyUserJid())),sendStatus:i.ofNumber(c("LSMessageSendStatus").SERVER_RECEIVED),sendStatusV2:i.ofNumber(2),text:b.text,threadKey:b.threadKey,timestampMs:e,transportKey:"FBBroker"})});return j.apply(this,arguments)}g.writeAdminMessageTxn=a}),98);
__d("IGDAcceptOpenMessageRequestLogger",["DirectRequestsThreadAllowFalcoEventDeferred","I64","LSIntEnum","MWPIsThreadUnread","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(e)));b!=null&&d("DirectRequestsThreadAllowFalcoEventDeferred").logDirectRequestsThreadAllowFalcoEvent({folder:b.igFolder!=null?(h||(h=d("I64"))).to_string(b.igFolder):void 0,is_interop:!1,is_spam:(h||(h=d("I64"))).equal(b.parentThreadKey,(i||(i=d("LSIntEnum"))).ofNumber(-3)),is_unread:d("MWPIsThreadUnread").isThreadUnread(b)})})())}g.logAcceptOpenMessageRequest=a}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,g){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(e.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var f;f=(f=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,g)}))))!=null?f:[void 0,void 0];f[0];f=f[1];if(f==null)return;var i=babelHelpers["extends"]({},f,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});yield b.contacts.upsert([f.id],i);d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&(yield c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(b),{contactId:f.id}))});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":39"))}g.call=a}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(b),{threadKey:a})},"readwrite",void 0,void 0,f.id+":25"))},[b,a])}g["default"]=a}),98);
__d("IGDAcceptOpenMessageRequestComposerBannerButton.react",["fbt","I64","IGDAcceptOpenMessageRequestLogger","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSMessagingThreadTypeUtil","MAWOptimisticUpdateContactRelationship","MWPActor.react","MessengerWebUXLogger","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWLSAcceptMessageRequest"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var e=d("react-compiler-runtime").c(14),f=a.thread,g=c("useAsyncReStore")(),i=d("MWPActor.react").useActor();a=f.threadKey;var l=c("useMWLSAcceptMessageRequest")(a),m=c("MessengerWebUXLogger").useInteractionLogger(),n=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e[0]!==f?(a=c("getInstamadilloLoggingExtraData")(f),e[0]=f,e[1]=a):a=e[1];var o=a,p;e[2]!==l||e[3]!==i||e[4]!==g||e[5]!==n||e[6]!==o||e[7]!==m||e[8]!==f?(a=function(){l();var a=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(f);m==null||m({eventName:"accept_chat_request",extraData:babelHelpers["extends"]({},o,{is_request:String(a),target_id:(j||(j=d("I64"))).to_string(f.threadKey)}),flowInstanceId:n});a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield g);d("IGDAcceptOpenMessageRequestLogger").logAcceptOpenMessageRequest(a,f.threadKey);d("MAWOptimisticUpdateContactRelationship").call(f,a,i)});return function(){return a.apply(this,arguments)}}();c("promiseDone")(a())},p=[l,i,g,n,o,m,f],e[2]=l,e[3]=i,e[4]=g,e[5]=n,e[6]=o,e[7]=m,e[8]=f,e[9]=a,e[10]=p):(a=e[9],p=e[10]);a=d("Int64Hooks").useCallbackInt64(a,p);e[11]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Accept"),e[11]=p):p=e[11];e[12]!==a?(p=k.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:p,onClick:a,role:"button",variant:"secondary_link"}),e[12]=a,e[13]=p):p=e[13];return p}g["default"]=a}),226);
__d("IGDAiAgentsUtils",["I64","LSIntEnum","MessagingAttachmentType","MessagingThreadSubtype"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="656175869434325";function a(a){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").IG_AI_BOT_ONE_TO_ONE))}function b(a){var b=a.attachmentType;a=a.mustacheText;if(b==null||a==null)return!1;b=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER));a=a!=null&&a!=="";return b&&a}function e(a){return a!=null&&(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).of_string(j))}g.isAiThread=a;g.isGenAISticker=b;g.isMetaAiThread=e}),98);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.disabled,c=a.hasEnded,e=a.isPaused,f=a.isPlaying;a=a.outgoing;var g=d("MWPAudioPlayerUtils").useShowNewUX();g=g?a?"var(--always-white)":"var(--progress-ring-neutral-foreground)":a?"var(--chat-outgoing-message-bubble-background-color)":void 0;if(f)return i.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:g});return e||c||b?i.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:g}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXCircleButton.react",["BaseTheme.react","MWXSvgIcon","MWXThreadThemeColor","cr:6681","cr:7510","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["color","icon","size","type"],j,k=j||(j=d("react")),l=j.useMemo;function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=a.color,g=a.icon,j=a.size,m=a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var n=f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?"primary":f,o=l(function(){return f instanceof d("MWXThreadThemeColor").MWXThreadThemeColor?{dark:{"primary-icon":f.color},light:{"primary-icon":f.color},type:"VARIABLES"}:void 0},[f]),p=g instanceof d("MWXSvgIcon").MWXSvgIcon?g.component:g,q=null;b("cr:7510")!=null&&(q=k.jsx(b("cr:7510"),babelHelpers["extends"]({color_DEPRECATED:n,icon:p,size:j,type_DEPRECATED:m},a,{ref:e})));b("cr:6681")!=null&&(q=k.jsx(b("cr:6681"),babelHelpers["extends"]({color:n,icon:p,size:j,type:m},g instanceof d("MWXSvgIcon").MWXSvgIcon?{iconRatio:"medium"}:{},a,{ref:e})));o!=null&&(q=k.jsx(c("BaseTheme.react"),{config:o,children:q}));return q}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconExclamationMarkCircle",["MWXSvgIcon","SVGIcon","cr:22309","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22309")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconRefreshAlt",["MWXSvgIcon","SVGIcon","cr:22457","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22457")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWPAudioPlaybackButton.react",["fbt","CometHeroHoldTrigger.react","MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXSpinner.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=a.isError,e=a.isLoading,f=a.isRetryableError,g=a.onPress,j=a.scrubberRef,l=a.disabled,m=a.hasEnded,n=a.isPaused,o=a.isPlaying;a=a.outgoing;var p=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle();j=d("MWPAudioPlayerUtils").useResetHighlightProgress(j);var q=o||n;return e?k.jsxs("div",{className:(i||(i=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:q?j:void 0,style:p,children:[k.jsx(c("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:16}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWPAudioPlaybackButton",hold:!0})]}):k.jsx("div",{onMouseMove:q?j:void 0,style:p,children:b!==!0?k.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:l,icon:k.jsx(c("MWPAudioPlaybackIcon.react"),{disabled:l,hasEnded:m,isPaused:n,isPlaying:o,outgoing:a}),label:o?d("MWPAudioPlayerLabels").pauseLabel:d("MWPAudioPlayerLabels").playLabel,onPress:g}):f===!0?k.jsx(c("MWXCircleButton.react"),{color:"black",icon:c("MWXIconRefreshAlt"),label:h._(/*BTDS*/"Retry"),onPress:g,size:40,type:"normal"}):k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xwcfey6 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 x1vqgdyp xl56j7k x100vrsf"},{children:k.jsx(c("MWXIconStrict.react"),{color:"black",icon:c("MWXIconExclamationMarkCircle"),size:20})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useIGDAudioControl",["PolarisVideoConstants","PolarisVolumeControlsManager.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect;function a(a,b){var c=d("react-compiler-runtime").c(11),e=d("PolarisVolumeControlsManager.react").useVolumeControls(),f;c[0]!==a||c[1]!==b||c[2]!==e.audioState?(f=function(){a&&e.audioState===d("PolarisVideoConstants").AUDIO_STATES.on&&b()},c[0]=a,c[1]=b,c[2]=e.audioState,c[3]=f):f=c[3];var g;c[4]!==a||c[5]!==b||c[6]!==e?(g=[a,b,e],c[4]=a,c[5]=b,c[6]=e,c[7]=g):g=c[7];i(f,g);c[8]!==b||c[9]!==e?(f=function(){e.audioState===d("PolarisVideoConstants").AUDIO_STATES.on&&e.setAudioState(d("PolarisVideoConstants").AUDIO_STATES.off),b()},c[8]=b,c[9]=e,c[10]=f):f=c[10];return f}g["default"]=a}),98);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","Promise","asyncToGeneratorRuntime","fetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=[];for(var c=0;c<a.numberOfChannels;c++)b.push(a.getChannelData(c));a=b.reduce(function(a,b){return a+b.length},0);c=new Float32Array(a);for(a=0;a<b.length;a++)for(var d=0;d<b[a].length;d++)c[d*b.length+a]=b[a][d];return c}function j(a){var d=c("AudioContextSingleton").get();return new(h||(h=b("Promise")))(function(b,c){d.decodeAudioData(a,b,c)})}function a(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=a.toString();try{var b=(yield c("fetch")(a));b=(yield b.arrayBuffer());b=(yield j(b));return i(b)}catch(b){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(b).mustfix("Error fetching waveform data for URL: %s",a);return Float32Array.of()}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","asyncToGeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=a.attachmentFbid,g=a.messageId,i=a.threadKey,j=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield j.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=b.attachments;var c=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b).getKeyRange(i,g,e)));c!=null&&(yield b.put(babelHelpers["extends"]({},c,a)))});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":26")});return function(b){return a.apply(this,arguments)}}(),[j,i,g,e])}g["default"]=a}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","asyncToGeneratorRuntime","fetchMWPAudioWaveformDataForURL","promiseDone","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useState,l=3,m=",",n=["blob:","data:"];function a(a,e){var f=k(a.waveformData),g=f[0],h=f[1],o=c("useMWAttachmentUpdater")(a),p=i(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(e!=null&&e!==""){var a=d("ConstUriUtils").getUri(e);if(a!=null&&n.includes(a.getProtocol())){a=(yield c("fetchMWPAudioWaveformDataForURL")(a));a.length>l&&h(a.join(m))}}}),[e]);j(function(){if(g!=null&&g.length>l)return;c("promiseDone")(p())},[p,g]);j(function(){g!=null&&g.length>l&&g!==a.waveformData&&o({waveformData:g})["catch"](function(a){c("FBLogger")("messenger_web_media","audio_waveform_error").catching(a).mustfix("Error from updating attachment waveform data")})},[a.waveformData,o,g]);return g}g["default"]=a}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","useMWAttachmentUpdater"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a,b){var d=c("useMWAttachmentUpdater")(b),e=b.isAttachmentConsumed;i(function(){var b=a==null?void 0:a.current;if(b==null)return;var f=function(){(e==null||e===!1)&&void d({isAttachmentConsumed:!0})["catch"](function(a){c("FBLogger")("messenger_web_media","attachment_update_error").catching(a).mustfix("Error marking attachment as consumed.")})};b.addEventListener("ended",f);return function(){b.removeEventListener("ended",f)}},[a,e,d])}g["default"]=a}),98);
__d("IGDAudioPlayer.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","react","react-compiler-runtime","requireDeferred","stylex","useIGDAttachmentUrl","useIGDAudioControl","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=c("requireDeferred")("MWChatAudioLog").__setRef("IGDAudioPlayer.react");function o(){n.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var b=d("react-compiler-runtime").c(53),e=a.attachment,f=a.isReply,g=a.mediaRenderQpl,i=a.outgoing;a=a.width;f=f===void 0?!1:f;var n=e.playableDurationMs;n=(j||(j=d("I64"))).to_float(n!=null?n:(j||(j=d("I64"))).zero)/1e3;var p=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(e),q=c("useMWPAudioWaveformData.react")(e,p),r=d("MWPAudioPlayerUtils").useControlCenter(p,void 0,void 0,void 0,o,!1,n,g),s=r[0],t=r[1],u=r[2],v=r[3],w=r[4];r=r[5];c("useMWPMarkAudioAttachmentAsConsumed.react")(u,e);var x,y;b[0]!==g||b[1]!==p?(x=function(){p!=null&&(g==null||g.addPoint("render-audio-player"))},y=[g,p],b[0]=g,b[1]=p,b[2]=x,b[3]=y):(x=b[2],y=b[3]);l(x,y);x=s===d("MWPAudioPlayerUtils").State.NONE;y=s===d("MWPAudioPlayerUtils").State.PLAYING;var z=s===d("MWPAudioPlayerUtils").State.PAUSED,A=s===d("MWPAudioPlayerUtils").State.LOADING;s=s===d("MWPAudioPlayerUtils").State.ENDED;var B=y||z,C=m(),D=d("MWPAudioHighlightStylesHooks").useHighlightStyles(i),E=i?"var(--mwp-primary-theme-color)":"rgb(var(--ig-highlight-background))";a=a!=null?a:"218px";var F;b[4]!==E||b[5]!==a?(F={backgroundColor:E,width:a},b[4]=E,b[5]=a,b[6]=F):F=b[6];E=F;a=B?Math.max(n-t,0):0;F=c("useIGDAudioControl")(y,v);v=i?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming;var G=f&&d("MWPAudioPlayerSharedStyles").styles.commonReply,H=i&&f&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply,I;b[7]!==v||b[8]!==G||b[9]!==H?(I=(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common,v,G,H),b[7]=v,b[8]=G,b[9]=H,b[10]=I):I=b[10];b[11]!==f?(v=f?{outline:"unset"}:{},b[11]=f,b[12]=v):v=b[12];G=e.isAttachmentConsumed===!0;b[13]!==x||b[14]!==s||b[15]!==A||b[16]!==z||b[17]!==y||b[18]!==F||b[19]!==i?(H=k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:x,hasEnded:s,isLoading:A,isPaused:z,isPlaying:y,onPress:F,outgoing:i,scrubberRef:C}),b[13]=x,b[14]=s,b[15]=A,b[16]=z,b[17]=y,b[18]=F,b[19]=i,b[20]=H):H=b[20];b[21]!==u||b[22]!==t||b[23]!==n||b[24]!==s||b[25]!==B||b[26]!==D||b[27]!==y||b[28]!==r||b[29]!==i||b[30]!==w||b[31]!==G||b[32]!==H||b[33]!==q?(f=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:u,currentTime:t,duration:n,hasEnded:s,hasScrubber:B,isListened:G,isPlaying:y,onUpdateScrubber:r,outgoing:i,progressHighlightRef:w,scrubberRef:C,waveformData:q,xstyle:D,children:H}),b[21]=u,b[22]=t,b[23]=n,b[24]=s,b[25]=B,b[26]=D,b[27]=y,b[28]=r,b[29]=i,b[30]=w,b[31]=G,b[32]=H,b[33]=q,b[34]=f):f=b[34];b[35]!==y||b[36]!==i||b[37]!==a?(e=k.jsx("div",{children:y?k.jsxs(k.Fragment,{children:[k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:i,time:a}),k.jsx(d("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:i})]}):k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:i,time:a})}),b[35]=y,b[36]=i,b[37]=a,b[38]=e):e=b[38];b[39]!==I||b[40]!==v||b[41]!==f||b[42]!==e?(x=k.jsxs("div",{className:I,style:v,children:[f,e]}),b[39]=I,b[40]=v,b[41]=f,b[42]=e,b[43]=x):x=b[43];b[44]!==u||b[45]!==B||b[46]!==g||b[47]!==E||b[48]!==x?(A=k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:u,hasScrubber:B,mediaRenderQpl:g,scrubberRef:C,style:E,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:x}),b[44]=u,b[45]=B,b[46]=g,b[47]=E,b[48]=x,b[49]=A):A=b[49];b[50]!==u||b[51]!==A?(z=k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:u,children:A}),b[50]=u,b[51]=A,b[52]=z):z=b[52];return z}g["default"]=a}),98);
__d("MWPAudioWaveformUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(a.length>b){var c=a.length/b,d=[];for(var e=0;e<b;e++){var f=e*c,g=(e+1)*c,h=0,i=0;for(var j=Math.ceil(f);j<Math.floor(g);j++)j<a.length&&(i++,h+=a[j]);i+=f-Math.floor(f);h+=(f-Math.floor(f))*a[Math.floor(f)];Math.ceil(g)<a.length&&(i+=Math.ceil(g)-g,h+=(Math.ceil(g)-g)*a[Math.ceil(g)]);i>0&&d.push(h/i)}return d}else return a}function b(a){var b=1,c=0;for(var d=0;d<a.length;d++)b=Math.min(a[d],b),c=Math.max(a[d],c);return b===c?a:a.map(function(a){return-b/(c-b)+1/(c-b)*a})}f.getReducedAudioWaveformDimensions=a;f.getLinearlyInterpolatedValues=b}),66);
__d("MWPAudioWaveform.react",["MWPAudioWaveformUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.height,c=a.waveformData,e=a.waveformId;a=a.width;var f=6,g=a/f,h=b;a=j(function(){return d("MWPAudioWaveformUtils").getLinearlyInterpolatedValues(d("MWPAudioWaveformUtils").getReducedAudioWaveformDimensions(c.split(",").map(function(a){return Number(a)}),g))},[g,e]);return i.jsx("svg",babelHelpers["extends"]({className:"xqtp20y x10l6tqk xnalus7"},{children:i.jsx("defs",{children:i.jsx("clipPath",{id:e,children:a.map(function(a,c){a=Math.max(h*a,4);return i.jsx("rect",{height:a.toString(),rx:"2",width:3..toString(),x:Math.imul(c,f).toString(),y:((b/2|0)-((a|0)/2|0)|0).toString()},c.toString())})})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAudioWaveformPlayer.react",["FDSProgressRingIndeterminate.react","I64","IGDChatTabsEnv","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerIcons.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPAudioWaveform.react","PolarisUA","cr:21503","emptyFunction","qex","react","react-compiler-runtime","stylex","useIGDAttachmentUrl","useIGDAudioControl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useEffect,m=e.useRef,n=50,o={chatTabAudioPlayer:{width:"x1oysuqx",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x7ywyr2",paddingTop:"x1yrsyyn",paddingInlineEnd:"xyri2b",paddingBottom:"x10b6aqq",paddingInlineStart:"x1c1uobl",width:"x1hfn5x7",$$css:!0},mobileAudioPlayer:{width:"x1p6ez6i",$$css:!0},progressPlayedIncoming:{backgroundColor:"x124kx0k",$$css:!0},progressPlayedOutgoing:{backgroundColor:"xz3rzyy",$$css:!0},progressSeek:{transform:"x5i6ehr",$$css:!0},progressSeekIncoming:{backgroundColor:"xdbldzf",$$css:!0},progressSeekOutgoing:{backgroundColor:"xdbldzf",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(4);a=a.outgoing;var c;b[0]!==a?(c={0:{className:"x5yr21d xh8yej3 x1bhxuv2"},1:{className:"x5yr21d xh8yej3 xz3rzyy xuzhngd"}}[!!a<<0],b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=k.jsx("div",babelHelpers["extends"]({},c)),b[2]=c,b[3]=a):a=b[3];return a}function q(a){var b=d("react-compiler-runtime").c(4),c=a.color,e=a.isLoading,f=a.isPlaying;a=a.outgoing;if(e)return null;if(f){e=a?c:void 0;b[0]!==e?(f=k.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:e}),b[0]=e,b[1]=f):f=b[1];return f}e=a?c:void 0;b[2]!==e?(f=k.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:e}),b[2]=e,b[3]=f):f=b[3];return f}function a(a){var e,f=d("react-compiler-runtime").c(64),g=a.attachment,i=a.mediaRenderQpl,r=a.outgoing;a=a.waveformData;var s=m(),t=g.playableDurationMs;t=t!=null?(j||(j=d("I64"))).to_float(t)/1e3:0;var u=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(g),v=d("MWPAudioPlayerUtils").useControlCenter(u,void 0,void 0,void 0,c("emptyFunction"),!0,t,i),w=v[0],x=v[1],y=v[2],z=v[3];v=v[4];var A,B;f[0]!==i||f[1]!==u?(A=function(){u!=null&&(i==null||i.addPoint("render-audio-waveform-player"))},B=[i,u],f[0]=i,f[1]=u,f[2]=A,f[3]=B):(A=f[2],B=f[3]);l(A,B);A=w===d("MWPAudioPlayerUtils").State.PLAYING;B=w===d("MWPAudioPlayerUtils").State.PAUSED;w=w===d("MWPAudioPlayerUtils").State.LOADING;var C=B||A,D=d("MWPAudioPlayerUtils").useResetHighlightProgress(s),E="waveform-clip-path-"+g.messageId,F=w?0:Math.max(t-x,0),G=d("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle(),H=d("IGDChatTabsEnv").useIsChatTabsDisplay();z=c("useIGDAudioControl")(A,z);(e=c("qex")._("1671"))!=null?e:!1;e=H&&o.chatTabAudioPlayer;f[4]!==e?(H=(h||(h=c("stylex")))([o.container,e,d("PolarisUA").isMobile()&&o.mobileAudioPlayer]),f[4]=e,f[5]=H):H=f[5];e=r?"var(--mwp-primary-theme-color)":"rgb(var(--ig-highlight-background))";var I;f[6]!==e?(I={backgroundColor:e,borderRadius:18},f[6]=e,f[7]=I):I=f[7];f[8]!==a||f[9]!==E?(e=k.jsx(c("MWPAudioWaveform.react"),{height:n,waveformData:a,waveformId:E,width:171}),f[8]=a,f[9]=E,f[10]=e):e=f[10];f[11]!==C||f[12]!==w||f[13]!==B||f[14]!==A||f[15]!==z||f[16]!==D||f[17]!==r||f[18]!==G?(a=w?k.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.pressable),onMouseMove:C?D:void 0,style:G,children:k.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16})}):k.jsx("div",{onMouseMove:C?D:void 0,style:G,children:k.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:k.jsx(q,{color:"var(--mwp-primary-theme-color)",isLoading:w,isPaused:B,isPlaying:A,outgoing:r}),label:B?d("MWPAudioPlayerLabels").playLabel:d("MWPAudioPlayerLabels").pauseLabel,onPress:z})}),f[11]=C,f[12]=w,f[13]=B,f[14]=A,f[15]=z,f[16]=D,f[17]=r,f[18]=G,f[19]=a):a=f[19];w=r?"var(--mwp-primary-theme-color)":"rgb(var(--ig-highlight-background))";f[20]!==w?(B={backgroundColor:w,height:"100%"},f[20]=w,f[21]=B):B=f[21];f[22]===Symbol["for"]("react.memo_cache_sentinel")?(A=(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.common),f[22]=A):A=f[22];z="url(#"+E+")";f[23]!==z?(D={clipPath:z},f[23]=z,f[24]=D):D=f[24];f[25]!==r?(G=k.jsx(p,{outgoing:r}),f[25]=r,f[26]=G):G=f[26];w=r?o.progressPlayedOutgoing:o.progressPlayedIncoming;f[27]!==v||f[28]!==w?(E=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:v,xstyle:w}),f[27]=v,f[28]=w,f[29]=E):E=f[29];z=r?o.progressSeekOutgoing:o.progressSeekIncoming;f[30]!==z?(v=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:s,xstyle:[o.progressSeek,z]}),f[30]=z,f[31]=v):v=f[31];f[32]!==x||f[33]!==t?(w=k.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:x,duration:t}),f[32]=x,f[33]=t,f[34]=w):w=f[34];f[35]!==D||f[36]!==G||f[37]!==E||f[38]!==v||f[39]!==w?(z=k.jsxs("div",{className:A,style:D,children:[G,E,v,w]}),f[35]=D,f[36]=G,f[37]=E,f[38]=v,f[39]=w,f[40]=z):z=f[40];f[41]!==y||f[42]!==C||f[43]!==i||f[44]!==B||f[45]!==z?(x=k.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:y,hasScrubber:C,mediaRenderQpl:i,scrubberRef:s,style:B,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.PLAYER,children:z}),f[41]=y,f[42]=C,f[43]=i,f[44]=B,f[45]=z,f[46]=x):x=f[46];f[47]!==r||f[48]!==F?(t=k.jsx(c("MWPAudioPlayerTimer.react"),{outgoing:r,time:F}),f[47]=r,f[48]=F,f[49]=t):t=f[49];f[50]!==g||f[51]!==r||f[52]!==x||f[53]!==t||f[54]!==e||f[55]!==a?(A=k.jsxs(b("cr:21503"),{attachment:g,innerHeight:n,outgoing:r,children:[e,a,x,t]}),f[50]=g,f[51]=r,f[52]=x,f[53]=t,f[54]=e,f[55]=a,f[56]=A):A=f[56];f[57]!==A||f[58]!==H||f[59]!==I?(D=k.jsx("div",{className:H,style:I,children:A}),f[57]=A,f[58]=H,f[59]=I,f[60]=D):D=f[60];f[61]!==y||f[62]!==D?(G=k.jsx(c("MWPAudioPlayerKeyCommands.react"),{audioEl:y,children:D}),f[61]=y,f[62]=D,f[63]=G):G=f[63];return G}g["default"]=a}),98);
__d("IGDAttachmentAudioPlayer.react",["IGDAudioPlayer.react","IGDAudioWaveformPlayer.react","MWPAudioPlayerUtils","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.attachment,f=a.mediaRenderQpl;a=a.outgoing;var g=d("MWPAudioPlayerUtils").useShowNewUX(),h;b[0]!==e||b[1]!==f||b[2]!==a||b[3]!==g?(h=e.waveformData!=null&&e.waveformData!==""&&!g?i.jsx(c("IGDAudioWaveformPlayer.react"),{attachment:e,mediaRenderQpl:f,outgoing:a,waveformData:e.waveformData}):i.jsx(c("IGDAudioPlayer.react"),{attachment:e,mediaRenderQpl:f,outgoing:a,width:d("PolarisUA").isMobile()?"168px":void 0}),b[0]=e,b[1]=f,b[2]=a,b[3]=g,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("IGDMediaSizeUtils",["IGDChatTabsEnv","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=.9,i=340,j=236;function a(a,b){var c=d("react-compiler-runtime").c(3),e=d("IGDChatTabsEnv").useIsChatTabsDisplay();a=a!=null?a:j;b=b!=null?b:i;a=e?a*h:a;e=e?b*h:b;c[0]!==e||c[1]!==a?(b=[a,e],c[0]=e,c[1]=a,c[2]=b):b=c[2];return b}g.CHAT_TAB_MEDIA_SCALED_RATIO=h;g.DEFAULT_MAX_HEIGHT=i;g.DEFAULT_MAX_WIDTH=j;g.useGetMaxSizeForMedia=a}),98);
__d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType",["WAArmadilloXMA.pb","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){switch(a){case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.MEDIA_LABEL:return"media_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.POST_LABEL:return"post_label";case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.NONE:return null;case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.WARNING:case d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE:default:d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Not a valid ExtendedContentOverlayIconGlyph: ",""])),a);return"warning_screens"}}g.convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType=a}),98);
__d("InformTreatmentTitle",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({MISINFORMATION:"misinformation",FALSE_NEWS:"false_news",MISLEADING_NEWS:"misleading_news",MISSING_CONTEXT:"missing_context",ALTERED_MEDIA:"altered_media",AI_GENERATED_CONTENT:"ai_generated_content"});c=a;f["default"]=c}),66);
__d("MWXIconEyeCross",["MWXSvgIcon","SVGIcon","cr:22310","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22310")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconInfoCircle",["MWXSvgIcon","SVGIcon","cr:22371","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22371")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXImage.react",["cr:1261","cr:2838","cr:6682","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["objectFit","src"],i,j=i||d("react");function a(a){var c=a.objectFit,d=a.src;a=babelHelpers.objectWithoutPropertiesLoose(a,h);if(b("cr:6682")!=null)return j.jsx(b("cr:6682"),babelHelpers["extends"]({objectFit:c,src:d},a));if(typeof d==="string")return b("cr:2838")!=null?j.jsx(b("cr:2838"),babelHelpers["extends"]({objectFit:c,src:d},a)):null;else return b("cr:1261")!=null?j.jsx(b("cr:1261"),babelHelpers["extends"]({src:d},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerWellbeingInformTreatmentFalcoEventLogger",["$InternalEnum","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var i=c("requireDeferred")("MwbCmInformTreatmentEventFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger"),j=c("requireDeferred")("MwbInformTreatmentShownImpressionFalcoEvent").__setRef("MessengerWellbeingInformTreatmentFalcoEventLogger");e=b("$InternalEnum")({AI_GENERATED_CONTENT:"ai_generated_content",MISINFORMATION:"misinformation"});function a(a){var b=babelHelpers["extends"]({},(h(a),a));i.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}function d(a){var b=babelHelpers["extends"]({},(h(a),a));j.onReady(function(a){return a.log(function(){return babelHelpers["extends"]({},b)})})}g.MWInformTreatmentEventName=e;g.logForCM=a;g.logForPrivateChats=d}),98);
__d("useCommunityFolder",["MWPreloadableQueries","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCommunityFolderQuery(b,a.parentThreadKey)},[b,a.parentThreadKey],f.id+":26")}g["default"]=a}),98);
__d("useMWInformTreatmentFalcoEventLogger",["I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWLSThread","MessengerWellbeingInformTreatmentFalcoEventLogger","ReQL","ReQLSuspense","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=a.message,e=(j||(j=c("useReStore")))(),g=d("MWLSThread").useThreadExn(b.threadKey);a=c("useCommunityFolder")(g);var k=(a=a==null?void 0:a.fbGroupId)!=null?a:(h||(h=d("I64"))).zero,l=d("LSMessagingThreadTypeUtil").isPublicCMThread(g.threadType),m=d("LSMessagingThreadTypeUtil").isOpenFnFThread(g),n=!(h||(h=d("I64"))).equal(b.displayedContentTypes,(i||(i=d("LSIntEnum"))).ofNumber(1)),o=d("ReQLSuspense").useFirst(function(){return n?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(b.threadKey,b.messageId):d("ReQL").empty()},[n,e.tables.attachments,b.threadKey,b.messageId],f.id+":63");return d("Int64Hooks").useCallbackInt64(function(a,c){if(l)d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForCM({attachment_id:o==null?void 0:o.attachmentFbid,event_name:a,group_id:(h||(h=d("I64"))).to_string(k),inform_treatment:c!=null?{name:c.name,type:c.type}:void 0,is_forward:b.isForwarded,message_id:b.messageId,thread_id:h.to_string(b.threadKey),thread_subtype:g.threadSubtype!=null?(i||(i=d("LSIntEnum"))).unwrapIntEnum(g.threadSubtype):void 0});else if(m&&a==="impression"){d("MessengerWellbeingInformTreatmentFalcoEventLogger").logForPrivateChats({inform_treatment_name:c!=null?c==null?void 0:c.name:void 0,inform_treatment_type:(a=c==null?void 0:c.type)!=null?a:void 0,thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(g.threadType)})}},[o==null?void 0:o.attachmentFbid,k,m,l,b.isForwarded,b.messageId,b.threadKey,g.threadSubtype,g.threadType])}g["default"]=a}),98);
__d("MWInformedTreatment.react",["fbt","FDSBlurredBackgroundImage.react","LSMessagingThreadTypeUtil","MWXColumn.react","MWXColumnItem.react","MWXIconEyeCross","MWXIconInfoCircle","MWXIconStrict.react","MWXImage.react","MWXText.react","MessengerWebUXLogger","ReQL","ReQLSuspense","gkx","qex","react","useMWInformTreatmentFalcoEventLogger","useMergeRefs","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={overlay:{paddingTop:"xexx8yu",paddingInlineEnd:"x2vl965",paddingBottom:"x18d9i69",paddingInlineStart:"xe2zdcy",width:"xh8yej3",$$css:!0},post:{flexGrow:"x1iyjqo2",height:"x5yr21d",objectFit:"xl1xv1r",width:"xh8yej3",$$css:!0}},m={AI_GENERATED_CONTENT:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"AI info")},ALTERED_MEDIA:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Altered media")},ALTERED_PHOTO:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Altered photo")},CRUEL:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Cruel content")},FALSE_NEWS:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"False information")},MISLEADING_NEWS:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"Partly false")},MISSING_CONTEXT:{icon:c("MWXIconInfoCircle"),text:h._(/*BTDS*/"Missing context")},SENSITIVE:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Sensitive content")},VIOLENCE:{icon:c("MWXIconEyeCross"),text:h._(/*BTDS*/"Sensitive content")}},n=h._(/*BTDS*/"View post for more info");function a(a,b,e,f){if(f==null||a==null||b==null||e==null)return!1;b=a==="ai_generated_content";e=f!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(f);a=f!=null&&d("LSMessagingThreadTypeUtil").isPublicCMThread(f);if(b)return c("qex")._("1581")===!0;else return e||a}function o(a){switch(a){case"ai_generated_content":return"ai_generated_content";case"misinformation":return"misleading_news";case"misleading_news":return"missing_context";case"missing_context":return"altered_media";case"altered_media":return"altered_media";case"false_news":return"false_news";default:return null}}function b(a){var b=a.dimension,e=a.gatingTitle,g=a.gatingType,h=a.isXMA,j=h===void 0?!1:h,p=a.mediaRenderQpl,q=a.messageId;h=a.previewUrl;var r=h===void 0?"":h,s=a.xstyle,t=(i||(i=c("useReStore")))();h=d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(t.tables.messages.index("messageId")).getKeyRange(q)},[t,q],f.id+":252");var u=c("gkx")("23219"),v=function(a){var b=Object.keys(m).find(function(b){return b===a.toUpperCase()});return b},w=function(a){var b;a=v(a);return a==null||((b=m[a])==null?void 0:b.icon)==null?c("MWXIconEyeCross"):m[a].icon},x=function(a){var b;a=v(a);return a==null||((b=m[a])==null?void 0:b.text)==null?null:m[a].text};a=function(a){switch(a){case"warning_screens":return k.jsx("div",babelHelpers["extends"]({className:"xbudbmw x10l6tqk xwa60dl x11lhmoz xh8yej3"},{children:k.jsxs(c("MWXColumn.react"),{spacing:12,verticalAlign:"center",children:[k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:w(e),size:32})}),k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",numberOfLines:1,type:u?"bodyLink3":"bodyLink4",children:x(e)})}),j?k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"white",type:u?"meta3":"meta4",children:n})}):null]})}));case"media_label":case"post_label":return k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x1gevrdp x1fk37vd x1bmkqan xqb0rpr xsdp72b x12ol6y4 x180vkcf x1khw62d x709u02 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xe80o0v x1ihrfj4 x78zum5 x10w6t97 x9q68il xyqdw3p x2vl965 xg8j3zb x25sj25 x10l6tqk xpse7mg x1tk7jg1 xuxw1ft x1vvkbs"},{children:[k.jsx(c("MWXIconStrict.react"),{color:"white",icon:w(e),size:24}),k.jsx(c("MWXText.react"),{align:"center",color:"white",type:u?"bodyLink3":"bodyLink4",children:x(e)})]}));default:return null}};var y=function(a){switch(a){case"warning_screens":case"media_label":case"post_label":return a;default:return null}},z=function(a){switch(a){case"media_label":case"post_label":return k.jsx("div",{style:b,children:k.jsx(c("MWXImage.react"),{alt:"",onError:function(){return p==null?void 0:p.endFail("load-image-error")},onLoad:function(){return p==null?void 0:p.endSuccess()},src:r,xstyle:l.post})});case"warning_screens":default:return k.jsxs("div",{style:b,children:[k.jsx(c("FDSBlurredBackgroundImage.react"),{alt:"",onError:function(){return p==null?void 0:p.endFail("load-image-error")},onLoad:function(){return p==null?void 0:p.endSuccess()},src:r,xstyle:[l.post,s,l.overlay]}),k.jsx("div",{className:"x18l40ae x1ey2m1c xtea3wc xtijo5x x1o0tod x47corl x10l6tqk x13vifvy"})]})}},A=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"inform_treatment_chat_impression"}),B=c("useMWInformTreatmentFalcoEventLogger")({message:h});h=c("useSinglePartialViewImpression")({onImpressionStart:function(){var a=o(e),b=y(g.toLocaleLowerCase());a!=null&&b!=null&&B("impression",{name:a,type:b})}});A=c("useMergeRefs")(A,h);return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x5yr21d x1n2onr6 xh8yej3"},{ref:A,children:[z(g.toLocaleLowerCase()),a(g.toLocaleLowerCase())]}))}b.displayName=b.name+" [from "+f.id+"]";g.checkIsInformedTreatmentVisible=a;g.getEventTitle=o;g.MWInformedTreatment=b}),226);
__d("MWXIconHd",["MWXSvgIcon","SVGIcon","cr:22362","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22362")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXMessageImage.react",["BaseImage.react","FDSBlurredBackgroundImage.react","MWXAspectRatioContainer.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","height","maxHeight","maxWidth","renderImagePlaceholder","shouldBlur","width","xstyle"],i,j,k=j||d("react"),l={container:function(a){return[{maxWidth:a==null?null:"x10cxd3o",$$css:!0},{"--maxWidth":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},image:{display:"x1lliihq",maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=a.children,d=a.height,e=a.maxHeight,f=a.maxWidth,g=a.renderImagePlaceholder,j=a.shouldBlur,m=a.width,n=a.xstyle,o=babelHelpers.objectWithoutPropertiesLoose(a,h);a=m==null||d==null?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(l.container(f)),{children:(a=g==null?void 0:g())!=null?a:k.jsx(c("BaseImage.react"),babelHelpers["extends"]({},o,{objectFit:"contain",style:{maxHeight:e+"px"},xstyle:l.image}))})):k.jsx(c("MWXAspectRatioContainer.react"),{height:d,maxHeight:e,maxWidth:f,width:m,children:function(a){var b;return(b=g==null?void 0:g())!=null?b:j!==!0?k.jsx(c("BaseImage.react"),babelHelpers["extends"]({height:d,width:m,xstyle:a},o)):k.jsx(c("FDSBlurredBackgroundImage.react"),babelHelpers["extends"]({xstyle:a},o))}});return k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n),{children:[a,b]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListImage.react",["LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXIconHd","MWXIconStrict.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","MWXPressable.react","MWXThreadThemeColor","ReQL","ReQLSuspense","gkx","react","stylex","useMWInformTreatmentFalcoEventLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=["attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"],i,j,k,l=k||(k=d("react"));b=k;var m=b.useCallback,n=b.useState,o={appAttr:{alignItems:"x6s0dn4",borderBottomWidth:"xso031l",borderTopColor:"x1pdss0j",borderInlineEndColor:"x1593r2a",borderBottomColor:"x81c4ja",borderInlineStartColor:"xewde0t",borderInlineEndWidth:"x1lun4ml",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",boxSizing:"x9f619",display:"x78zum5",lineHeight:"x1rfph6h",paddingTop:"x1iorvi4",paddingInlineEnd:"x1icxu4v",paddingBottom:"xjkvuk6",paddingInlineStart:"x25sj25",$$css:!0},appIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xlup9mm",marginInlineEnd:"xbelrpt",objectFit:"x19kjcj4",width:"x1kky2od",$$css:!0},hdOverlay:function(a){return[{insetInlineEnd:(a==="end"?"10px":void 0)==null?null:"xnfry5u",insetInlineStart:(a==="start"?"10px":void 0)==null?null:"xj23xk1",left:null,right:null,position:"x10l6tqk",top:"xuivejd",$$css:!0},{"--insetInlineEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a==="end"?"10px":void 0),"--insetInlineStart":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a==="start"?"10px":void 0)}]},hdOverlayContainer:function(a,b){return[{height:(a!=null?a+"px":"100%")==null?null:"x1f5funs",insetInlineStart:"xbudbmw",left:null,right:null,position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",width:(b!=null?b+"px":"100%")==null?null:"x1bl4301",$$css:!0},{"--height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a!=null?a+"px":"100%"),"--width":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(b!=null?b+"px":"100%")}]},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexShrink:"xs83m0k",justifyContent:"xl56j7k",maxHeight:"xmz0i5r",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function p(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.outgoing;a=a.xstyle;g=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g===!0?"right":"left",connectBottom:e,connectTop:f,flatten:"top"});e=b;f=e.attributionAppName;if(f==null)return null;b=e.attributionAppIcon;return l.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.appAttr,a,g),{children:[b!=null?l.jsx(c("MWXImage.react"),{alt:"",src:b,xstyle:o.appIcon}):null,l.jsx("span",babelHelpers["extends"]({className:"xzsf02u x1nxh6w3 x13faqbe"},{children:f}))]}))}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.attachment,e=a.overlayAlign;e=e===void 0?"end":e;var f=a.overlayHeight;a=a.overlayWidth;b=b;b=b.isHd===!0;return!b?null:l.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(o.hdOverlayContainer(f,a)),{children:l.jsx("div",babelHelpers["extends"]({},i.props(o.hdOverlay(e)),{"data-testid":void 0,children:l.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("rgba(255,255,255,0.7)"),icon:c("MWXIconHd"),size:18})}))}))}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.attachment,e=a.height,g=a.setIsBlurredImageVisible;a=a.width;var h=(j||(j=c("useReStore")))(),i=d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(h.tables.messages.index("messageId")).getKeyRange(b.messageId)},[b.messageId,h],f.id+":170"),k=c("useMWInformTreatmentFalcoEventLogger")({message:i});i=(i=d("MWLSThread").useThread(b.threadKey,function(a){return{isSecureThread:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),threadType:a.threadType}}))!=null?i:{isSecureThread:!1,threadType:null};var m=i.isSecureThread;i=i.threadType;var n=b.gatingTitle,p=b.gatingType,q=b.previewUrl;m=m?d("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(p,10)):p;p=d("MWInformedTreatment.react").checkIsInformedTreatmentVisible(n,m,q,i);if(m==null||n==null||!p)return null;i=m==="warning_screens";p=l.jsx(d("MWInformedTreatment.react").MWInformedTreatment,{dimension:{height:e+"px",width:a!=null?a+"px":"100%"},gatingTitle:n,gatingType:m,mediaRenderQpl:null,messageId:b.messageId,previewUrl:q});return i?l.jsx(c("MWXPressable.react"),{onPress:function(){var a=d("MWInformedTreatment.react").getEventTitle(n);g(!0);a!=null&&k("tap_to_reveal",{name:a,type:"warning_screens"})},overlayRadius:"normal",xstyle:o.pressable,children:p}):p}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.attachment,e=a.connectBottom,f=a.connectTop,g=a.outgoing,i=a.overlayAlign,j=a.overlayHeight,k=a.overlayWidth,s=a.xstyle,t=babelHelpers.objectWithoutPropertiesLoose(a,h);a=b.attributionAppName!=null;a=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:g===!0?"right":"left",connectBottom:e,connectTop:f,flatten:a===!0?"bottom":"none"});var u=n(!1),v=u[0],w=u[1];u=(u=d("MWLSThread").useThread(b.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isPublicCMThread(a.threadType)}))!=null?u:!1;var x=c("gkx")("179"),y=b.gatingTitle==="misinformation"||b.gatingTitle==="misleading_news"||b.gatingTitle==="missing_context"||b.gatingTitle==="missing_context"||b.gatingTitle==="altered_media"||b.gatingTitle==="false_news";y=y&&x;x=!v&&b.gatingTitle!=null&&b.gatingType!=null&&u&&!y;v=m(function(){var a=t.height,c=t.maxHeight,d=t.maxWidth,e=t.width;return l.jsx(r,{attachment:b,height:a!=null?Math.min(a,c):c,setIsBlurredImageVisible:w,width:e!=null&&d!=null?Math.min(e,d):e!=null?e:d})},[b,t]);return l.jsxs(c("MWXMessageImage.react"),babelHelpers["extends"]({renderImagePlaceholder:x?v:void 0,xstyle:[o.root,s,a]},t,{children:[l.jsx(p,{attachment:b,connectBottom:e,connectTop:f,outgoing:g,xstyle:s}),l.jsx(q,{attachment:b,overlayAlign:i,overlayHeight:j,overlayWidth:k})]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageListImageAppAttribution=p;g.MWPMessageListImageHdWatermark=q;g.InformedTreatment=r;g.MWPMessageListImage=a}),98);
__d("IGDMessageListAnimatedImageThumbnailWithPlayButton.react",["fbt","MWPMessageListImage.react","MWV2AttachmentLoadingPlaceholder.react","MWVideoPlayerPlayButton.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","react","react-compiler-runtime","useFetchAnimatedImageThumbnail"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["mediaRenderQpl","onPlay","renderImagePlaceholder","attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"],j,k=j||d("react"),l={root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(42);if(b[0]!==a){var e=a.mediaRenderQpl,f=a.onPlay,g=a.renderImagePlaceholder,j=a.attachment,m=a.connectBottom,n=a.connectTop,o=a.outgoing;a.overlayAlign;a.overlayHeight;a.overlayWidth;var p=a.xstyle,q=babelHelpers.objectWithoutPropertiesLoose(a,i);e=e;f=f;g=g;j=j;m=m;n=n;o=o;p=p;q=q;b[0]=a;b[1]=j;b[2]=m;b[3]=n;b[4]=q;b[5]=e;b[6]=f;b[7]=o;b[8]=g;b[9]=p}else j=b[1],m=b[2],n=b[3],q=b[4],e=b[5],f=b[6],o=b[7],g=b[8],p=b[9];a=q;var r=a.height,s=a.src;a=a.width;s=c("useFetchAnimatedImageThumbnail")(s,j,r!=null?r:200,a!=null?a:200,e);e=s.gifThumbnail;var t=s.onError;s=s.onLoad;var u=j.attributionAppName!=null,v=o===!0?"right":"left";u=u===!0?"bottom":"none";var w;b[10]!==m||b[11]!==n||b[12]!==v||b[13]!==u?(w=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:v,connectBottom:m,connectTop:n,flatten:u}),b[10]=m,b[11]=n,b[12]=v,b[13]=u,b[14]=w):w=b[14];v=w;u=(w=(w=(u=j)==null?void 0:u.accessibilitySummaryText)!=null?w:(u=j)==null?void 0:u.titleText)!=null?w:"";b[15]!==u?(w=h._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[h._param("gif_alt_text",u)]),b[15]=u,b[16]=w):w=b[16];w=w;if(e==null){var x;b[17]!==r||b[18]!==a?(x=k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"IGDMessageListAnimatedImageThumbnailWithPlayButton.NoGIFThumbnail",height:r,width:a}),b[17]=r,b[18]=a,b[19]=x):x=b[19];return x}b[20]!==v||b[21]!==p?(r=[l.root,p,v],b[20]=v,b[21]=p,b[22]=r):r=b[22];b[23]!==j||b[24]!==m||b[25]!==n||b[26]!==o||b[27]!==p?(a=k.jsx(d("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:j,connectBottom:m,connectTop:n,outgoing:o,xstyle:p}),b[23]=j,b[24]=m,b[25]=n,b[26]=o,b[27]=p,b[28]=a):a=b[28];b[29]!==w||b[30]!==f?(x=k.jsx(c("MWVideoPlayerPlayButton.react"),{alt:w,isVisible:!0,onClick:f,size:"LARGE"}),b[29]=w,b[30]=f,b[31]=x):x=b[31];b[32]!==u||b[33]!==e||b[34]!==q||b[35]!==t||b[36]!==s||b[37]!==g||b[38]!==r||b[39]!==a||b[40]!==x?(v=k.jsxs(c("MWXMessageImage.react"),babelHelpers["extends"]({},q,{alt:u,onError:t,onLoad:s,renderImagePlaceholder:g,src:e,xstyle:r,children:[a,x]})),b[32]=u,b[33]=e,b[34]=q,b[35]=t,b[36]=s,b[37]=g,b[38]=r,b[39]=a,b[40]=x,b[41]=v):v=b[41];return v}g["default"]=a}),226);
__d("IGDMessageListPausableImage.react",["CometPressable.react","IGDMessageListAnimatedImageThumbnailWithPlayButton.react","LSMessagingThreadTypeUtil","MWLSThread","MWPMessageListImage.react","MWXMessageBubbleCornerStyles.react","MWXMessageImage.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["mediaRenderQpl","attachment","connectBottom","connectTop","outgoing","overlayAlign","overlayHeight","overlayWidth","xstyle"],i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l={root:{display:"x78zum5",flexDirection:"xdt5ytf",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(41),e,f;if(b[0]!==a){var g=a.mediaRenderQpl,i=a.attachment,n=a.connectBottom,o=a.connectTop,p=a.outgoing;a.overlayAlign;a.overlayHeight;a.overlayWidth;var q=a.xstyle,r=babelHelpers.objectWithoutPropertiesLoose(a,h);g=g;e=i;i=n;n=o;o=p;p=q;f=r;b[0]=a;b[1]=e;b[2]=i;b[3]=n;b[4]=f;b[5]=g;b[6]=o;b[7]=p}else e=b[1],i=b[2],n=b[3],f=b[4],g=b[5],o=b[6],p=b[7];q=k(!0);r=q[0];var s=q[1];a=e.attributionAppName!=null;q=o===!0?"right":"left";a=a===!0?"bottom":"none";var t;b[8]!==i||b[9]!==n||b[10]!==q||b[11]!==a?(t=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:q,connectBottom:i,connectTop:n,flatten:a}),b[8]=i,b[9]=n,b[10]=q,b[11]=a,b[12]=t):t=b[12];q=t;a=k(!1);t=a[0];var u=a[1];a=(a=d("MWLSThread").useThread(e.threadKey,m))!=null?a:!1;var v=c("gkx")("12109"),w=e.gatingTitle==="misinformation"||e.gatingTitle==="misleading_news"||e.gatingTitle==="missing_context"||e.gatingTitle==="missing_context"||e.gatingTitle==="altered_media"||e.gatingTitle==="false_news";w=w&&v;v=!t&&e.gatingTitle!=null&&e.gatingType!=null&&a&&!w;b[13]!==e||b[14]!==f?(t=function(){var a=f,b=a.height,c=a.maxHeight,g=a.maxWidth;a=a.width;return j.jsx(d("MWPMessageListImage.react").InformedTreatment,{attachment:e,height:b!=null?Math.min(b,c):c,setIsBlurredImageVisible:u,width:a!=null&&g!=null?Math.min(a,g):a!=null?a:g})},b[13]=e,b[14]=f,b[15]=t):t=b[15];a=t;if(r){b[16]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(){return s(!1)},b[16]=w):w=b[16];t=v?a:void 0;b[17]!==e||b[18]!==i||b[19]!==n||b[20]!==f||b[21]!==g||b[22]!==o||b[23]!==t||b[24]!==p?(r=j.jsx(c("IGDMessageListAnimatedImageThumbnailWithPlayButton.react"),babelHelpers["extends"]({onPlay:w,renderImagePlaceholder:t,xstyle:p},f,{attachment:e,connectBottom:i,connectTop:n,mediaRenderQpl:g,outgoing:o})),b[17]=e,b[18]=i,b[19]=n,b[20]=f,b[21]=g,b[22]=o,b[23]=t,b[24]=p,b[25]=r):r=b[25];return r}b[26]===Symbol["for"]("react.memo_cache_sentinel")?(w=function(){return s(!0)},b[26]=w):w=b[26];g=v?a:void 0;b[27]!==q||b[28]!==p?(t=[l.root,p,q],b[27]=q,b[28]=p,b[29]=t):t=b[29];b[30]!==e||b[31]!==i||b[32]!==n||b[33]!==o||b[34]!==p?(r=j.jsx(d("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:e,connectBottom:i,connectTop:n,outgoing:o,xstyle:p}),b[30]=e,b[31]=i,b[32]=n,b[33]=o,b[34]=p,b[35]=r):r=b[35];b[36]!==f||b[37]!==g||b[38]!==t||b[39]!==r?(v=j.jsx(c("CometPressable.react"),{onPress:w,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:j.jsx(c("MWXMessageImage.react"),babelHelpers["extends"]({renderImagePlaceholder:g,xstyle:t},f,{children:r}))}),b[36]=f,b[37]=g,b[38]=t,b[39]=r,b[40]=v):v=b[40];return v}function m(a){return d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)||d("LSMessagingThreadTypeUtil").isPublicCMThread(a.threadType)}g.IGDMessageListPausableImage=a}),98);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect;function a(a){var e=a.allowClickEventPropagation,f=a.ariaLabel,g=a.attachment,h=a.children,m=a.disabled,n=a.linkProps_,o=a.mediaRenderQpl,p=a.onHoverIn,q=a.onPress,r=a.overlayDisabled;r=r===void 0?!1:r;var s=a.testid;s=a.xstyle;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.blurMediaEnabled;var t=c("gkx")("24098")&&a;a=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));var u=(i||(i=d("I64"))).equal(g.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)),v=a?"Image":u?"Video":"Media";l(function(){o==null||o.addPoint("render-message-list-media-pressable-container",{bool:{is_blur_media:t},string:{media_type:v}})},[t,o,v]);return b("cr:4509")!=null&&(a||u)&&t?k.jsx(b("cr:4509"),{ariaLabel:f,disabled:m,linkProps:n,mediaType:v,onPress:q,overlayDisabled:r,testid:void 0,type:u?"video":"image",url:d("LSMediaUrlAttachment").previewUrl(g),xstyle:s,children:h}):k.jsx(c("MWXPressable.react"),{allowClickEventPropagation:e,"aria-label":f,disabled:m,linkProps:n,onHoverIn:p,onPress:function(){return q()},overlayDisabled:r,testid:void 0,xstyle:s,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPColorUtils",["I64","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(a){return"#"+a.map(function(a){return a.toString(16).padStart(2,"0")}).join("")};function j(a){a=(h||(h=d("I64"))).to_int32(a);var b=(a&16711680)>>>16,c=(a&65280)>>>8;a=a&255;return[b,c,a]}function k(a){var b=a[0],c=a[1];a=a[2];return(h||(h=d("I64"))).of_int32((b<<16)+(c<<8)+a)}function l(a,b,c){return[Math.round(a[0]*c+b[0]*(1-c)),Math.round(a[1]*c+b[1]*(1-c)),Math.round(a[2]*c+b[2]*(1-c))]}function a(a){a=Number("0x"+a.slice(2));return k([a>>16&255,a>>8&255,a&255])}function b(a,b,c){a=j(a);b=j(b);return i(l(a,b,c))}function e(a,b,c){a=j(a);b=j(b);a=l(a,b,c);return k(a)}function m(a){return i(j(a))}function f(a,b){var c=j(a),d=c[0],e=c[1];c=c[2];return b!=null?"rgba("+d+", "+e+", "+c+", "+b+")":m(a)}function n(a,b){a=[].concat(a).sort(function(a,b){return(h||(h=d("I64"))).to_int32(a.gradientIndex)-h.to_int32(b.gradientIndex)|0}).map(function(a){return m(a.color)});var e=a.length;if(e!==1){if(e!==0){e=b!=null;var f=[];b!=null&&f.push(a[0]+" calc(100vh - "+String(b.totalHeight)+"px + "+String(b.headerHeight)+"px)");for(var g=e?1:0,e=a.length-(e?2:1)|0;g<=e;++g)f.push(a[g]);b!=null&&(f.push(a[a.length-1|0]+" calc(100% - "+String(b.footerHeight)+"px)"),f.push(a[a.length-1|0]));g=f.join(", ");return"linear-gradient("+g+")"}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}c("recoverableViolation")("Not enough colors for a gradient","messenger_comet");return""}g.i64toRgb=j;g.hexToI64=a;g.combineColors=b;g.combineColorsAsI64=e;g.int64ToHex=m;g.int64ToRGBA=f;g.gradient=n}),98);
__d("MWPThreadThemeGradientUtils",["MWPColorUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.outgoingGradientColors;a=a.threadTheme;b=b[0];return(b=b==null?void 0:b.color)!=null?b:a.fallbackColor}function a(a){return d("MWPColorUtils").int64ToHex(h(a))}function i(a){var b=a.outgoingGradientColors;a=a.threadTheme;b=b[b.length-1];return(b=b==null?void 0:b.color)!=null?b:a.fallbackColor}function b(a){return d("MWPColorUtils").int64ToHex(i(a))}function c(a){return a.outgoingGradientColors.length>1}g.getTopGradientColorI64=h;g.getTopGradientColor=a;g.getBottomGradientColorI64=i;g.getBottomGradientColor=b;g.isGradient=c}),98);
__d("MWV2IsTabFocusedContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(!1);function a(a){var b=a.children;a=a.isFocused;return i.jsx(k.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MWV2IsTabFocusedContextProvider=a;g.useIsTabFocused=b}),98);
__d("MessengerAppColorMode",[],(function(a,b,c,d,e,f){a=Object.freeze({NORMAL:1,DARK:2,NONE:3});f["default"]=a}),66);
__d("useMWIsBroadcastChannelViewer",["LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i=(b=d("MWLSThread").useThread(a,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1;b=(b=d("ReQLSuspense").useFirst(function(){return a!=null&&i?d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a,g).map(function(a){return a.isAdmin!==!0&&a.isSuperAdmin!==!0&&a.isModerator!==!0}):d("ReQL").empty()},[e,a,g,i],f.id+":31"))!=null?b:!1;return i&&b}g["default"]=a}),98);
__d("MWPThemeCSSProvider.react",["BaseTheme.react","I64","LSIntEnum","MWLSThread","MWLSThreadDisplayContext","MWPColorUtils","MWPThreadThemeGradientUtils","MWThreadKey.react","MWV2IsTabFocusedContext.react","MessengerAppColorMode","gkx","react","useMWIsBroadcastChannelViewer","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useMemo,m={expand:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x193iq5w",$$css:!0}};function n(a,b){b=(b=d("MWLSThread").useThread(b,function(a){return(i||(i=d("I64"))).lt(a.lastReadWatermarkTimestampMs,a.lastActivityTimestampMs)}))!=null?b:!1;return b&&!a}function o(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b=a==="ChatTab";a=a==="Inbox";return!b&&!a?!1:b||c("gkx")("24031")}function p(){var a=d("MWThreadKey.react").useMWThreadKeyMemoized(),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",e=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),f=n(e,a),g=c("useMWIsBroadcastChannelViewer")(a),h=c("useMWPThreadTheme")(),k=o();return l(function(){var a,l,m,n,o=c("gkx")("24057"),p=h.backgroundGradientColors,q=h.incomingGradientColors,r=h.outgoingGradientColors,s=h.threadTheme,t=s.appColorMode,u=s.backgroundUrl,v=s.composerBackgroundColor,w=s.composerInputBackgroundColor,x=s.composerInputBorderColor,y=s.composerInputBorderWidth,z=s.composerInputTextPlaceholderColor,A=s.composerPlaceholderTextColor,B=s.composerTintColor,C=s.deliveryReceiptColor,D=s.fallbackColor,E=s.incomingMessageBorderColor,F=s.incomingMessageBorderWidth,G=s.incomingMessageTextColor,H=s.messageBorderColor,I=s.messageBorderWidth,J=s.messageTextColor,K=s.primaryButtonBackgroundColor,L=s.quotedIncomingMessageBubbleColor,M=s.reactionPillBackgroundColor,N=s.secondaryTextColor,O=s.tertiaryTextColor,P=s.titlebarAttributionTextColor,Q=s.titlebarBackgroundColor,R=s.titlebarButtonTintColor;s=s.titlebarTextColor;t=(i||(i=d("I64"))).equal(t,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerAppColorMode").DARK));u=Boolean(u==null?void 0:u.length);var S=r.length>1,T=p.length>0;u=k&&(u||T);T=u&&"4px"||"0px";o=o?"96px":g?"28px":"84px";R=(k&&R!=null?R:null)||d("MWPThreadThemeGradientUtils").getTopGradientColorI64(h);var U=(k&&B!=null?B:null)||d("MWPThreadThemeGradientUtils").getBottomGradientColorI64(h);p=p==null||(a=p[(p==null?void 0:p.length)-1])==null?void 0:a.color;q=q==null||(l=q[0])==null?void 0:l.color;m=(m=r==null||(n=r[r.length-1])==null?void 0:n.color)!=null?m:D;r=r&&r.length>1&&d("MWPColorUtils").gradient(r,b?{footerHeight:56,headerHeight:48,totalHeight:455}:void 0);N={"chat-admin-text-color":k&&(N!=null||O),"chat-composer-background-color":k&&v,"chat-composer-button-color":U,"chat-composer-caret-color":k&&U,"chat-composer-input-background-color":k&&w!=null||"var(--comment-background)","chat-composer-input-border-color":k&&x,"chat-composer-input-border-width":k&&y,"chat-composer-input-text-placeholder-color":k&&z,"chat-composer-placeholder-text-color":k&&A,"chat-delivery-receipt-color":k&&C,"chat-edit-message-overlay-color":p!=null?p:"var(--surface-background)","chat-incoming-message-border-color":k&&E,"chat-incoming-message-border-width":k&&F,"chat-incoming-message-bubble-background-color":k&&q,"chat-incoming-message-text-color":k&&G,"chat-message-border-color":k&&H,"chat-message-border-width":k&&I,"chat-message-text-color":k&&J,"chat-outgoing-message-background-gradient":!u&&r?r:"initial","chat-outgoing-message-bubble-background-color":S&&!u?"transparent":m,"chat-primary-button-background-color":k&&K,"chat-quoted-incoming-message-bubble-color":k&&L,"chat-replied-message-background-color":k&&p&&q&&d("MWPColorUtils").combineColors(p,q,.4),"chat-scrollbar-thumb-color":u&&p&&d("MWPColorUtils").int64ToRGBA(d("MWPColorUtils").combineColorsAsI64(d("MWPColorUtils").combineColorsAsI64(m,p,.6),t?(i||(i=d("I64"))).of_int32(16777215):(i||(i=d("I64"))).of_int32(0),.6),.7),"chat-scrollbar-track-color":u&&"transparent","mwp-header-background-color":k&&Q,"mwp-header-button-color":R,"mwp-header-text-color":k&&s,"mwp-message-list-actions-gap":T,"mwp-message-list-actions-width":"calc("+o+" + 2*"+T+")","mwp-message-row-background":u?"transparent":"var(--messenger-card-background)","mwp-primary-theme-color":D,"mwp-subheader-text-color":k&&P,"reaction-pill-background-color":k?M:"var(--wash)","reaction-pill-multireact-selected-color":d("MWPColorUtils").combineColorsAsI64(D,i.of_int32(16777215),.22),"text-highlight":k&&B!=null&&d("MWPColorUtils").int64ToRGBA(B,t?.5:.2)};e||(k?(N["chat-composer-button-color"]=d("MWPColorUtils").int64ToRGBA(U,.6),N["mwp-header-button-color"]=d("MWPColorUtils").int64ToRGBA(R,.6)):(N["chat-composer-button-color"]="var(--disabled-icon)",N["mwp-header-button-color"]="var(--disabled-icon)"));f&&(N["mwp-header-button-color"]="var(--always-white)",N["mwp-header-text-color"]="var(--always-white)",N["mwp-header-background-color"]=R);(N["mwp-subheader-text-color"]==null||typeof N["mwp-subheader-text-color"]==="boolean")&&(N["mwp-subheader-text-color"]=N["mwp-header-text-color"]);O={};for(v in N){w=N[v];if(w==null||typeof w==="boolean")continue;else typeof w==="string"?O[v]=w:O[v]=d("MWPColorUtils").int64ToHex(w)}return O},[g,b,f,e,h])}function a(a){var b=p();return k.jsx(c("BaseTheme.react"),babelHelpers["extends"]({},a,{config:{dark:b,light:b,type:"VARIABLES"},xstyle:[m.expand,a.xstyle]}))}a.displayName=a.name+" [from "+f.id+"]";g.useIsThemeV2=o;g.MWPThemeCSSProvider=a}),98);
__d("MWPThreadThemeContext",["defaultMWPThreadTheme","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=babelHelpers["extends"]({},d("defaultMWPThreadTheme").defaultThemeWithColorsV1,{previewId:void 0,setPreviewId:c("emptyFunction")});e=a(b);g.defaultContextValue=b;g.MWPThreadThemeContext=e}),98);
__d("defaultMWPThreadTheme",["I64","MWPThemeCSSProvider.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWPThemeCSSProvider.react").useIsThemeV2();return a?i:j}function b(a){return a==null?!1:(h||(h=d("I64"))).equal(a,j.threadTheme.fbid)||(h||(h=d("I64"))).equal(a,i.threadTheme.fbid)}var i={backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[{color:(h||(h=d("I64"))).of_string("-5635841"),gradientIndex:h.of_string("0"),themeFbid:h.of_string("3259963564026002"),type_:h.of_string("0")},{color:h.of_string("28918"),gradientIndex:h.of_string("1"),themeFbid:h.of_string("3259963564026002"),type_:h.of_string("0")}],threadTheme:{accessibilityLabel:"Default",appColorMode:h.of_string("1"),fallbackColor:h.of_string("-11645963"),fbid:h.of_string("3259963564026002"),isDeprecated:!1,normalThemeId:h.of_string("3259963564026002"),reverseGradiantsForRadial:!1,themeIdx:h.of_string("275")}},j={backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[],threadTheme:{accessibilityLabel:"Default Blue",appColorMode:h.zero,fallbackColor:c("gkx")("23219")?(h||(h=d("I64"))).of_string("687359"):(h||(h=d("I64"))).of_string("-16743169"),fbid:h.of_string("196241301102133"),isDeprecated:!1,normalThemeId:h.zero,reverseGradiantsForRadial:!1,themeIdx:h.of_string("94")}};g.useDefaultThemeWithColors=a;g.isDefaultTheme=b;g.defaultThemeWithColorsV2=i;g.defaultThemeWithColorsV1=j}),98);
__d("useMWPThreadTheme",["MWPThreadThemeContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(d("MWPThreadThemeContext").MWPThreadThemeContext)}g["default"]=a}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.mediaStaging;var e=c("useMWPThreadTheme")();e=e.threadTheme;e=a.hasError?"var(--negative)":d("MWPColorUtils").int64ToHex(e.fallbackColor);var f=Math.ceil(a.progress*100),g=(b/2).toString();g="M 0,"+g+" L 100,"+g;return a.progress===1||a.progress===0?null:i.jsxs("svg",{"aria-hidden":!0,className:"x1ey2m1c x1o0tod x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:b.toString()},viewBox:"0 0 100 "+b.toString(),children:[i.jsx("path",{d:g,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:b.toString()}),i.jsx("path",{d:g,stroke:e,strokeLinecap:"round",strokeWidth:(f===0?0:b).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-f|0).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.attachment.offlineAttachmentId,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(e.tables.media_staging).getKeyRange(b):d("ReQL").empty()},[b],f.id+":24");return a!=null&&a.isSent?j.jsx(c("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerLogoSvg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.height;a=a.width;a=a!=null?a:"80";b=b!=null?b:"80";return i.jsxs("svg",{fill:"none",height:b,viewBox:"0 0 80 80",width:a,xmlns:"http://www.w3.org/2000/svg",children:[i.jsxs("g",{clipPath:"url(#clip0_761_9815)",children:[i.jsx("path",{d:"M79.07 38.8027C79.07 60.5762 62.0114 76.6954 40.005 76.6954C36.0529 76.6954 32.2607 76.1744 28.6964 75.1945C28.0037 75.003 27.2675 75.0573 26.6103 75.3465L18.8561 78.7696C16.8283 79.6656 14.5389 78.2229 14.4709 76.0066L14.2577 69.0567C14.2311 68.2011 13.8462 67.3998 13.2078 66.8305C5.60652 60.0325 0.940002 50.1922 0.940002 38.8027C0.940002 17.0302 17.9986 0.91 40.005 0.91C62.0114 0.91 79.07 17.0302 79.07 38.8027Z",fill:"#0866FF"}),i.jsx("path",{d:"M50.612 49.7107L64.2129 28.6911C65.5806 26.5784 63.0475 24.1193 60.9762 25.5481L46.7783 35.341C46.2997 35.6716 45.6691 35.6805 45.1817 35.3647L32.5804 27.2119C31.5137 26.5221 30.0897 26.827 29.4 27.8937L15.7981 48.9143C14.4304 51.027 16.9635 53.4861 19.0347 52.0572L33.2356 42.2634C33.7142 41.9328 34.3448 41.9239 34.8332 42.2397L47.4325 50.3925C48.4993 51.0823 49.9232 50.7774 50.613 49.7107H50.612Z",fill:"white"})]}),i.jsx("defs",{children:i.jsx("clipPath",{id:"clip0_761_9815",children:i.jsx("rect",{fill:"white",height:"80",width:"80"})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MediaViewerContainer.react",["fbt","MessengerLogoSvg.react","XMessengerDotComCometRootControllerRouteBuilder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.actions,d=a.children,e=a.senderAttribution;a=a.shouldShowMessengerLogo;return j.jsxs("div",babelHelpers["extends"]({className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o xh8yej3 x1uvtmcs"},{"data-testid":void 0,children:[d,j.jsx("div",babelHelpers["extends"]({className:"xzwoauc x10l6tqk x1tk7jg1"},{children:(a!=null?a:!1)?j.jsx("a",{"aria-label":h._(/*BTDS*/"Messenger"),href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL({}),children:j.jsx(c("MessengerLogoSvg.react"),{height:"40",width:"40"})}):null})),j.jsx("div",babelHelpers["extends"]({className:"xdg88n9 x10l6tqk x1tk7jg1"},{children:b})),e!=null?j.jsx("div",babelHelpers["extends"]({className:"xzwoauc x10l6tqk x1tk7jg1"},{children:e})):null]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconCross",["MWXSvgIcon","SVGIcon","cr:22288","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22288")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2MediaViewerControlsFallback.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.onClose;return j.jsx(c("MWXRow.react"),{paddingTop:0,spacing:8,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{color:"white",icon:c("MWXIconCross"),label:h._(/*BTDS*/"Close"),onPress:a,size:36,type:"dark-overlay"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MediaViewerFallback.react",["MWV2MediaViewerContainer.react","MWV2MediaViewerControlsFallback.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onClose;a=a.shouldShowMessengerLogo;return i.jsx(c("MWV2MediaViewerContainer.react"),{actions:i.jsx(c("MWV2MediaViewerControlsFallback.react"),{onClose:b}),shouldShowMessengerLogo:a,children:null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDMediaViewerShowDialog.react",["JSResourceForInteraction","MWV2MediaViewerFallback.react","gkx","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(){var a=d("react-compiler-runtime").c(10),b=c("gkx")("2994"),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("IGDMediaViewerRoot.react").__setRef("useIGDMediaViewerShowDialog.react"),a[0]=e):e=a[0];e=e;var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={baseModalProps:{isOverlayTransparent:!0}},a[1]=f):f=a[1];f=f;e=c("useIGDSLazyDialog")(e,k,b?f:void 0);b=e[0];var g=e[2];a[2]!==g?(f=function(){return g()},a[2]=g,a[3]=f):f=a[3];a[4]!==g||a[5]!==b?(e=[b,g],a[4]=g,a[5]=b,a[6]=e):e=a[6];j(f,e);a[7]!==g||a[8]!==b?(f=[b,g],a[7]=g,a[8]=b,a[9]=f):f=a[9];return f}function k(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2FocusRowAfterClosingPushView",["MWV2MessageRowIsRowFocusedContext.react","react","useCometRouterState","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useLayoutEffect;function a(){var a=i(d("MWV2MessageRowIsRowFocusedContext.react").context),b=a.isDialogOpened,e=a.setIsDialogOpened,f=a.setFocused;a=c("useCometRouterState")();var g;if(a==null)g=0;else{a=a.pushViewStack;g=a==null?0:a.length}var h=c("usePrevious")(g);j(function(){if(h!=null){b===!0&&h>0&&g===0&&(e(function(){return!1}),f(function(){return!0}));return}},[b,h,g]);return e}g["default"]=a}),98);
__d("IGDChatImage.react",["fbt","FDSImageCover.react","I64","IGDAnimatedImageControlsUtil","IGDMediaSizeUtils","IGDMessageListPausableImage.react","IGDSGlimmer.react","IGDThreadListNewMessageLoggingDataContext","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","MWXMessageBubbleCornerStyles.react","MessagingAttachmentType","MessengerWebUXLogger","ODS","Random","cr:9647","promiseDone","react","react-compiler-runtime","requireDeferred","useIGDAttachmentUrl","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;e.useCallback;var o=e.useEffect,p=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatImage.react"),q={borderRadius:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",$$css:!0},container:{display:"x78zum5",position:"x1n2onr6",$$css:!0},glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},inGrid:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(87),f=a.attachment,g=a.connectBottom,m=a.connectTop,v=a.inGrid,w=a.isReplyMessage,x=a.maxHeight,y=a.maxWidth,z=a.mediaRenderQpl,A=a.message,B=a.outgoing;a=a.repliedMessage;g=g===void 0?!1:g;var C=v===void 0?!1:v,D=w===void 0?!1:w;v=x===void 0?d("IGDMediaSizeUtils").DEFAULT_MAX_HEIGHT:x;w=y===void 0?d("IGDMediaSizeUtils").DEFAULT_MAX_WIDTH:y;x=a===void 0?null:a;var E=(i||(i=c("useReStore")))(),F=d("MWPActor.react").useActor(),G=c("useMWV2FocusRowAfterClosingPushView")(),H=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(f,!0);y=c("useIGDMediaViewerShowDialog.react")();var I=y[0],J=y[1],K=c("MessengerWebUXLogger").useInteractionLogger(),L=f.attachmentType;a=f.previewWidth;y=f.previewHeight;w=d("IGDMediaSizeUtils").useGetMaxSizeForMedia(w,v);v=w[0];w=w[1];var M=C?q.inGrid:q.borderRadius,N=B===!0?"right":"left",O=C?"unset":void 0,P;e[0]!==g||e[1]!==m||e[2]!==N||e[3]!==O?(P=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:N,connectBottom:g,connectTop:m,corners:O}),e[0]=g,e[1]=m,e[2]=N,e[3]=O,e[4]=P):P=e[4];e[5]!==P||e[6]!==M?(N=[q.container,M,P],e[5]=P,e[6]=M,e[7]=N):N=e[7];O=N;e[8]!==z?(P=function(){z==null||z.endFail("load-image-error")},e[8]=z,e[9]=P):P=e[9];M=P;e[10]!==f.titleText||e[11]!==L||e[12]!==z?(N=function(){z==null||z.endSuccess(),(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),L)&&(f.titleText==null&&(l||(l=d("ODS"))).bumpEntityKey(938,"igd_chat_image","animated_image_missing_alt_text"),(l||(l=d("ODS"))).bumpEntityKey(938,"igd_chat_image","animated_image_loaded"))},e[10]=f.titleText,e[11]=L,e[12]=z,e[13]=N):N=e[13];P=N;e[14]===Symbol["for"]("react.memo_cache_sentinel")?(N=d("IGDAnimatedImageControlsUtil").shouldEnableGIFPlayPause(),e[14]=N):N=e[14];N=N;var Q=b("cr:9647")();Q=Q.isReduceMotionSettingEnabled;var R=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),S;e[15]!==Q?(S=N?{animatedImageComponent:"IGDChatImage",isReduceMotionSettingEnabled:String(Q)}:void 0,e[15]=Q,e[16]=S):S=e[16];var T;e[17]!==R||e[18]!==S?(T={eventName:"animated_image_message",extraData:S,flowInstanceId:R},e[17]=R,e[18]=S,e[19]=T):T=e[19];R=c("MessengerWebUXLogger").useImpressionLoggerRef(T);e[20]!==z||e[21]!==H?(S=function(){H!=null&&H.length>0&&(z==null||z.addPoint("render-chat-image"))},T=[z,H],e[20]=z,e[21]=H,e[22]=S,e[23]=T):(S=e[22],T=e[23]);o(S,T);e[24]!==f.titleText?(S=f.titleText!=null?f.titleText:h._(/*BTDS*/"Open photo").toString(),e[24]=f.titleText,e[25]=S):S=e[25];T=S;S=N?R:null;var U;e[26]!==y?(U=y!=null?(j||(j=d("I64"))).to_float(y):void 0,e[26]=y,e[27]=U):U=e[27];var V=H==null?u:void 0,W=H!=null?H:"",X;e[28]!==a?(X=a!=null?(j||(j=d("I64"))).to_float(a):void 0,e[28]=a,e[29]=X):X=e[29];var Y;e[30]!==f||e[31]!==g||e[32]!==m||e[33]!==T||e[34]!==w||e[35]!==v||e[36]!==M||e[37]!==P||e[38]!==B||e[39]!==U||e[40]!==V||e[41]!==W||e[42]!==X?(Y=n.jsx(d("MWPMessageListImage.react").MWPMessageListImage,{alt:T,attachment:f,connectBottom:g,connectTop:m,height:U,maxHeight:w,maxWidth:v,onError:M,onLoad:P,outgoing:B,renderImagePlaceholder:V,src:W,width:X,xstyle:q.borderRadius}),e[30]=f,e[31]=g,e[32]=m,e[33]=T,e[34]=w,e[35]=v,e[36]=M,e[37]=P,e[38]=B,e[39]=U,e[40]=V,e[41]=W,e[42]=X,e[43]=Y):Y=e[43];e[44]!==S||e[45]!==Y?(M=n.jsx("div",{ref:S,children:Y}),e[44]=S,e[45]=Y,e[46]=M):M=e[46];P=M;U=N?R:null;e[47]!==y?(V=y!=null?(j||(j=d("I64"))).to_float(y):void 0,e[47]=y,e[48]=V):V=e[48];W=H==null?t:void 0;X=H!=null?H:"";e[49]!==a?(S=a!=null?(j||(j=d("I64"))).to_float(a):void 0,e[49]=a,e[50]=S):S=e[50];e[51]!==f||e[52]!==g||e[53]!==m||e[54]!==T||e[55]!==w||e[56]!==v||e[57]!==z||e[58]!==B||e[59]!==V||e[60]!==W||e[61]!==X||e[62]!==S?(Y=n.jsx(d("IGDMessageListPausableImage.react").IGDMessageListPausableImage,{alt:T,attachment:f,connectBottom:g,connectTop:m,height:V,maxHeight:w,maxWidth:v,mediaRenderQpl:z,outgoing:B,renderImagePlaceholder:W,src:X,width:S,xstyle:q.borderRadius}),e[51]=f,e[52]=g,e[53]=m,e[54]=T,e[55]=w,e[56]=v,e[57]=z,e[58]=B,e[59]=V,e[60]=W,e[61]=X,e[62]=S,e[63]=Y):Y=e[63];e[64]!==U||e[65]!==Y?(M=n.jsx("div",{ref:U,children:Y}),e[64]=U,e[65]=Y,e[66]=M):M=e[66];R=M;var Z=D&&x!=null?x:A;e[67]!==F||e[68]!==f||e[69]!==Z||e[70]!==L||e[71]!==E||e[72]!==T||e[73]!==P||e[74]!==C||e[75]!==Q||e[76]!==D||e[77]!==K||e[78]!==z||e[79]!==A||e[80]!==R||e[81]!==J||e[82]!==O||e[83]!==G||e[84]!==I||e[85]!==H?(y=(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),L)?N===!0&&Q?R:P:n.jsxs(c("MWMessageListMediaPressableContainer.react"),{allowClickEventPropagation:!0,attachment:f,disabled:H==null,mediaRenderQpl:z,onHoverIn:function(){return J()},onPress:function(){G(s);I({attachment:f,mediaRenderQpl:z,message:Z},r);p.onReady(function(a){return c("promiseDone")(a.log(E,A.messageId,A.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,F))});if(C){var a=D?"media_collection_replied_open":"media_collection_open";K==null||K({eventName:a})}},testid:void 0,xstyle:O,children:[C?H==null?n.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:q.glimmer}):n.jsx(c("FDSImageCover.react"),{alt:T,src:H}):P,(j||(j=d("I64"))).le(A.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?n.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:f}):null]}),e[67]=F,e[68]=f,e[69]=Z,e[70]=L,e[71]=E,e[72]=T,e[73]=P,e[74]=C,e[75]=Q,e[76]=D,e[77]=K,e[78]=z,e[79]=A,e[80]=R,e[81]=J,e[82]=O,e[83]=G,e[84]=I,e[85]=H,e[86]=y):y=e[86];return y}function r(){}function s(){return!0}function t(){return n.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:q.glimmer})}t.displayName=t.name+" [from "+f.id+"]";function u(){return n.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:q.glimmer})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDChatVideo.react",["fbt","BaseImage.react","CometObjectFitContainer.react","FDSImageCover.react","I64","IGDMediaSizeUtils","IGDSGlimmer.react","LSAuthorityLevel","LSIntEnum","MWMessageListMediaPressableContainer.react","MWPActor.react","MWV2AttachmentProgressBar.react","MWXMessageImage.react","MessengerWebUXLogger","Random","promiseDone","react","react-compiler-runtime","requireDeferred","useIGDAttachmentUrl","useIGDMediaViewerShowDialog.react","useMWV2FocusRowAfterClosingPushView","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react")),n=l.useEffect,o=c("requireDeferred")("MWLogMessageAction").__setRef("IGDChatVideo.react"),p={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},incoming_connect_top:{borderStartStartRadius:"xjwep3j",$$css:!0},inGrid:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x5yr21d",$$css:!0},outgoing_connect_top:{borderStartEndRadius:"x1t39747",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"xvbhtw8",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",borderStartEndRadius:"xksyday",borderStartStartRadius:"x1ua1ujl",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(60),e=a.attachment,f=a.connectTop,g=a.inGrid,l=a.isReplyMessage,u=a.maxHeight,v=a.maxWidth,w=a.mediaRenderQpl,x=a.message,y=a.outgoing;a=a.repliedMessage;var z=g===void 0?!1:g,A=l===void 0?!1:l;g=u===void 0?d("IGDMediaSizeUtils").DEFAULT_MAX_HEIGHT:u;l=v===void 0?d("IGDMediaSizeUtils").DEFAULT_MAX_WIDTH:v;u=a===void 0?null:a;var B=(i||(i=c("useReStore")))(),C=d("MWPActor.react").useActor();b[0]!==x.authorityLevel?(v=(j||(j=d("I64"))).le(x.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL)),b[0]=x.authorityLevel,b[1]=v):v=b[1];a=v;v=f?y?p.outgoing_connect_top:p.incoming_connect_top:!1;var D=c("useMWV2FocusRowAfterClosingPushView")(),E=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(e,!0),F=c("MessengerWebUXLogger").useInteractionLogger();f=c("useIGDMediaViewerShowDialog.react")();var G=f[0],H=f[1];y=d("IGDMediaSizeUtils").useGetMaxSizeForMedia(l,g);f=y[0];y=y[1];var I;b[2]!==e.previewWidth?(I=e.previewWidth!=null?(j||(j=d("I64"))).to_float(e.previewWidth):void 0,b[2]=e.previewWidth,b[3]=I):I=b[3];I=I;var J;b[4]!==e.previewHeight?(J=e.previewHeight!=null?(j||(j=d("I64"))).to_float(e.previewHeight):void 0,b[4]=e.previewHeight,b[5]=J):J=b[5];J=J;var K=I!=null&&J!=null&&!z?I/J:void 0,L;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(L=h._(/*BTDS*/"Open Video"),b[6]=L):L=b[6];L=L;var M=s,N,O;b[7]!==w||b[8]!==E?(N=function(){E!=null&&(w==null||w.addPoint("render-chat-video")),(E==null||E==="")&&(w==null||w.endFail("empty_preview_url"))},O=[w,E],b[7]=w,b[8]=E,b[9]=N,b[10]=O):(N=b[9],O=b[10]);n(N,O);var P=A&&u!=null?u:x;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(N=h._(/*BTDS*/"Expand video"),b[11]=N):N=b[11];b[12]!==H?(O=function(){return H()},b[12]=H,b[13]=O):O=b[13];b[14]!==C||b[15]!==e||b[16]!==P||b[17]!==B||b[18]!==z||b[19]!==A||b[20]!==F||b[21]!==w||b[22]!==x.messageId||b[23]!==x.threadKey||b[24]!==D||b[25]!==G?(u=function(){D(r);G({attachment:e,mediaRenderQpl:w,message:P},q);o.onReady(function(a){return c("promiseDone")(a.log(B,x.messageId,x.threadKey,"direct_click","view_attachment",void 0,void 0,void 0,void 0,void 0,C))});if(z){var a=A?"media_collection_replied_open":"media_collection_open";F==null||F({eventName:a})}},b[14]=C,b[15]=e,b[16]=P,b[17]=B,b[18]=z,b[19]=A,b[20]=F,b[21]=w,b[22]=x.messageId,b[23]=x.threadKey,b[24]=D,b[25]=G,b[26]=u):u=b[26];var Q=z?p.inGrid:null,R;b[27]!==v||b[28]!==Q?(R=[p.root,Q,v],b[27]=v,b[28]=Q,b[29]=R):R=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x6s0dn4 x1ybostu x78zum5 x5yr21d"},b[30]=v):v=b[30];b[31]!==E?(Q=E!=null&&m.jsx("span",babelHelpers["extends"]({className:"x91lo7 x1lliihq xqvfhly x2hswfz x1oxljau x1ok221b x47corl x10l6tqk xyd03xr xzuapc8 x1vjfegm"},{children:m.jsx(c("BaseImage.react"),{height:45,src:"/images/mercury/clients/igd/playButton.png?__d=www",width:45})})),b[31]=E,b[32]=Q):Q=b[32];b[33]!==K||b[34]!==e.previewUrlMimeType||b[35]!==J||b[36]!==z||b[37]!==g||b[38]!==y||b[39]!==l||b[40]!==f||b[41]!==w||b[42]!==E||b[43]!==I?(M=e.previewUrlMimeType!=null&&e.previewUrlMimeType==="image/jpeg"?z?E==null?M():m.jsx(c("FDSImageCover.react"),{alt:L,src:E}):m.jsx(c("MWXMessageImage.react"),{alt:L,height:J,maxHeight:y,maxWidth:f,renderImagePlaceholder:E==null?M:void 0,src:E!=null?E:"",width:I}):m.jsx(t,{aspectRatio:K,height:z?void 0:Math.min(J!=null?J:Number.MAX_SAFE_INTEGER,g),maxWidth:f,children:m.jsx("video",{"aria-label":L,height:(J!=null?J:Number.MAX_SAFE_INTEGER)<=g&&K==null?J:"100%",onLoadedData:function(){w==null||w.endSuccess()},src:E,style:{display:"block",maxHeight:z===!0?void 0:g,maxWidth:z===!0?void 0:l},width:(I!=null?I:Number.MAX_SAFE_INTEGER)<=l&&K==null?I:"100%",children:m.jsx("track",{kind:"captions"})})}),b[33]=K,b[34]=e.previewUrlMimeType,b[35]=J,b[36]=z,b[37]=g,b[38]=y,b[39]=l,b[40]=f,b[41]=w,b[42]=E,b[43]=I,b[44]=M):M=b[44];b[45]!==Q||b[46]!==M?(L=m.jsxs("div",babelHelpers["extends"]({},v,{children:[Q,M]})),b[45]=Q,b[46]=M,b[47]=L):L=b[47];b[48]!==e||b[49]!==a?(K=a?m.jsx(c("MWV2AttachmentProgressBar.react"),{attachment:e}):null,b[48]=e,b[49]=a,b[50]=K):K=b[50];b[51]!==e||b[52]!==a||b[53]!==w||b[54]!==O||b[55]!==u||b[56]!==R||b[57]!==L||b[58]!==K?(J=m.jsxs(c("MWMessageListMediaPressableContainer.react"),{ariaLabel:N,attachment:e,disabled:a,mediaRenderQpl:w,onHoverIn:O,onPress:u,overlayDisabled:!0,testid:void 0,xstyle:R,children:[L,K]}),b[51]=e,b[52]=a,b[53]=w,b[54]=O,b[55]=u,b[56]=R,b[57]=L,b[58]=K,b[59]=J):J=b[59];return J}function q(){}function r(){return!0}function s(){return m.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:p.glimmer})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=d("react-compiler-runtime").c(13),e=a.aspectRatio,f=a.children,g=a.height;a=a.maxWidth;if(e!=null&&g!=null){g=g*e;var h;b[0]!==a?(h={maxWidth:a},b[0]=a,b[1]=h):h=b[1];b[2]!==g?(a={maxWidth:"100%",width:g},b[2]=g,b[3]=a):a=b[3];b[4]!==e||b[5]!==f?(g=m.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:f}),b[4]=e,b[5]=f,b[6]=g):g=b[6];b[7]!==a||b[8]!==g?(e=m.jsx("div",{style:a,children:g}),b[7]=a,b[8]=g,b[9]=e):e=b[9];b[10]!==h||b[11]!==e?(a=m.jsx("div",{style:h,children:e}),b[10]=h,b[11]=e,b[12]=a):a=b[12];return a}return f}g["default"]=a}),226);
__d("IGDMediaGrid.react",["CometPhotoGrid.react","IGDChatTabsEnv","IGDSBox.react","MWXMessageBubbleCornerStyles.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.Fragment,k={root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},l=384,m=192;function a(a){var b=d("react-compiler-runtime").c(18),e=a.attachments,f=a.connectBottom,g=a.connectTop,h=a.isReply,n=a.logImpressionEventRef,o=a.onRenderMedia;a=a.outgoing;f=f===void 0?!1:f;h=h===void 0?!1:h;a=a===!0?"right":"left";var p;b[0]!==f||b[1]!==g||b[2]!==a?(p=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:a,connectBottom:f,connectTop:g,flatten:"none"}),b[0]=f,b[1]=g,b[2]=a,b[3]=p):p=b[3];f=p;g=d("IGDChatTabsEnv").useIsChatTabsDisplay();a=d("PolarisUA").isMobile()||g?m:l;p=h?a/2:a;b[4]!==f?(g=[k.root,f],b[4]=f,b[5]=g):g=b[5];if(b[6]!==e||b[7]!==o){b[9]!==o?(h=function(a){return i.jsx(j,{children:o(a)},a.attachmentFbid)},b[9]=o,b[10]=h):h=b[10];a=e.map(h);b[6]=e;b[7]=o;b[8]=a}else a=b[8];b[11]!==a?(f=i.jsx(c("CometPhotoGrid.react"),{children:a}),b[11]=a,b[12]=f):f=b[12];b[13]!==n||b[14]!==p||b[15]!==g||b[16]!==f?(h=i.jsx(c("IGDSBox.react"),{containerRef:n,width:p,xstyle:g,children:f}),b[13]=n,b[14]=p,b[15]=g,b[16]=f,b[17]=h):h=b[17];return h}g["default"]=a}),98);
__d("IGDMessageContainerWithHighlightBar.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),c=a.children,e=a.outgoing;a=a.withMarginBottom;var f;b[0]!==e||b[1]!==a?(f={0:{className:"x1n2onr6 x1g0dm76"},2:{className:"x1n2onr6 xzueoph x1g0dm76"},1:{className:"x1n2onr6 xpdmqnj"},3:{className:"x1n2onr6 xzueoph xpdmqnj"}}[!!a<<1|!!e<<0],b[0]=e,b[1]=a,b[2]=f):f=b[2];b[3]!==e?(a=!e&&i.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg x1o0tod"}),b[3]=e,b[4]=a):a=b[4];var g;b[5]!==e?(g=e&&i.jsx("div",{className:"x19g9edo xr9e8f9 x1e4oeot x1ui04y5 x6en5u8 x5yr21d x10l6tqk x13vifvy x51ohtg xtijo5x"}),b[5]=e,b[6]=g):g=b[6];b[7]!==c||b[8]!==f||b[9]!==a||b[10]!==g?(e=i.jsxs("div",babelHelpers["extends"]({},f,{children:[a,c,g]})),b[7]=c,b[8]=f,b[9]=a,b[10]=g,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("IGDMessageContentNoLongerAvailablePlaceholder.react",["fbt","IGDSText.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(7);a=a.message;c("vulture")("9-BHyfDUopTJGb0trqkAjSeNuYs=");var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x78zum5 xdt5ytf xl56j7k x21xpn4"},b[0]=e):e=b[0];var f;b[1]!==a?(f=a!=null&&j.jsx("div",babelHelpers["extends"]({className:"x1kpxq89 x1nn3v0j x1120s5i"},{children:a.replySnippet!=null&&a.replySnippet!==""&&j.jsx(c("IGDSText.react"),{size:"footnote",children:a.replySnippet})})),b[1]=a,b[2]=f):f=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x1kpxq89 x1nn3v0j x1120s5i"},b[3]=a):a=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("div",babelHelpers["extends"]({},a,{children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:h._(/*BTDS*/"No longer available")})})),b[4]=a):a=b[4];b[5]!==f?(e=j.jsxs("div",babelHelpers["extends"]({},e,{children:[f,a]})),b[5]=f,b[6]=e):e=b[6];return e}g["default"]=a}),226);
__d("IGDMsysMusicStickerConstants",[],(function(a,b,c,d,e,f){"use strict";a=160;b=156;c=16;d=85;e=43;f.MUSIC_STICKER_SIZE=a;f.VINYL_SIZE=b;f.PLAY_PAUSE_BUTTON_SIZE=c;f.VINYL_ALBUM_SIZE=d;f.PNG_PADDING_OFFSET=e}),66);
__d("IGDMsysMusicStickerPlayPauseButton.react",["fbt","IGDMsysMusicStickerConstants","IGDSBox.react","IGDSPlayPanoFilledIcon.react","IGDSWebPauseFilledIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={iconShadow:{filter:"x1eimgdo",$$css:!0},topOverlay:{background:"xvgn5wp",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(2);a=a.isPlaying;var e;b[0]!==a?(e=j.jsx(c("IGDSBox.react"),{height:40,position:"absolute",width:d("IGDMsysMusicStickerConstants").MUSIC_STICKER_SIZE,xstyle:k.topOverlay,children:j.jsx(c("IGDSBox.react"),{margin:3,children:j.jsx(c("IGDSBox.react"),{xstyle:k.iconShadow,children:a?j.jsx(c("IGDSWebPauseFilledIcon.react"),{alt:h._(/*BTDS*/"Pause button"),color:"web-always-white",size:d("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE}):j.jsx(c("IGDSPlayPanoFilledIcon.react"),{alt:h._(/*BTDS*/"Play button"),color:"web-always-white",size:d("IGDMsysMusicStickerConstants").PLAY_PAUSE_BUTTON_SIZE})})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),226);
__d("IGDMsysMusicStickerText.react",["IGDMsysMusicStickerConstants","IGDSBox.react","IGDSTextVariants.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={overlay:{background:"x1ooqjeo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),e=a.subtitle;a=a.title;var f;b[0]!==a?(f=i.jsx(c("IGDSBox.react"),{marginBottom:2,children:i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"webAlwaysWhite",maxLines:1,children:a})}),b[0]=a,b[1]=f):f=b[1];b[2]!==e?(a=i.jsx(c("IGDSBox.react"),{marginBottom:1,children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"webAlwaysWhite",maxLines:1,children:e})}),b[2]=e,b[3]=a):a=b[3];b[4]!==f||b[5]!==a?(e=i.jsxs(c("IGDSBox.react"),{bottom:!0,padding:3,position:"absolute",width:d("IGDMsysMusicStickerConstants").MUSIC_STICKER_SIZE,xstyle:j.overlay,children:[f,a]}),b[4]=f,b[5]=a,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("IGDMsysMusicStickerVinyl.react",["CometImage.react","IGDMsysMusicStickerConstants","IGDSBox.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={centerPreviewImage:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",position:"x10l6tqk",$$css:!0},vinylRotation:{animationDuration:"x18ebdri",animationIterationCount:"xa4qsjk",animationName:"x1ka1v4i",animationPlayState:"xorstpt",animationTimingFunction:"x1esw782",$$css:!0},vinylRotationPlaying:{animationPlayState:"xoj058f",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.isPlaying;a=a.previewUrl;e=e&&j.vinylRotationPlaying;var f;b[0]!==e?(f=[j.vinylRotation,e],b[0]=e,b[1]=f):f=b[1];b[2]!==a?(e=a?i.jsx(c("CometImage.react"),{src:a,width:d("IGDMsysMusicStickerConstants").VINYL_ALBUM_SIZE,xstyle:j.centerPreviewImage}):i.jsx(c("IGDSBox.react"),{color:"highlightBackground",height:d("IGDMsysMusicStickerConstants").VINYL_ALBUM_SIZE,width:d("IGDMsysMusicStickerConstants").VINYL_ALBUM_SIZE,xstyle:j.centerPreviewImage}),b[2]=a,b[3]=e):e=b[3];if(b[4]===Symbol["for"]("react.memo_cache_sentinel")){a=i.jsx(c("CometImage.react"),{height:(a=d("IGDMsysMusicStickerConstants")).VINYL_SIZE+a.PNG_PADDING_OFFSET,src:"/images/instagram/music/music_sticker_vinyl.png",width:a.VINYL_SIZE+a.PNG_PADDING_OFFSET});b[4]=a}else a=b[4];b[5]!==f||b[6]!==e?(a=i.jsxs(c("IGDSBox.react"),{alignItems:"center",height:d("IGDMsysMusicStickerConstants").VINYL_SIZE,justifyContent:"center",position:"relative",width:d("IGDMsysMusicStickerConstants").VINYL_SIZE,xstyle:f,children:[e,a]}),b[5]=f,b[6]=e,b[7]=a):a=b[7];return a}g["default"]=a}),98);
__d("IGDMsysMusicSticker.react",["fbt","CometImage.react","CometPressable.react","IGDMsysMusicStickerConstants","IGDMsysMusicStickerPlayPauseButton.react","IGDMsysMusicStickerText.react","IGDMsysMusicStickerVinyl.react","IGDSBox.react","MWPAudioPlayerUtils","react","react-compiler-runtime","useIGDAttachmentUrl","useIGDAudioControl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={container:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"x17zj1j9",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1vjfegm",$$css:!0},previewImage:{height:"x5yr21d",width:"xh8yej3",$$css:!0},vinylOffset:{marginInlineStart:"x15myx19",$$css:!0}};function a(a){var b,e,f=d("react-compiler-runtime").c(24);a=a.attachment;b=(b=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(a))!=null?b:"";e=(e=a.playableAudioUrl)!=null?e:"";e=d("MWPAudioPlayerUtils").useControlCenter(e,void 0,void 0,void 0,l,!1,0,null);var g=e[0];e=e[3];g=g===d("MWPAudioPlayerUtils").State.PLAYING;e=c("useIGDAudioControl")(g,e);if(f[0]!==a.titleText){var i;i=(i=a.titleText)!=null?i:h._(/*BTDS*/"Song Title");f[0]=a.titleText;f[1]=i}else i=f[1];i=i;if(f[2]!==a.subtitleText){var m;m=(m=a.subtitleText)!=null?m:h._(/*BTDS*/"Artist Name");f[2]=a.subtitleText;f[3]=m}else m=f[3];a=m;f[4]!==g?(m=j.jsx(c("IGDMsysMusicStickerPlayPauseButton.react"),{isPlaying:g}),f[4]=g,f[5]=m):m=f[5];var n;f[6]!==b?(n=b?j.jsx(c("CometImage.react"),{src:b,xstyle:k.previewImage}):j.jsx(c("IGDSBox.react"),{color:"highlightBackground",xstyle:k.previewImage}),f[6]=b,f[7]=n):n=f[7];var o;f[8]!==a||f[9]!==i?(o=j.jsx(c("IGDMsysMusicStickerText.react"),{subtitle:a,title:i}),f[8]=a,f[9]=i,f[10]=o):o=f[10];f[11]!==m||f[12]!==n||f[13]!==o?(a=j.jsxs(c("IGDSBox.react"),{height:d("IGDMsysMusicStickerConstants").MUSIC_STICKER_SIZE,position:"relative",width:d("IGDMsysMusicStickerConstants").MUSIC_STICKER_SIZE,xstyle:k.container,children:[m,n,o]}),f[11]=m,f[12]=n,f[13]=o,f[14]=a):a=f[14];f[15]!==g||f[16]!==b?(i=j.jsx(c("IGDSBox.react"),{xstyle:k.vinylOffset,children:j.jsx(c("IGDMsysMusicStickerVinyl.react"),{isPlaying:g,previewUrl:b})}),f[15]=g,f[16]=b,f[17]=i):i=f[17];f[18]!==a||f[19]!==i?(m=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",children:[a,i]}),f[18]=a,f[19]=i,f[20]=m):m=f[20];f[21]!==e||f[22]!==m?(n=j.jsx(c("CometPressable.react"),{onPress:e,overlayDisabled:!0,children:m}),f[21]=e,f[22]=m,f[23]=n):n=f[23];return n}function l(){}g["default"]=a}),226);
__d("xmaLayouts",[],(function(a,b,c,d,e,f){"use strict";a={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};f.XMA_LAYOUTS=a}),66);
__d("MDSSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","XPlatReactEnvironment","gkx","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("XPlatReactEnvironment").isWeb(),k={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_v2_web:{minWidth:"xgqtt45",width:"xnalus7",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},l={bubble:{color:"x14ctfv",maxWidth:"x13sv91t",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",paddingInlineStart:"x10zy8in",paddingInlineEnd:"xm9bcq3",paddingLeft:null,paddingRight:null,position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleOutline:{outline:"x1k4qllp",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderInlineEndColor:"x114wg8e",borderBottomColor:"xrrpcnn",borderInlineStartColor:"x14rx4xb",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x19livfd",borderInlineEndWidth:"x1h2krnu",borderBottomWidth:"x3p3xfz",borderInlineStartWidth:"xet2kk3",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},n={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderInlineEndColor:"xrmkrer",borderBottomColor:"x12z03op",borderInlineStartColor:"x9wyiwl",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x12lizq0",borderInlineEndWidth:"x1nrdd72",borderBottomWidth:"x1ybe9c6",borderInlineStartWidth:"xx487zo",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},o={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderInlineEndColor:"x114wg8e",borderBottomColor:"xrrpcnn",borderInlineStartColor:"x14rx4xb",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x19livfd",borderInlineEndWidth:"x1h2krnu",borderBottomWidth:"x3p3xfz",borderInlineStartWidth:"xet2kk3",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}};function a(a){var b=a.align,e=a.children,f=a.color,g=a.connectBottom,h=a.connectTop,p=a.xmaLayout;p=p===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:p;var q=a.xstyle,r=a.precedesXMA,s=a.precedingXmaIsV2;s=s===void 0?!1:s;var t=a.testid;t=a.flattenCorners;var u=a.variant;a=a.isBackgroundTransparent;p=p!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&r===!0;r=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:b,connectBottom:g,connectTop:h,flatten:t!=null?t:p?"bottom":"none"});b=f==="incoming"?m:f==="outgoing"?n:o;g=s&&c("gkx")("7835")?k.precedes_xma_v2_web:k.precedes_xma_web;return i.jsx(d("react-strict-dom").html.div,{style:[l.clip,p&&j&&g],children:i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:[l.bubble,a!==!0&&l.bubbleOutline,j&&l.bubbleWeb,p&&k.precedes_xma,p&&j&&g,b.background,u==="opaque"&&b.opaque,r,q],children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubble.react",["MDSSolidMessageBubble.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSSolidMessageBubble.react")}),98);
__d("IGDPlaceholderMessage.react",["fbt","IGDSText.react","MWXMessageBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(17),e=a.connectBottom,f=a.connectTop,g=a.mediaRenderQpl,i=a.outgoing,l=a.unsupportedType,m;b[0]!==g||b[1]!==l?(a=function(){g==null||g.addAnnotations({string:{unsupported_type:l!=null?l:"unknown"}}),g==null||g.endSuccess()},m=[g,l],b[0]=g,b[1]=l,b[2]=a,b[3]=m):(a=b[2],m=b[3]);k(a,m);b[4]!==f?(a=f?j.jsx("div",babelHelpers["extends"]({className:"xjbqb8w x36qwtl xh8yej3"},{role:"none"})):null,b[4]=f,b[5]=a):a=b[5];m=i?"right":"left";var n;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xw5ewwj x1y1aw1k xf159sx xwib8y2 xmzvs34"},n={className:"x1e56ztr"},b[6]=i,b[7]=n):(i=b[6],n=b[7]);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n=j.jsx("div",babelHelpers["extends"]({},n,{children:j.jsx(c("IGDSText.react"),{children:h._(/*BTDS*/"Unsupported message")})})),b[8]=n):n=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsxs("div",babelHelpers["extends"]({},i,{children:[n,j.jsx(c("IGDSText.react"),{color:"secondaryText",children:h._(/*BTDS*/"Use the Instagram mobile app to view this message.")})]})),b[9]=i):i=b[9];b[10]!==e||b[11]!==f||b[12]!==m?(n=j.jsx(c("MWXMessageBubble.react"),{align:m,color:"incoming",connectBottom:e,connectTop:f,children:i}),b[10]=e,b[11]=f,b[12]=m,b[13]=n):n=b[13];b[14]!==a||b[15]!==n?(i=j.jsxs(j.Fragment,{children:[a,n]}),b[14]=a,b[15]=n,b[16]=i):i=b[16];return i}g["default"]=a}),226);
__d("IGDSViewOncePanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("polygon",{fill:"currentColor",points:"13.25 17 13.25 7 10.91895 7 8.19922 8.95996 8.19922 11.41406 10.75 9.7168 10.75 17 13.25 17"}),f=i.jsx("path",{d:"M2.97 12.137a1.5 1.5 0 0 0-1.5-1.482h-.02a1.5 1.5 0 0 0-1.48 1.519 11.96 11.96 0 0 0 .914 4.45 1.5 1.5 0 0 0 2.771-1.15 8.955 8.955 0 0 1-.685-3.337Zm8.02-9.064a9.066 9.066 0 0 1 3.4.279 1.5 1.5 0 0 0 .803-2.89A12.081 12.081 0 0 0 10.665.09a1.5 1.5 0 0 0-1.33 1.653 1.492 1.492 0 0 0 1.654 1.33Zm7.836 3.115a11.434 11.434 0 0 1 1.375 2.252 1.499 1.499 0 1 0 2.73-1.242 14.533 14.533 0 0 0-1.769-2.891c-.249-.297-.51-.58-.78-.845A1.5 1.5 0 0 0 18.278 5.6c.202.199.399.41.548.587ZM6.188 5.122c.194-.163.394-.317.598-.46A1.5 1.5 0 0 0 5.06 2.207a11.964 11.964 0 0 0-3.67 4.144A1.498 1.498 0 0 0 2.708 8.56c.534 0 1.052-.287 1.322-.791a8.987 8.987 0 0 1 2.157-2.648ZM9.4 20.682c-1.056-.335-2.069-.886-3.008-1.64a1.5 1.5 0 1 0-1.877 2.34c1.23.986 2.569 1.713 3.98 2.159a1.5 1.5 0 0 0 .904-2.86Zm13.213-9.196c-.811-.089-1.554.53-1.63 1.356A8.502 8.502 0 0 1 20 16.075a1.499 1.499 0 1 0 2.646 1.412 11.48 11.48 0 0 0 1.322-4.37 1.499 1.499 0 0 0-1.356-1.63Zm-5.649 7.96a9.284 9.284 0 0 1-3.129 1.394 1.5 1.5 0 1 0 .686 2.92 12.256 12.256 0 0 0 4.14-1.84 1.5 1.5 0 0 0-1.697-2.474Z",fill:"currentColor"}),b[0]=e,b[1]=f):(e=b[0],f=b[1]);b[2]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f]})),b[2]=a,b[3]=e):e=b[3];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDRavenMessageIcon.react",["EphemeralMediaViewMode","IGDSPlayPanoFilledIcon.react","IGDSViewOncePanoFilled24Icon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.ephemeralMediaViewMode,f=a.isPlaceholder;a=a.label;f=f===void 0?!1:f;f=f?"ig-secondary-icon":"ig-stroke";if(e===c("EphemeralMediaViewMode").READ_ONCE){b[0]!==f||b[1]!==a?(e=i.jsx(c("IGDSViewOncePanoFilled24Icon.react"),{alt:a,color:f,size:15}),b[0]=f,b[1]=a,b[2]=e):e=b[2];return e}b[3]!==f||b[4]!==a?(e=i.jsx(c("IGDSPlayPanoFilledIcon.react"),{alt:a,color:f,size:15}),b[3]=f,b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("IGDChatBubble.react",["MWXMessageBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.memo;var j={container:{paddingTop:"xm7lytj",paddingInlineEnd:"xpdmqnj",paddingBottom:"x1ykpatu",paddingInlineStart:"x1g0dm76",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.connectBottom,g=a.connectTop,h=a.outgoing;a=a.precedesXMA;var k=h?"right":"left";h=h?"outgoing":"incoming";var l;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a||b[4]!==k||b[5]!==h?(l=i.jsx(c("MWXMessageBubble.react"),{align:k,color:h,connectBottom:f,connectTop:g,precedesXMA:a,xstyle:j.container,children:e}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=k,b[5]=h,b[6]=l):l=b[6];return l}e=b(a);g["default"]=e}),98);
__d("IGDRavenPlaceholderMessage.react",["fbt","EphemeralMediaViewMode","IGDChatBubble.react","IGDRavenMessageIcon.react","IGDSBox.react","IGDSText.react","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));i.useCallback;var l=h._(/*BTDS*/"This photo can only be viewed once. Use the mobile app to view."),m=h._(/*BTDS*/"This video can only be viewed once. Use the mobile app to view."),n=h._(/*BTDS*/"This photo can only be replayed once. Use the mobile app to view."),o=h._(/*BTDS*/"This video can only be replayed once. Use the mobile app to view."),p={container:{fontStyle:"x1k4tb9n",paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(19),e=a.attachment,f=a.connectBottom;a=a.connectTop;var g;b[0]!==e.ephemeralMediaViewMode?(g=e.ephemeralMediaViewMode!=null?(j||(j=d("LSIntEnum"))).unwrapIntEnum(e.ephemeralMediaViewMode):c("EphemeralMediaViewMode").READ_ONCE,b[0]=e.ephemeralMediaViewMode,b[1]=g):g=b[1];var h=g;b[2]!==h?(g=function(a){switch(a){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return h===c("EphemeralMediaViewMode").READ_ONCE?l:n;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return h===c("EphemeralMediaViewMode").READ_ONCE?m:o;default:return l}},b[2]=h,b[3]=g):g=b[3];g=g;var i;b[4]!==e.attachmentType||b[5]!==g?(i=g((j||(j=d("LSIntEnum"))).unwrapIntEnum(e.attachmentType)),b[4]=e.attachmentType,b[5]=g,b[6]=i):i=b[6];e=i;b[7]!==h||b[8]!==e?(g=k.jsx(c("IGDSBox.react"),{marginEnd:1,children:k.jsx(c("IGDRavenMessageIcon.react"),{ephemeralMediaViewMode:h,isPlaceholder:!0,label:e})}),b[7]=h,b[8]=e,b[9]=g):g=b[9];b[10]!==e?(i=k.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:e}),b[10]=e,b[11]=i):i=b[11];b[12]!==g||b[13]!==i?(e=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:p.container,children:[g,i]}),b[12]=g,b[13]=i,b[14]=e):e=b[14];b[15]!==f||b[16]!==a||b[17]!==e?(g=k.jsx(c("IGDChatBubble.react"),{connectBottom:f,connectTop:a,outgoing:!1,precedesXMA:!1,children:e}),b[15]=f,b[16]=a,b[17]=e,b[18]=g):g=b[18];return g}g["default"]=a}),226);
__d("IGDRavenMessage.react",["fbt","EphemeralMediaViewMode","I64","IGDRavenMessageIcon.react","IGDRavenPlaceholderMessage.react","IGDSBox.react","IGDSText.react","LSIntEnum","MWXMessageBubble.react","MessagingAttachmentType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=d("react-compiler-runtime").c(20),e=a.attachment,f=a.connectBottom,g=a.connectTop;a=a.outgoing;if(!a){b[0]!==e||b[1]!==f||b[2]!==g?(a=l.jsx(c("IGDRavenPlaceholderMessage.react"),{attachment:e,connectBottom:f,connectTop:g}),b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}b[4]!==e.attachmentType?(a=(j||(j=d("I64"))).equal(e.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))?h._(/*BTDS*/"Photo"):h._(/*BTDS*/"Video"),b[4]=e.attachmentType,b[5]=a):a=b[5];a=a;var i;b[6]!==e.ephemeralMediaViewMode?(i=e.ephemeralMediaViewMode!=null?(k||(k=d("LSIntEnum"))).unwrapIntEnum(e.ephemeralMediaViewMode):c("EphemeralMediaViewMode").READ_ONCE,b[6]=e.ephemeralMediaViewMode,b[7]=i):i=b[7];e=i;b[8]!==e||b[9]!==a?(i=l.jsx(c("IGDSBox.react"),{marginEnd:1,children:l.jsx(c("IGDRavenMessageIcon.react"),{ephemeralMediaViewMode:e,label:a})}),b[8]=e,b[9]=a,b[10]=i):i=b[10];b[11]!==a?(e=l.jsx(c("IGDSBox.react"),{justifyContent:"center",children:l.jsx(c("IGDSText.react"),{color:"tertiaryText",size:"body",weight:"semibold",children:a})}),b[11]=a,b[12]=e):e=b[12];b[13]!==i||b[14]!==e?(a=l.jsxs(c("IGDSBox.react"),{direction:"row",children:[i,e]}),b[13]=i,b[14]=e,b[15]=a):a=b[15];b[16]!==f||b[17]!==g||b[18]!==a?(i=l.jsx(c("MWXMessageBubble.react"),{align:"right",color:"incoming",connectBottom:f,connectTop:g,children:a}),b[16]=f,b[17]=g,b[18]=a,b[19]=i):i=b[19];return i}g["default"]=a}),226);
__d("IGDPausableStickerThumbnailWithPlayButton.react",["fbt","CometPressable.react","MWV2AttachmentLoadingPlaceholder.react","MWVideoPlayerPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime","useFetchAnimatedImageThumbnail"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(22),e=a.onPlay,f=a.alt,g=a.height,i=a.maxHeight,k=a.maxWidth,l=a.mediaRenderQpl,m=a.renderImagePlaceholder,n=a.src;a=a.width;n=c("useFetchAnimatedImageThumbnail")(n,null,g!=null?g:200,a!=null?a:200,l);l=n.gifThumbnail;var o=n.onError;n=n.onLoad;var p;b[0]!==f?(p=h._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[h._param("gif_alt_text",f)]),b[0]=f,b[1]=p):p=b[1];p=p;if(l==null){var q;b[2]!==g||b[3]!==a?(q=j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"IGDPausableStickerThumbnailWithPlayButton.NoGIFThumbnail",height:g,width:a}),b[2]=g,b[3]=a,b[4]=q):q=b[4];return q}b[5]!==p||b[6]!==e?(q=j.jsx(c("MWVideoPlayerPlayButton.react"),{alt:p,isVisible:!0,onClick:e,size:"LARGE"}),b[5]=p,b[6]=e,b[7]=q):q=b[7];b[8]!==f||b[9]!==l||b[10]!==g||b[11]!==i||b[12]!==k||b[13]!==o||b[14]!==n||b[15]!==m||b[16]!==q||b[17]!==a?(p=j.jsx(c("MWXMessageImage.react"),{alt:f,height:g,maxHeight:i,maxWidth:k,onError:o,onLoad:n,renderImagePlaceholder:m,src:l,width:a,children:q}),b[8]=f,b[9]=l,b[10]=g,b[11]=i,b[12]=k,b[13]=o,b[14]=n,b[15]=m,b[16]=q,b[17]=a,b[18]=p):p=b[18];b[19]!==e||b[20]!==p?(f=j.jsx(c("CometPressable.react"),{onPress:e,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:p}),b[19]=e,b[20]=p,b[21]=f):f=b[21];return f}g["default"]=a}),226);
__d("IGDPausableSticker.react",["CometPressable.react","IGDPausableStickerThumbnailWithPlayButton.react","MWXMessageImage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["height","maxHeight","maxWidth","mediaRenderQpl","renderImagePlaceholder","width"],i,j=i||(i=d("react")),k=i.useState;function a(a){var b=d("react-compiler-runtime").c(29),e,f,g,i,l,m,n;b[0]!==a?(e=a.height,g=a.maxHeight,i=a.maxWidth,l=a.mediaRenderQpl,m=a.renderImagePlaceholder,n=a.width,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=l,b[6]=m,b[7]=n):(e=b[1],f=b[2],g=b[3],i=b[4],l=b[5],m=b[6],n=b[7]);a=f;var o=a.alt;a=a.src;var p=k(!0),q=p[0],r=p[1];if(q){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){return r(!1)},b[8]=p):p=b[8];b[9]!==o||b[10]!==e||b[11]!==g||b[12]!==i||b[13]!==l||b[14]!==m||b[15]!==a||b[16]!==n?(q=j.jsx(c("IGDPausableStickerThumbnailWithPlayButton.react"),{alt:o,height:e,maxHeight:g,maxWidth:i,mediaRenderQpl:l,onPlay:p,renderImagePlaceholder:m,src:a,width:n}),b[9]=o,b[10]=e,b[11]=g,b[12]=i,b[13]=l,b[14]=m,b[15]=a,b[16]=n,b[17]=q):q=b[17];return q}b[18]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){return r(!0)},b[18]=p):p=b[18];b[19]!==o||b[20]!==e||b[21]!==f.onError||b[22]!==f.onLoad||b[23]!==g||b[24]!==i||b[25]!==m||b[26]!==a||b[27]!==n?(l=j.jsx(c("CometPressable.react"),{onPress:p,overlayDisabled:!0,suppressFocusRing:!0,testid:void 0,children:j.jsx(c("MWXMessageImage.react"),{alt:o,height:e,maxHeight:g,maxWidth:i,onError:f.onError,onLoad:f.onLoad,renderImagePlaceholder:m,src:a,width:n})}),b[19]=o,b[20]=e,b[21]=f.onError,b[22]=f.onLoad,b[23]=g,b[24]=i,b[25]=m,b[26]=a,b[27]=n,b[28]=l):l=b[28];return l}g["default"]=a}),98);
__d("IGDSticker.react",["I64","IGDAnimatedImageControlsUtil","IGDAttachmentUtil","IGDPausableSticker.react","IGDSBox.react","IGDSGlimmer.react","IGDThreadListNewMessageLoggingDataContext","MWXMessageImage.react","MessengerWebUXLogger","Random","cr:9647","react","react-compiler-runtime","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;var k=157,l={glimmer:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function m(a,b,c){a=a!=null?(i||(i=d("I64"))).to_float(a):void 0;b=b!=null?(i||(i=d("I64"))).to_float(b):void 0;if(a==null||b==null)return[a,b];var e=Math.max(a,b)===c,f=a>b?"width":b>a?"height":"same",g;if(e)g=1;else switch(f){case"height":g=c/b;break;case"same":case"width":g=c/a;break;default:g=1}return[a*g,b*g]}function n(a){var b=d("react-compiler-runtime").c(6),e=a.children;a=a.eventName;var f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),g;b[0]!==a||b[1]!==f?(g={eventName:a,flowInstanceId:f},b[0]=a,b[1]=f,b[2]=g):g=b[2];a=c("MessengerWebUXLogger").useImpressionLoggerRef(g);b[3]!==e||b[4]!==a?(f=j.jsx(c("IGDSBox.react"),{containerRef:a,children:e}),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}function a(a){var e,f=d("react-compiler-runtime").c(31),g=a.attachment,h=a.mediaRenderQpl;a=a.stickerSize;a=a===void 0?k:a;var i=d("useIGDAttachmentUrl").useIGDAttachmentPlayableUrl(g);e=(e=(e=g.playableUrl)!=null?e:g.previewUrl)!=null?e:i;f[0]!==g.previewHeight||f[1]!==g.previewWidth||f[2]!==a?(i=m(g.previewWidth,g.previewHeight,a),f[0]=g.previewHeight,f[1]=g.previewWidth,f[2]=a,f[3]=i):i=f[3];i=i;var l=i[0];i=i[1];var q=g.playableUrl!=null,r;f[4]===Symbol["for"]("react.memo_cache_sentinel")?(r=d("IGDAnimatedImageControlsUtil").shouldEnableGIFPlayPause(),f[4]=r):r=f[4];r=r;var s=b("cr:9647")();s=s.isReduceMotionSettingEnabled;var t=q&&r&&s,u=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),v;f[5]!==s?(v=r?{animatedImageComponent:"IGDSticker",isReduceMotionSettingEnabled:String(s)}:void 0,f[5]=s,f[6]=v):v=f[6];f[7]!==u||f[8]!==v?(s={eventName:"animated_image_message",extraData:v,flowInstanceId:u},f[7]=u,f[8]=v,f[9]=s):s=f[9];u=c("MessengerWebUXLogger").useImpressionLoggerRef(s);f[10]!==h?(v=function(){h==null||h.endFail("load-sticker-error")},f[10]=h,f[11]=v):v=f[11];s=v;f[12]!==h?(v=function(){h==null||h.endSuccess()},f[12]=h,f[13]=v):v=f[13];v=v;f[14]!==g.accessibilitySummaryText||f[15]!==i||f[16]!==q||f[17]!==u||f[18]!==h||f[19]!==s||f[20]!==v||f[21]!==t||f[22]!==a||f[23]!==e||f[24]!==l?(r=t?j.jsx("div",{ref:q&&r?u:null,children:j.jsx(c("IGDPausableSticker.react"),{alt:g.accessibilitySummaryText,height:i,maxHeight:a,maxWidth:a,mediaRenderQpl:h,renderImagePlaceholder:e==null?p:void 0,src:e!=null?e:"",width:l})}):j.jsx("div",{ref:q&&r?u:null,children:j.jsx(c("MWXMessageImage.react"),{alt:g.accessibilitySummaryText,height:i,maxHeight:a,maxWidth:a,onError:s,onLoad:v,renderImagePlaceholder:e==null?o:void 0,src:e!=null?e:"",width:l})}),f[14]=g.accessibilitySummaryText,f[15]=i,f[16]=q,f[17]=u,f[18]=h,f[19]=s,f[20]=v,f[21]=t,f[22]=a,f[23]=e,f[24]=l,f[25]=r):r=f[25];i=r;f[26]!==g?(q=d("IGDAttachmentUtil").getStickerImpressionLoggingEventName(g),f[26]=g,f[27]=q):q=f[27];u=q;if(u!=null){f[28]!==u||f[29]!==i?(s=j.jsx(n,{eventName:u,children:i}),f[28]=u,f[29]=i,f[30]=s):s=f[30];return s}else return i}function o(){return j.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:l.glimmer})}o.displayName=o.name+" [from "+f.id+"]";function p(){return j.jsx(c("IGDSGlimmer.react"),{index:d("Random").intBetween(1,10),xstyle:l.glimmer})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentContainer.react",["IGDMessageContainerWithHighlightBar.react","IGDThreadListNewMessageLoggingDataContext","MWLSThread","MWXMessageBubbleCornerStyles.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.children,f=a.connectBottom,g=a.connectTop,i=a.outgoing,l=a.threadKey,m=a.withHighlightBar;a=a.xstyle;m=m===void 0?!1:m;l=d("MWLSThread").useThread(l);var n=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),o;b[0]!==l?(o=c("getInstamadilloLoggingExtraData")(l),b[0]=l,b[1]=o):o=b[1];b[2]!==n||b[3]!==o?(l={eventName:"igd_previews_xma_rendered",extraData:o,flowInstanceId:n},b[2]=n,b[3]=o,b[4]=l):l=b[4];n=c("MessengerWebUXLogger").useImpressionLoggerRef(l);o=i?"right":"left";if(b[5]!==f||b[6]!==g||b[7]!==o||b[8]!==a){l=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:o,connectBottom:f,connectTop:g});l=(h||(h=c("stylex"))).props(k.root,l,a);b[5]=f;b[6]=g;b[7]=o;b[8]=a;b[9]=l}else l=b[9];b[10]!==e||b[11]!==n||b[12]!==l?(f=j.jsx("div",babelHelpers["extends"]({},l,{ref:n,children:e})),b[10]=e,b[11]=n,b[12]=l,b[13]=f):f=b[13];g=f;if(m){b[14]!==g||b[15]!==i?(o=j.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:i,withMarginBottom:!1,children:g}),b[14]=g,b[15]=i,b[16]=o):o=b[16];return o}else return g}g["default"]=a}),98);
__d("LSCTAIconType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5,CAMERA:6,CIRCLED_X:7,PENCIL:8,META_HORIZON:9});f["default"]=a}),66);
__d("XCometMessengerControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/t/{?thread_key}/{?*extra_junk}/",Object.freeze({initial_e2ee_toggle_position:!1}),["/messages/archived/new/","/messages/filtered/","/messages/filtered/new/","/messages/filtered/t/{?thread_key}/","/messages/gallery/","/messages/groups/","/messages/groups/new/","/messages/groups/t/{?thread_key}/","/messages/people/","/messages/people/new/","/messages/people/t/{?thread_key}/","/messages/requests/new/","/messages/new/","/messages/read/","/messages/search/","/messages/search/t/{?thread_key}/","/messages/search/new/","/messages/thread/{?thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messages/e2ee/t/{?thread_key}/{?*extra_junk}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometE2EEThreadControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/e2ee/t/{thread_key}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMainControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/t/{thread_key}/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1,__pwa:!1}),["/archived/new/","/filtered/","/filtered/new/","/filtered/t/{?thread_key}/","/people/","/people/new/","/people/t/{?thread_key}/","/requests/new/","/new/","/folders/{folder_key}/t/{?thread_key}/","/gallery/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRouteBuilder",["CurrentEnvironment","XCometMessengerControllerRouteBuilder","XCometMessengerE2EEThreadControllerRouteBuilder","XMessengerDotComCometE2EEThreadControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","XMessengerDotComCometRootControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target,d=a.search;a=a.thread_key;return c("XCometMessengerE2EEThreadControllerRouteBuilder").buildURL({focus_target:b,search:d,thread_key:a})},buildHomeURL:function(){return c("XCometMessengerControllerRouteBuilder").buildURL({})},buildMultiThreadMesageSearchURL:function(a){return c("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/search/",a)},buildNewThreadURL:function(a){return c("XCometMessengerControllerRouteBuilder").buildExtraURL("/messages/new/",a)},buildURL:function(a){var b=a.focus_target,d=a.link_hash,e=a.search;a=a.thread_key;return c("XCometMessengerControllerRouteBuilder").buildURL({focus_target:b,link_hash:d,search:e,thread_key:a})}}:{buildE2EEThreadURL:function(a){var b=a.focus_target,d=a.search;a=a.thread_key;return c("XMessengerDotComCometE2EEThreadControllerRouteBuilder").buildURL({focus_target:b,search:d,thread_key:a})},buildHomeURL:function(){return c("XMessengerDotComCometRootControllerRouteBuilder").buildExtraURL("/t/",{})},buildMultiThreadMesageSearchURL:function(a){return null},buildNewThreadURL:function(a){var b=a.extra_junk,d=a.initial_e2ee_toggle_position,e=a.link_hash;a=a.thread_key;return c("XMessengerDotComCometMainControllerRouteBuilder").buildExtraURL("/new/",{extra_junk:b,initial_e2ee_toggle_position:d,link_hash:e,thread_key:a})},buildURL:function(a){var b=a.focus_target,d=a.link_hash,e=a.search;a=a.thread_key;return c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({focus_target:b,link_hash:d,search:e,thread_key:a})}};b=a.buildURL;d=a.buildHomeURL;e=a.buildNewThreadURL;f=a.buildE2EEThreadURL;a=a.buildMultiThreadMesageSearchURL;g.buildURL=b;g.buildHomeURL=d;g.buildNewThreadURL=e;g.buildE2EEThreadURL=f;g.buildMultiThreadMesageSearchURL=a}),98);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","I64","ImageIconSource","LSCTAIconType","LSIntEnum","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","react","recoverableViolation","requireDeferred"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useEffect,n=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function o(a){if(a==null)return null;switch((j||(j=d("LSIntEnum"))).toNumber(a)){case c("LSCTAIconType").NONE:return null;case c("LSCTAIconType").FB:return new(c("ImageIconSource"))(h("814640"),16,16);default:return null}}function a(a){var b=a.attachmentCta,e=a.ctaIconType,f=a.getCtaRegistryHandler;a.messageId;var g=a.renderButtonActionNonEventButton,h=a.renderDeeplinkActionButton,i=a.renderDisabledButtonActionButton,j=a.renderPopoverMenuButtonActionButton,p=a.renderUrlActionButton,q=a.threadKey,r=a.title,s=a.type;a=d("MWLSThread").useThread(q,function(a){return a.threadType});q=c("MessengerWebUXLogger").useImpressionLoggerRef({ctaType:s,eventName:"xma_attachment_cta",threadKey:q,threadType:a});m(function(){var a=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(s);a&&n.onReady(function(a){a.logImpression({surface:"admin_message"})})},[s]);a=d("AdsMessengerContext.react").useAdsMessengerContext();var t=a.isMessengerInAds;a=a.maybeGetCallbackFromURI;if(b==null)return s==="xma_disabled_cta"?l.jsx("div",babelHelpers["extends"]({className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x"},{ref:q,children:i(r)})):null;f=f(b);e=o(e);var u=null;switch(f.actionType){case"BUTTON":var v=f.secondaryInfo,w=f.primaryInfo;u=g(r,e,b,v,w);break;case"POPOVER_BUTTON":j&&(u=j(r,b,f.primaryInfo));break;case"URL":v=f.secondaryInfo;w=a==null?void 0:a(f.primaryInfo);t&&w!=null?u=g(r,e,b,v,w):u=p(r,e,b,v,f.primaryInfo);break;case"DISABLED_BUTTON":u=i(r);break;case"DEEPLINK":j=f.primaryInfo;a=j.loggingDetails;t=j.threadKey;g=d("MWInboxRouteBuilder").buildURL({thread_key:(k||(k=d("I64"))).to_string(t)});u=h(r,t,b,a,g);break;case"CTA_ERROR":c("recoverableViolation")(f.primaryInfo,f.secondaryInfo,void 0,{trackOnly:!0});u=null;break;case"NOT_SUPPORTED":u=null;break}return l.jsx("div",babelHelpers["extends"]({className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x"},{ref:q,children:u}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSPostbackCtaHandler",["AdsMessengerContext.react","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","react","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useContext;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useLSMessagingInitiatingSource")(),j=c("useLSMessagingSource")(),l=k(d("AdsMessengerContext.react").AdsMessengerContext),m=l.onSendPostback;return d("Int64Hooks").useCallbackInt64(function(h,k){if(m!=null)return c("promiseDone")(m(h,k));var l=d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(e,j);c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:g!=null?g:void 0,mark_read:!0,platform_token:h,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:i.ofNumber(c("LSMessageReplySourceType").NONE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:l}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:k,text:k,threadKey:e,threadType:i.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":53"))},[a,j,g,b,e,m])}g.usePostbackCtaHandler=a}),98);
__d("useIGDChatPollXMAActionHandler",["JSResourceForInteraction","react","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=c("JSResourceForInteraction")("IGDChatPollDetailsDialog.react").__setRef("useIGDChatPollXMAActionHandler");function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometLazyDialog")(i),e=b[0];a[0]!==e?(b=function(a,b,c){return e({pollId:b,threadKey:a,title:c},j)},a[0]=e,a[1]=b):b=a[1];return b}function j(){}g["default"]=a}),98);
__d("useMWCMPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return{pollVotingCapability:d("LSThreadBitOffset").has(170,a)}}))!=null?a:{};a=a.pollVotingCapability;return a!=null?a:!1}g["default"]=a}),98);
__d("useGetIGDXMARegistryHandler",["Clipboard","I64","IGDAttachmentUtil","MWLSPostbackCtaHandler","react-compiler-runtime","useIGDChatPollXMAActionHandler","useMWCMPollsVotingEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(4),e=c("useIGDChatPollXMAActionHandler")(),f=c("useMWCMPollsVotingEnabled")(a),g=d("MWLSPostbackCtaHandler").usePostbackCtaHandler();b[0]!==e||b[1]!==f||b[2]!==g?(a=function(a){var b=a.actionUrl,c=a.platformToken,i=a.type_,j=a.title,k=a.threadKey,l=["Title: "+j,"Type: "+i,"PlatformTokenPresent: "+(c!=null).toString(),"ActionUrlPresent: "+(b!=null).toString(),"ActionContentBlobPresent: "+(a.actionContentBlob!=null).toString()].join(", "),m=a.actionContentBlob,n=a.targetId;if(d("IGDAttachmentUtil").isUnsupportedCTA(a))return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};if(i==="xma_poll_details_button"||i==="xma_poll_details_card"){if(n==null||m==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a poll id and title while parsing polls XMA",secondaryInfo:"messenger_business_core_product"};return!f?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return e(k,n,m)},secondaryInfo:void 0}}if(i==="xma_postback")return{actionType:"BUTTON",primaryInfo:function(){return g(c,j)},secondaryInfo:[(h||(h=d("I64"))).to_string(k),31]};if(i==="xma_partnership_ads_copy_code")return{actionType:"BUTTON",primaryInfo:function(){var b;d("Clipboard").copy((b=a.actionUrl)!=null?b:"")},secondaryInfo:void 0};if(i==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};return b!=null?{actionType:"URL",primaryInfo:b,secondaryInfo:[(h||(h=d("I64"))).to_string(k),32]}:{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+l,secondaryInfo:"messenger_privacy_web"}},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("IGDXMAAttachmentItemCtaButton.react",["IGDBroadcastChannelQPL","IGDSButton.react","MWXMAAttachmentItemCtaButtonBase.react","err","react","react-compiler-runtime","requireDeferred","useGetIGDXMARegistryHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=c("requireDeferred")("logXMACtaClicked").__setRef("IGDXMAAttachmentItemCtaButton.react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.attachmentCta,f=a.ctaIconType,g=a.messageId,h=a.threadKey,m=a.title;a=a.type;var n=c("useGetIGDXMARegistryHandler")(h),o=d("IGDBroadcastChannelQPL").useLogUpdatePollStart(h,a),p;b[0]!==o?(p=function(a,b){j.onReady(function(c){return c.logXMACtaClicked({cta:a,loggingDetails:b,source:2})}),o()},b[0]=o,b[1]=p):p=b[1];var q=p;b[2]!==q?(p=function(a,b,d,e,f){return i.jsx(c("IGDSButton.react"),{display:"block",label:a,onClick:function(){q(d,e);return f()},size:"small",variant:"tertiary"})},b[2]=q,b[3]=p):p=b[3];var r;b[4]!==q?(r=function(a,b,d,e,f){return i.jsx(c("IGDSButton.react"),{display:"block",href:f,label:a,onClick:function(){return q(d,e)},size:"small",variant:"tertiary"})},b[4]=q,b[5]=r):r=b[5];var s;b[6]!==e||b[7]!==f||b[8]!==n||b[9]!==g||b[10]!==p||b[11]!==r||b[12]!==h||b[13]!==m||b[14]!==a?(s=i.jsx(c("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentCta:e,ctaIconType:f,getCtaRegistryHandler:n,messageId:g,renderButtonActionNonEventButton:p,renderDeeplinkActionButton:l,renderDisabledButtonActionButton:k,renderUrlActionButton:r,threadKey:h,title:m,type:a}),b[6]=e,b[7]=f,b[8]=n,b[9]=g,b[10]=p,b[11]=r,b[12]=h,b[13]=m,b[14]=a,b[15]=s):s=b[15];return s}function k(a){return i.jsx(c("IGDSButton.react"),{display:"block",isDisabled:!0,label:a,size:"small",variant:"tertiary"})}k.displayName=k.name+" [from "+f.id+"]";function l(a,b,d,e,f){throw c("err")("XMA Attachment Item deeplink action button not implemented for IGD")}g["default"]=a}),98);
__d("useAttachmentDataLS",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId).map(function(a){var b=j(e,a);return{attachment:a,attachmentCTAs:b}})},[a,e],f.id+":41").toSorted(function(a,b){return(h||(h=d("I64"))).compare(a.attachment.attachmentIndex,b.attachment.attachmentIndex)}),k=(b=g[0])==null?void 0:b.attachment;b=d("ReQLSuspense").useArray(function(){return k==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.attachment_items).getKeyRange(k.attachmentFbid).map(function(a){var b=j(e,a);return{attachmentItem:a,attachmentItemCTAs:b}})},[k,e],f.id+":60").reduce(function(a,b){var c=b.attachmentItem;b=b.attachmentItemCTAs;a[0].push(c);a[1].push(b);return a},[[],[]]);var l=b[0];b=b[1];var m=[];g.map(function(a){m.push(a.attachment)});if(l.length>0)b=b;else{g=(g=g[0])==null?void 0:g.attachmentCTAs;b=g?[g]:[]}return{attachmentCTAs:b,attachmentItems:l,attachments:m}}function j(a,b){var c={},e=b.attachmentCta1Id,g=b.attachmentCta2Id,h=b.attachmentCta3Id;b=b.defaultCtaId;c.defaultCta=b!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b),f.id+":113"):void 0;c.attachmentCta1=e!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(e),f.id+":121"):void 0;c.attachmentCta2=g!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(g),f.id+":129"):void 0;c.attachmentCta3=h!=null?d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(h),f.id+":137"):void 0;return c}g.useAttachmentDataLS=a}),98);
__d("MWEBEntrypointsKillswitch.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({JEWEL_THREADLIST:"jewel_threadlist",IN_THREAD_GAP_UI:"in_thread_gap_ui",IN_THREAD_SCROLL_BANNER:"in_thread_scroll_banner",IN_THREAD_SEARCH:"in_thread_search",INBOX_INTERSTITIAL:"inbox_interstitial",INBOX_THREADLIST:"inbox_threadlist",INBOX_THREADLIST_UNIVERSAL_SEARCH:"inbox_threadlist_universal_search",MEDIA_GALLERY_RESTORE:"media_gallery_restore",EB_SETTINGS:"eb_settings",AUTO_RESTORE:"auto_restore",DYI:"dyi",IGD_NO_KILLSWITCH_APPLICABLE:"igd_no_killswitch_applicable",NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:"not_an_entrypoint_no_killswitch_applicable",IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:"in_development_add_a_todo_comment_with_a_task_above_this_to_add_a_killswitch",PINNED_MESSAGES:"pinned_messages",BUMP_MESSAGES:"bump_messages",SIDEBAR_SETTINGS_PRIVACY_MENU:"sidebar_settings_privacy_menu"});c=a;f["default"]=c}),66);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(12).fetch([[[a[1]]],"messageId"]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(d){return c.storedProcedure(b("LSVerifyThreadRowExists"),a[0],a[2],c.i64.cast([0,1]))},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=c.i64.cast([0,1]):(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[3].set("num_context_messages",a[3]),d[4]=d[3].get("thread_key"),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,19]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):(f=e.item,d[1]=f.timestampMs,c.filter(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(f){var e=f.done;f.value;return e?c.sequence([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:c.i64.cast([0,0]),minMessageId:a[1],maxTimestampMs:c.i64.cast([0,0]),maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=c.i64.cast([0,1]):(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[4].set("num_context_messages",a[3]),d[5]=d[4].get("thread_key"),d[6]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[5]),c.i64.cast([0,19]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):0}))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxMessagePointQueryStoredProcedure";a.__tables__=["messages","messages_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSMessagePointQueryStoredProcedure",["LSMessagePointQuery","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSMessagePointQuery"),e.threadKey,e.messageId,e.threadType,e.numContextMessages);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("fetchOpenMissingMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var g;g=(h||(h=d("I64"))).to_int32((g=b.syncGroup)!=null?g:(h||(h=d("I64"))).neg_one);if(g!==-1&&g===95){c("FBLogger")("messenger_web").mustfix("fetchMissingMessage: incorrect call to MPQ with secure mailbox");return}yield a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b.threadKey,threadType:b.threadType})},"readwrite",void 0,void 0,f.id+":38")});return i.apply(this,arguments)}g["default"]=a}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(a,b,c,d,e,f,g){"use strict";b("cr:10049")==null||b("cr:10049").overwriteSamplingRate();function a(a){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLCancel:function(b){c("QPLUserFlow").endCancel(a,{instanceKey:b})},markQPLFailure:function(b,d){var e;c("QPLUserFlow").endFailure(a,(e=d==null?void 0:d.name)!=null?e:"fail",{error:d,instanceKey:b})},markQPLFailureWithMsg:function(b,d){c("QPLUserFlow").endFailure(a,d,{instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}}g["default"]=a}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){i==null&&(i=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return i}function a(a){var b=j().markQPLStart();j().addQPLAnnotations(b,{string:{threadType:(h||(h=d("I64"))).to_string(a)}});return b}function b(a,b,c){j().markQPLPoint(a,"wait_act_thread_start","before fetching messages range from table"),j().addQPLAnnotations(a,{"int":{version:1},string:{direction:b,thread_id:(h||(h=d("I64"))).to_string(c)}})}function e(a,b){j().markQPLFailureWithMsg(a,b)}function f(a){j().markQPLCancel(a)}function k(a){j().markQPLPoint(a,"wait_act_thread_end","before fetching messages range from table"),j().markQPLPoint(a,"load_more_msgs_start","load more messages from MAW DB")}function l(a){j().markQPLPoint(a,"load_messages_from_eb_start","load more messages from EB")}function m(a){j().markQPLPoint(a,"load_messages_from_eb_end","load more messages from EB")}function n(a){j().markQPLPoint(a,"load_messages_from_local_db_start")}function o(a){j().markQPLPoint(a,"load_messages_from_local_db_end")}function p(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_start")}function q(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_end")}function r(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function s(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function t(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function u(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function v(a,b){j().markQPLPoint(a,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),j().addQPLAnnotations(a,{bool:{hasMoreBefore:b}})}function w(a){j().markQPLSuccess(a)}function x(a,b){j().markQPLPoint(a,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+b)}function y(a,b){j().markQPLFailure(a,b)}g.logLoadMoreMsgsStart=a;g.logLoadMoreMsgsThreadWaiting=b;g.logLoadMoreMsgsFailure=e;g.logLoadMoreMsgsCancel=f;g.logLoadMoreMsgsThreadReadyFetchMsgs=k;g.logLoadMessagesFromEBStart=l;g.logLoadMessagesFromEBEnd=m;g.logLoadMessagesFromLocalDBStart=n;g.logLoadMessagesFromLocalDBEnd=o;g.logInsertMessageResponseToLSDBStart=p;g.logInsertMessageResponseToLSDBEnd=q;g.logDispatchDownloadStateUpdatesStart=r;g.logDispatchDownloadStateUpdatesEnd=s;g.logCallBridgeHandlersStart=t;g.logCallBridgeHandlersEnd=u;g.logLoadMoreMsgsFetched=v;g.logLoadMoreMsgsSuccess=w;g.logLoadMoreMsgsRangeQuery=x;g.logLoadMoreMsgsRuntimeError=y}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","MAWGetIsMediaDownloadStatusEnabled","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,d,e){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,f,g){var i=e.editMsgHistory,j=e.expiringCountdown,k=e.medias,l=e.msgs,m=e.polls,n=e.quotedMsgs,o=e.reactions,p=e.receiverFetchInfoPayloads;e=e.xmas;g!=null&&d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(g);d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled()&&f({tag:"NewXMAs",value:e});g!=null&&(d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(g),d("MAWDataSourceLogger").logCallBridgeHandlersStart(g));n!=null&&n.length>0&&(yield d("MAWBridgeNewMsgHandler").bulkCall(c,n));yield d("MAWBridgeNewMsgHandler").bulkCall(c,l);yield (h||(h=b("Promise"))).all(k.map(function(a){return d("MAWBridgeNewMediaHandler").call(c,a)}));yield h.all(e.map(function(a){return d("MAWBridgeNewXMAHandler").call(c,a)}));yield h.all(p.map(function(a){return d("MAWBridgeNewReceiverFetchInfoHandler").call(c,a)}));yield h.all(m.map(function(a){return d("MAWBridgeNewPollHandler").call(c,a)}));yield d("MAWBridgeMsgsStartCountdownHandler").call(c,{msgs:j});yield h.all(o.map(function(a){return a.type==="delete"?d("MAWBridgeDeleteReactionHandler").call(c,a.reaction):d("MAWBridgeReactionUpsertHandler").call(c,a.reaction)}));yield d("MAWBridgeEditMsgHistoryAddedHandler").call(a,c,i);g!=null&&d("MAWDataSourceLogger").logCallBridgeHandlersEnd(g)});return j.apply(this,arguments)}function a(a,b,c,d){return a.runInTransaction(function(e){return i(a,e,b,c,d)},"readwrite","ui",void 0,f.id+":109")}function c(a,b,c){return a.runInTransaction(function(d){return i(a,d,babelHelpers["extends"]({},b,{expiringCountdown:[],hasMoreAfter:!1,hasMoreBefore:!1}),c)},"readwrite","ui",void 0,f.id+":129")}g.insertMessageResponseToDBInExistingTransaction=i;g.insertMessageResponseIntoDatabase=a;g.insertMessageResponseIntoDatabaseByExternalId=c}),98);
__d("MpsMessageToLoadResponse",["MpsMessageToBridge"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],c=[],e=[],f=[],g=[],h=[];for(a of a){var i;i=(i=d("MpsMessageToBridge").mpsFullMessagetoBridge(a))!=null?i:{};var j=i.supplementals;i=i.topLevel;j==null||j.forEach(function(a){a.kind==="bridgeEditHistoryMsg"?b.push(a.value):a.kind==="bridgeReactionAction"?c.push(a.value):a.kind==="bridgeMsgsStartCountdown"?f.push.apply(f,a.value.msgs):a.kind==="bridgeMedia"?h.push(a.value):a.kind==="bridgeReceiverFetchInfo"&&g.push(a.value)});(i==null?void 0:i.kind)==="bridgeMsg"&&e.push(i.value)}return{editMsgHistory:b,expiringCountdown:f,medias:h,msgs:e,polls:[],reactions:c,receiverFetchInfoPayloads:g,xmas:[]}}g.messageToLoadMsgsResponse=a}),98);
__d("fetchSecureMissingMessage",["MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWMpsGating","MAWPutMessagesToDB","MpsMessageToLoadResponse","MpsOverBridge","MpsTypes","WAJids","WAStanzaUtils","asyncToGeneratorRuntime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWBridgeIssuePointQueryHandler").__setRef("fetchSecureMissingMessage");function a(a,b,c,d,e,f,g){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,e,g,i,k,l){c=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,c,l));var m=c.chatJid;if(d("MAWMpsGating").isFullMpsEnabled()){l=(yield d("MpsOverBridge").mps().loadMessage({config:{strategy:"local-first"},debug:{purpose:"fetchSecureMissingMessage"},messageId:d("MpsTypes").toMessageId(e),threadId:d("MpsTypes").toThreadId(m)}));if(l.value!=null){c=babelHelpers["extends"]({},d("MpsMessageToLoadResponse").messageToLoadMsgsResponse([l.value]),{hasMoreAfter:!1,hasMoreBefore:!1});yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(a,c,i)}return}l=(yield j({config:{admin:!0,editMsgHistory:!1,media:!0,polls:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:e}));yield d("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(a,l,i);if(l.msgs.length>0||!g)return;var n=(yield h.load());return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield n.call(a,{jid:m,messageId:e,taskSource:k,threadId:d("WAJids").threadIdForChatJid(m)})});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":105")});return i.apply(this,arguments)}function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.config;a=a.externalId;return babelHelpers["extends"]({},yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:b,externalId:d("WAStanzaUtils").toStanzaId(a)}))});return k.apply(this,arguments)}g["default"]=a}),98);
__d("isMWEBEntrypointEnabled",["MWEBEntrypointsKillswitch.enum","justknobx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case c("MWEBEntrypointsKillswitch.enum").INBOX_INTERSTITIAL:return c("justknobx")._("2598");case c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST:return c("justknobx")._("2599");case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST:return c("justknobx")._("2600");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI:return c("justknobx")._("2601");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER:return c("justknobx")._("2602");case c("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE:return c("justknobx")._("2603");case c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SEARCH:return c("justknobx")._("2604");case c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST_UNIVERSAL_SEARCH:return c("justknobx")._("2768");case c("MWEBEntrypointsKillswitch.enum").MEDIA_GALLERY_RESTORE:return c("justknobx")._("2841");case c("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES:return c("justknobx")._("2937");case c("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES:return c("justknobx")._("3682");case c("MWEBEntrypointsKillswitch.enum").SIDEBAR_SETTINGS_PRIVACY_MENU:return c("justknobx")._("4788");case c("MWEBEntrypointsKillswitch.enum").DYI:case c("MWEBEntrypointsKillswitch.enum").EB_SETTINGS:case c("MWEBEntrypointsKillswitch.enum").IGD_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE:case c("MWEBEntrypointsKillswitch.enum").IN_DEVELOPMENT_ADD_A_TODO_COMMENT_WITH_A_TASK_ABOVE_THIS_TO_ADD_A_KILLSWITCH:return!0}}g["default"]=a}),98);
__d("useMWEBBackupStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBBackupStateQuery",selections:[{kind:"RequiredField",field:a,action:"LOG",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBBackupStateQuery",selections:[a]},params:{cacheID:"780695c71d771c39c4d001bd676844c7",id:null,metadata:{},name:"useMWEBBackupStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBBackupState",["CometRelay","isMWEBEntrypointEnabled","useMWEBBackupStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=a.entrypoint;var e=d("CometRelay").useClientQuery(h!==void 0?h:h=b("useMWEBBackupStateQuery.graphql"),{});return!c("isMWEBEntrypointEnabled")(a)||(e==null?void 0:e.viewer)==null?0:(a=e.viewer.backup_state)!=null?a:1}g["default"]=a}),98);
__d("useGetOriginalMsgFromBumpMsg",["FBLogger","LSMEBTaskCreationSource","LSMessagingThreadTypeUtil","MAWFetchExternalIdUsingCache","MAWStateContext.react","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchOpenMissingMessage","fetchSecureMissingMessage","isMWBumpMessage","promiseDone","react","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useContext;function a(a,b,e){var g=c("isMWBumpMessage")(a),i=(h||(h=c("useReStore")))(),k=j(d("MAWStateContext.react").MAWDispatchContext);a=c("useMWEBBackupState")({entrypoint:c("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES});var l=d("ReQLSuspense").useFirst(function(){return e!=null?d("ReQL").fromTableAscending(i.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(e):d("ReQL").empty()},[i,e],f.id+":44"),m=d("ReQLSuspense").useFirst(function(){return b!=null&&g?d("ReQL").fromTableDescending(i.tables.messages.index("messageId")).getKeyRange(b):d("ReQL").empty()},[i.tables.messages,b,g],f.id+":56");if(m==null&&l!=null&&b!=null&&g)if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(l.threadType)){var n=a===3;c("promiseDone")(d("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(b).then(function(a){a!=null?c("promiseDone")(c("fetchSecureMissingMessage")(i,l.threadKey,a,n,k,c("LSMEBTaskCreationSource").EB_POINT_QUERY_BUMP_MESSAGES,"MAWFetchBumpMessage")):c("FBLogger")("mw_bump_message").warn("[useGetOriginalMsgFromBumpMsg] failed fetch external id, invalid msgId %s",b)}))}else c("promiseDone")(c("fetchOpenMissingMessage")(i,l,b));return m}g["default"]=a}),98);
__d("useAttachmentData",["useAttachmentDataLS","useGetOriginalMsgFromBumpMsg"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=c("useGetOriginalMsgFromBumpMsg")(a.replyType,a.replySourceId,a.threadKey);b=b!=null?b:a;a=d("useAttachmentDataLS").useAttachmentDataLS(b);b=a.attachmentCTAs;var e=a.attachmentItems;a=a.attachments;return{attachmentCTAs:b,attachmentItems:e,attachments:a}}g.useAttachmentData=a}),98);
__d("MWPAttachmentDataContext",["FBLogger","I64","ReQL","ReQLSuspense","react","useAttachmentData","useAttachmentDataLS","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j,m=l.createContext,n=l.useContext,o=m({attachmentCTAs:[],attachmentItems:[],attachments:[]});function a(a){var b=a.children,c=a.isSecureMessage;a=a.message;a=d("useAttachmentData").useAttachmentData(a,c);return k.jsx(o.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.attachmentData;a=a.children;return k.jsx(o.Provider,{value:b,children:a})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.children;a=a.message;a=d("useAttachmentDataLS").useAttachmentDataLS(a);return k.jsx(o.Provider,{value:a,children:b})}e.displayName=e.name+" [from "+f.id+"]";function p(a){var b=n(o).attachments;a=q(a);if(b.length===0&&a.length>0){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachments from context, instead retrieved attachments directly from LSDB");return a}return b}function q(a){var b=(h||(h=c("useReStore")))(),e=a==null?void 0:a.messageId,g=a==null?void 0:a.threadKey;return d("ReQLSuspense").useArray(function(){return e!=null&&g!=null?d("ReQL").fromTableAscending(b.tables.attachments).getKeyRange(g,e):d("ReQL").empty()},[b,e,g],f.id+":104").toSorted(function(a,b){return(i||(i=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)})}function r(a){var b=(i||(i=d("I64"))).to_int32(a.attachmentIndex);b=(b=n(o).attachmentCTAs[b])!=null?b:{};a=s(a);if((b==null?void 0:b.defaultCta)==null&&(a==null?void 0:a.defaultCta)!=null||(b==null?void 0:b.attachmentCta1)==null&&(a==null?void 0:a.attachmentCta1)!=null){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentCTAs from context, instead retrieved attachmentCTAs directly from LSDB");return a}return b}function s(a){var b=(h||(h=c("useReStore")))(),d={};d.defaultCta=t(b,a==null?void 0:a.defaultCtaId);d.attachmentCta1=t(b,a==null?void 0:a.attachmentCta1Id);d.attachmentCta2=t(b,a==null?void 0:a.attachmentCta2Id);d.attachmentCta3=t(b,a==null?void 0:a.attachmentCta3Id);return d}function t(a,b){return d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(b):d("ReQL").empty()},[a,b],f.id+":158")}function u(a){var b;b=(b=n(o).attachmentItems)!=null?b:[];a=v(a);if(b.length===0&&a.length>0){c("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentItems from context, instead retrieved attachmentItems directly from LSDB");return a}return b}function v(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useArray(function(){var c=a.attachmentFbid;return d("ReQL").fromTableAscending(b.tables.attachment_items).getKeyRange(c)},[a,b],f.id+":188")}g.MWPAttachmentDataContext=o;g.MWPAttachmentDataContextProvider=a;g.MWPAttachmentDataContextProviderMAW=b;g.MWPAttachmentDataContextProviderLS=e;g.useMWPGetAttachments=p;g.useMWPGetAttachmentCTAs=r;g.useMWPGetAttachmentItems=u}),98);
__d("IGDXMAAttachmentItemBodyCta.react",["IGDXMAAttachmentItemCtaButton.react","MWPAttachmentDataContext","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x7v7x1q",marginTop:"x14vqqas",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(23),e=a.attachment;a=a.attachmentItem;var f=a.cta1IconType,g=a.cta1Title,i=a.cta1Type,l=a.cta2Title,m=a.cta2Type,n=a.cta3Title,o=a.cta3Type,p=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(a),q=p.attachmentCta1,r=p.attachmentCta2;p=p.attachmentCta3;if(i==null||g==null||q==null)return null;a=a.titleText==null&&a.subtitleText==null;var s;b[0]!==a?(s=(h||(h=c("stylex"))).props(k.buttonsWrapper,a?k.buttonsOnly:!1),b[0]=a,b[1]=s):s=b[1];b[2]!==e.messageId||b[3]!==e.threadKey||b[4]!==q||b[5]!==f||b[6]!==g||b[7]!==i?(a=j.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentCta:q,ctaIconType:f,messageId:e.messageId,threadKey:e.threadKey,title:g,type:i}),b[2]=e.messageId,b[3]=e.threadKey,b[4]=q,b[5]=f,b[6]=g,b[7]=i,b[8]=a):a=b[8];b[9]!==e.messageId||b[10]!==e.threadKey||b[11]!==r||b[12]!==p||b[13]!==f||b[14]!==l||b[15]!==m||b[16]!==n||b[17]!==o?(q=m!=null&&l!=null&&r!=null?j.jsxs(j.Fragment,{children:[j.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentCta:r,ctaIconType:f,messageId:e.messageId,threadKey:e.threadKey,title:l,type:m}),o!=null&&n!=null&&p!=null?j.jsx(c("IGDXMAAttachmentItemCtaButton.react"),{attachmentCta:p,ctaIconType:f,messageId:e.messageId,threadKey:e.threadKey,title:n,type:o}):null]}):null,b[9]=e.messageId,b[10]=e.threadKey,b[11]=r,b[12]=p,b[13]=f,b[14]=l,b[15]=m,b[16]=n,b[17]=o,b[18]=q):q=b[18];b[19]!==s||b[20]!==a||b[21]!==q?(g=j.jsxs("div",babelHelpers["extends"]({},s,{children:[a,q]})),b[19]=s,b[20]=a,b[21]=q,b[22]=g):g=b[22];return g}g["default"]=a}),98);
__d("MNXMASubtitleDecorationType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5,OCULUS_ICON:6,WHATSAPP_ICON:7});f["default"]=a}),66);
__d("MWPXMAIconParser",["ConstUriUtils","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:c("recoverableViolation")("Unknown Icon color: "+a,"messenger_web_sharing");return"gray"}}function a(a){if(a==null)return;if(a.startsWith("https")||a.startsWith("blob"))return a;if(!a.startsWith("ls"))return;a=a.replace("ls","http");a=d("ConstUriUtils").getUri(a);if(a==null)return;var b=a.getQueryParam("icon");a=a.getQueryParam("circleColor");if(typeof b==="string"&&typeof a==="string"){a=h(a);return{color:a,icon:b}}return}g.parse=a}),98);
__d("MWXMAIconParser.react",["ix","FDSAirplaneFilled20Icon","FDSCalendarAddFilled20Icon","FDSCalendarFilled20Icon","FDSCamcorderCrossFilled20Icon","FDSCamcorderFilled20Icon","FDSCamcorderIncomingFilled20Icon","FDSCamcorderOutgoingFilled20Icon","FDSCamcorderPlusFilled20Icon","FDSCheckmarkCircleFilled20Icon","FDSCheckmarkFilled20Icon","FDSCrossFilled20Icon","FDSCurrencyUsdFilled20Icon","FDSDocumentFilled20Icon","FDSFriendConfirmFilled20Icon","FDSFriendRemoveFilled20Icon","FDSFriendRequestFilled20Icon","FDSGroupFilled20Icon","FDSKeyHouseFilled20Icon","FDSLocationFilled20Icon","FDSMapFilled20Icon","FDSPhoneCrossFilled20Icon","FDSPhoneFilled20Icon","FDSPhoneIncomingFilled20Icon","FDSPhoneOutgoingFilled20Icon","FDSPinFilled20Icon","FDSPostClockFilled20Icon","FDSPostSlashFilled20Icon","FDSShieldFilled20Icon","FDSShoppingCartFilled20Icon","FDSTagFilled20Icon","FDSWatchTvFilled20Icon","MWPXMAIconParser","fbicon","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a){case"airplane":return c("FDSAirplaneFilled20Icon");case"calendar":return c("FDSCalendarFilled20Icon");case"calendar-add":return c("FDSCalendarAddFilled20Icon");case"camcorder":return c("FDSCamcorderFilled20Icon");case"camcorder-incoming":return c("FDSCamcorderIncomingFilled20Icon");case"camcorder-missed":return c("FDSCamcorderCrossFilled20Icon");case"camcorder-outgoing":return c("FDSCamcorderOutgoingFilled20Icon");case"camcorder-plus":return c("FDSCamcorderPlusFilled20Icon");case"checkmark-circle":return c("FDSCheckmarkCircleFilled20Icon");case"cross-circle":return c("FDSPostSlashFilled20Icon");case"currency-peso":return d("fbicon")._(h("1174630"),20);case"currency-pound":return d("fbicon")._(h("1174587"),20);case"currency-taka":return d("fbicon")._(h("182108"),20);case"currency-thai-baht":return d("fbicon")._(h("876716"),20);case"currency-usd":return c("FDSCurrencyUsdFilled20Icon");case"document-complete":return c("FDSDocumentFilled20Icon");case"friend-generic":return c("FDSFriendRequestFilled20Icon");case"friend-generic-checkmark":return c("FDSFriendConfirmFilled20Icon");case"group":return c("FDSGroupFilled20Icon");case"group-block":return c("FDSFriendRemoveFilled20Icon");case"location":return c("FDSLocationFilled20Icon");case"pin":return c("FDSPinFilled20Icon");case"phone":return c("FDSPhoneFilled20Icon");case"phone-incoming":return c("FDSPhoneIncomingFilled20Icon");case"phone-outgoing":return c("FDSPhoneOutgoingFilled20Icon");case"shield":return c("FDSShieldFilled20Icon");case"phone-missed":return c("FDSPhoneCrossFilled20Icon");case"question-circle":return c("FDSPostClockFilled20Icon");case"tag":return c("FDSTagFilled20Icon");case"watch":return c("FDSWatchTvFilled20Icon");case"map":return c("FDSMapFilled20Icon");case"house-keyhole":return c("FDSKeyHouseFilled20Icon");case"document":return c("FDSDocumentFilled20Icon");case"checkmark":return c("FDSCheckmarkFilled20Icon");case"shopping-cart":return c("FDSShoppingCartFilled20Icon");case"cross":return c("FDSCrossFilled20Icon");default:c("recoverableViolation")("Unknown XMA Icon: "+a,"messenger_web_sharing");return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=i(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWXMAAttachmentItemIcon.react",["FDSImageCover.react","FDSSkittleIcon.react","InteractionTracingMetrics","MWXMAIconParser.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachment,e=a.attachmentItem,f=a.getFaviconUrlXMA,g=a.mediaRenderQpl,h=d("MWXMAIconParser.react").parse((a=f(b,e,"MWXMAAttachmentItemIconImpl",g))!=null?a:"");j(function(){g==null||g.addPoint("render-xma-attachment-item-icon",{bool:{has_icon:h!=null}}),h!=null&&c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"render-xma-attachment-item-icon","AppTiming")})},[h,g]);if(h==null)return null;return typeof h==="string"?i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},{children:i.jsx(c("FDSImageCover.react"),{alt:"Icon for this message",src:h,style:{borderRadius:"50%",height:"36px",width:"36px"}})})):i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},{children:i.jsx(c("FDSSkittleIcon.react"),{color:h.color,icon:h.icon,size:36})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentItemIconWithPlaceholder.react",["CometPlaceholder.react","InteractionTracingMetrics","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={loadingPlaceholder:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function a(a){var b=a.attachment,d=a.attachmentItem,e=a.getFaviconUrlXMA,f=a.mediaRenderQpl;j(function(){f==null||f.addPoint("render-xma-attachment-item-icon-with-placeholder"),c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"render-xma-attachment-item-icon-with-placeholder","AppTiming")})},[f]);return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",height:36,width:36,xstyle:k.loadingPlaceholder}),name:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",children:i.jsx(c("MWXMAAttachmentItemIcon.react"),{attachment:b,attachmentItem:d,getFaviconUrlXMA:e,mediaRenderQpl:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIcon_DEPRECATED.react",["cr:2058","cr:6570","getMDSIconColorCometFallback","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["backgroundEnabled","color"],j,k=j||d("react");function a(a){var c=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.backgroundEnabled,f=a.color;a=babelHelpers.objectWithoutPropertiesLoose(a,i);if(b("cr:6570")!=null)return k.jsx(b("cr:6570"),babelHelpers["extends"]({color:d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(f),ref:c},a));return b("cr:2058")!=null?k.jsx(b("cr:2058"),babelHelpers["extends"]({backgroundEnabled:e,color:f,ref:c},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["FDSAppThreadsFilled16Icon","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon_DEPRECATED.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=a.subtitleDecorationType;return d("Int64Hooks").useMemoInt64(function(){switch((i||(i=d("LSIntEnum"))).toNumber(b)){case c("MNXMASubtitleDecorationType").THREADS_ICON:return j.jsx(c("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:c("FDSAppThreadsFilled16Icon")});default:return null}},[b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyForCardMainText.react",["I64","IGDSBox.react","IGDSText.react","LSIntEnum","MNXMASubtitleDecorationType","MWXMAAttachmentItemIconWithPlaceholder.react","MWXMAAttachmentSubtitleDecoration.react","MWXMAIconParser.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=d("react-compiler-runtime").c(37),e=a.attachment,f=a.attachmentItem,g=a.body,h=a.captionBodyText,l=a.favIconUrl,m=a.subtitleDecorationType;a=a.title;var n;b[0]!==l?(n=l!=null?d("MWXMAIconParser.react").parse(l):null,b[0]=l,b[1]=n):n=b[1];n=n;var o;b[2]!==e.maxTitleNumOfLines?(o=e.maxTitleNumOfLines!=null?(i||(i=d("I64"))).to_int32(e.maxTitleNumOfLines):3,b[2]=e.maxTitleNumOfLines,b[3]=o):o=b[3];o=o;var p;b[4]!==e.maxSubtitleNumOfLines?(p=e.maxSubtitleNumOfLines!=null?(i||(i=d("I64"))).to_int32(e.maxSubtitleNumOfLines):3,b[4]=e.maxSubtitleNumOfLines,b[5]=p):p=b[5];p=p;var q;b[6]!==n?(q={0:{className:"x6s0dn4 x78zum5 x1q0g3np x1iyjqo2"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x1iyjqo2 xyri2b x1c1uobl"}}[!!(n!=null)<<0],b[6]=n,b[7]=q):q=b[7];var r;b[8]!==e||b[9]!==f||b[10]!==l||b[11]!==n?(r=n!=null?k.jsx(c("MWXMAAttachmentItemIconWithPlaceholder.react"),{attachment:e,attachmentItem:f,getFaviconUrlXMA:function(){return l!=null?l:void 0},mediaRenderQpl:void 0},"icon"):null,b[8]=e,b[9]=f,b[10]=l,b[11]=n,b[12]=r):r=b[12];b[13]!==n?(f={0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 xdt5ytf xg8j3zb xyqdw3p"}}[!!(n==null)<<0],b[13]=n,b[14]=f):f=b[14];b[15]!==o||b[16]!==a?(n=Boolean(a)&&k.jsx(c("IGDSText.react"),{maxLines:o,size:"footnote",weight:"semibold",children:a}),b[15]=o,b[16]=a,b[17]=n):n=b[17];b[18]!==e.defaultCtaType||b[19]!==h?(o=Boolean(h)&&e.defaultCtaType!=="igd_web_post_share"&&k.jsx(c("IGDSText.react"),{maxLines:5,size:"footnote",weight:"normal",children:h},"title"),b[18]=e.defaultCtaType,b[19]=h,b[20]=o):o=b[20];b[21]!==g||b[22]!==p||b[23]!==m||b[24]!==a?(e=Boolean(g)&&k.jsxs("div",babelHelpers["extends"]({},{0:{},1:{className:"x6s0dn4 x78zum5 x1y1aw1k"}}[!!(a!=null)<<0],{children:[m!=null&&!(i||(i=d("I64"))).equal(m,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMASubtitleDecorationType").DEFAULT))?k.jsx(c("IGDSBox.react"),{marginEnd:2,children:k.jsx(c("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:m})}):null,k.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:p,size:"footnote",children:g})]})),b[21]=g,b[22]=p,b[23]=m,b[24]=a,b[25]=e):e=b[25];b[26]!==n||b[27]!==o||b[28]!==e?(h=k.jsxs("div",{children:[n,o,e]}),b[26]=n,b[27]=o,b[28]=e,b[29]=h):h=b[29];b[30]!==h||b[31]!==f?(g=k.jsx("div",babelHelpers["extends"]({},f,{children:h})),b[30]=h,b[31]=f,b[32]=g):g=b[32];b[33]!==g||b[34]!==q||b[35]!==r?(p=k.jsxs("div",babelHelpers["extends"]({},q,{children:[r,g]})),b[33]=g,b[34]=q,b[35]=r,b[36]=p):p=b[36];return p}g["default"]=a}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.attachment,c=a.renderDefaultListItem,e=a.renderPercentageListItem;a=[{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:b.listItemContactUrlFallbackList1,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList1(b),id:b.listItemId1,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage1,titleText:b.listItemTitleText1,totalCount:b.listItemTotalCount1},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:b.listItemContactUrlFallbackList2,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList2(b),id:b.listItemId2,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage2,titleText:b.listItemTitleText2,totalCount:b.listItemTotalCount2},{contactUrlExpirationTimestampList:b.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:b.listItemContactUrlFallbackList3,contactUrlList:d("LSMediaUrlAttachment").listItemContactUrlList3(b),id:b.listItemId3,progressBarFilledPercentage:b.listItemProgressBarFilledPercentage3,titleText:b.listItemTitleText3,totalCount:b.listItemTotalCount3}];var f=[];a.forEach(function(a){var b=a.contactUrlExpirationTimestampList,c=a.contactUrlFallbackList,d=a.contactUrlList,e=a.id,g=a.progressBarFilledPercentage,h=a.titleText;a=a.totalCount;if(e!=null){d=d!=null?d.split(","):[];var i=b!=null?b.split(","):[],j=c!=null?c.split(","):[];f.push({contacts:d.map(function(a,b){return{url:a,urlExpirationTimestamp:i[b],urlFallback:j[b]}}),id:e,progressBarFilledPercentage:g,titleText:h,totalCount:a})}});return i.jsx(d("react-strict-dom").html.ul,{children:f.map(function(a){var b=a.progressBarFilledPercentage;return b!=null?e(a,b):c(a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentItemListItems.react",["I64","IGDPollFacepile.react","IGDSText.react","MWLSThreadDisplayContext","MWXMAAttachmentItemListItemsBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k={contactWithBorderStyle:{borderTopColor:"xbhhrqq",borderInlineEndColor:"x14esgxp",borderBottomColor:"x1szfnsn",borderInlineStartColor:"xifc02g",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.attachment;var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f;b[0]!==e?(f=function(a,b){return j.createElement("li",babelHelpers["extends"]({className:"x14vqqas"},{key:(i||(i=d("I64"))).to_string(a.id)}),j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1qughib"},{children:[a.titleText!=null?j.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:e==="Inbox"?3:1,size:"body",weight:"semibold",children:a.titleText}):null,j.jsx("div",babelHelpers["extends"]({className:"x13fj5qh"},{children:j.jsx(c("IGDPollFacepile.react"),{contacts:a.contacts.map(l),contactWithBorderStyle:k.contactWithBorderStyle,countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,direction:"reversed",gap:"negative",size:"small"})}))]})),j.jsx("div",babelHelpers["extends"]({className:"x1wpzbip x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt xod5an3 x1xmf6yo"},{children:j.jsx("div",{className:"x1nmnskg x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt",style:{width:Math.min(i.to_int32(b),100)+"%"}})})))},b[0]=e,b[1]=f):f=b[1];var g;b[2]!==a||b[3]!==f?(g=j.jsx(c("MWXMAAttachmentItemListItemsBase.react"),{attachment:a,renderDefaultListItem:m,renderPercentageListItem:f}),b[2]=a,b[3]=f,b[4]=g):g=b[4];return g}function l(a){return{name:void 0,profile_picture_url:a.url}}function m(a){return j.createElement("li",babelHelpers["extends"]({className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a"},{key:(i||(i=d("I64"))).to_string(a.id)}),j.jsxs("div",{children:[j.jsx(c("IGDPollFacepile.react"),{contacts:a.contacts.map(n),contactWithBorderStyle:k.contactWithBorderStyle,countOverride:a.totalCount!=null?(i||(i=d("I64"))).to_int32(a.totalCount):void 0,limit:9,size:"large"}),a.titleText!=null?j.jsx("div",babelHelpers["extends"]({className:"xdwrcjd x1xmf6yo"},{children:j.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:2,size:"body",weight:"semibold",children:a.titleText})})):null]}))}m.displayName=m.name+" [from "+f.id+"]";function n(a){return{name:void 0,profile_picture_url:a.url}}g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyListItems.react",["IGDSText.react","IGDXMAAttachmentItemListItems.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10);a=a.attachment;var e;b[0]!==a.listItemsDescriptionText?(e=a.listItemsDescriptionText!=null?i.jsx(j,{listItemsDescriptionText:a.listItemsDescriptionText}):null,b[0]=a.listItemsDescriptionText,b[1]=e):e=b[1];var f;b[2]!==a?(f=a.listItemId1!=null?i.jsx(c("IGDXMAAttachmentItemListItems.react"),{attachment:a}):null,b[2]=a,b[3]=f):f=b[3];var g;b[4]!==a.listItemsSecondaryDescriptionText?(g=a.listItemsSecondaryDescriptionText!=null?i.jsx(k,{listItemsSecondaryDescriptionText:a.listItemsSecondaryDescriptionText}):null,b[4]=a.listItemsSecondaryDescriptionText,b[5]=g):g=b[5];b[6]!==e||b[7]!==f||b[8]!==g?(a=i.jsxs(i.Fragment,{children:[e,f,g]}),b[6]=e,b[7]=f,b[8]=g,b[9]=a):a=b[9];return a}function j(a){var b=d("react-compiler-runtime").c(3);a=a.listItemsDescriptionText;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k x2fvf9"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:4,size:"label",weight:"bold",children:a})})),b[1]=a,b[2]=e):e=b[2];return e}function k(a){var b=d("react-compiler-runtime").c(3);a=a.listItemsSecondaryDescriptionText;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xod5an3"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",elementType:"h4",maxLines:3,size:"footnote",weight:"semibold",children:a})})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrl}function b(a){var b=a.previewUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.previewUrlFallback:a.previewUrlLarge}function c(a){var b=a.playableUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.playableUrlFallback:a.playableUrl}function e(a){var b=a.faviconUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.faviconUrlFallback:a.faviconUrl}g.previewUrl=a;g.previewUrlLarge=b;g.playableUrl=c;g.faviconUrl=e}),98);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h,m=l.createContext,n=l.useContext,o=l.useMemo,p=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),q=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),r=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(a){return null}});function a(a){var b=a.attachment,c=a.attachmentItem,e=a.children,f=a.renderPressable;a=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();a=a.hasLSThreadBitOffset;var g=a(25);a=a(24);b=b.defaultCtaType;var h=c.attachmentCta1Id!=null,i=b!=null?q.has(b)&&!g||p.has(b)&&!a:!1;c=o(function(){return{hasAtLeastOneCta:h,isDisabledRtcXma:i,renderPressable:f}},[f,h,i]);return k.jsx(r.Provider,{value:c,children:!h&&!i?f(e):e})}a.displayName=a.name+" [from "+f.id+"]";function b(a){a=a.children;var b=n(r);if(b.hasAtLeastOneCta&&!b.isDisabledRtcXma)return b.renderPressable(a);else return a}b.displayName=b.name+" [from "+f.id+"]";var s={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function e(a){var b=a.attachmentItem;a=a.url;var e=b.previewHeight;b=b.previewWidth;return k.jsx(d("react-strict-dom").html.div,{style:s.container,children:k.jsx(c("BaseImage.react"),{height:e!=null?(i||(i=d("I64"))).to_int32(e):void 0,src:a,width:b!=null?(i||(i=d("I64"))).to_int32(b):void 0,xstyle:s.image})})}e.displayName=e.name+" [from "+f.id+"]";function t(a){var b,c=a.attachment,e=a.attachmentItem,f=a.description,g=a.getPreviewUrl,h=a.mediaRenderQpl;a=a.preferLargePreview;a=a===void 0?!1:a;var i=d("LSMediaUrlAttachmentItem").playableUrl(e),j=d("LSMediaUrlAttachment").previewUrlLarge(c);b=a?(b=d("LSMediaUrlAttachmentItem").previewUrlLarge(e))!=null?b:d("LSMediaUrlAttachmentItem").previewUrl(e):d("LSMediaUrlAttachmentItem").previewUrl(e);g=g==null?d("LSMediaUrlAttachment").previewUrl(c):g(c,e,"MWPBaseXMAAttachmentItem.getXMAAttachmentItemPreview - "+f,h);c=a&&j!=null?j:b!=null?b:g;f=e.playableUrlMimeType;h=f!=null?f.includes("video")?"video":f.includes("image")?"image":"unsupported":"unsupported";if(h==="video"&&i!=null)return{type:"Video",url:i};if(c!=null)return{type:"Image",url:c};return h==="image"&&i!=null?{type:"Image",url:i}:{hasPlayableUrl:i!=null,hasPreviewUrl:c!=null,mimeType:h,playableUrlMimeType:e.playableUrlMimeType,type:"Unsupported"}}function u(a,b){var e=a.xmaLayoutType!=null&&!(i||(i=d("I64"))).equal(a.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)),f=b.titleText;f=f!=null||!e?f:a.titleText;b=b.subtitleText;e=b!=null||!e?b:a.subtitleText;return[f,e]}g.MWPBaseXMAAttachmentItemPressableContext=r;g.MWPBaseXMAAttachmentItemPressable=a;g.MWPBaseXMAAttachmentItemPressableNested=b;g.MWPBaseXMAAttachmentItemImage=e;g.getXMAAttachmentItemPreview=t;g.useTitleAndSubtitle=u}),98);
__d("IGDXMAAttachmentItemBody.react",["BaseImage.react","I64","IGDSText.react","IGDXMAAttachmentItemBodyCta.react","IGDXMAAttachmentItemBodyForCardMainText.react","IGDXMAAttachmentItemBodyListItems.react","LSIntEnum","LSMediaUrlAttachment","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIconParser","MWSearchPluginUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){var b=d("react-compiler-runtime").c(12),e=a.attachment,f=a.attachmentItem;a=a.favIconUrl;var g=d("MWPBaseXMAAttachmentItem.react").useTitleAndSubtitle(e,f),h=g[0];g=g[1];g=g;var i=e.captionBodyText,j=e.subtitleDecorationType,l,p;if(b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i||b[4]!==a||b[5]!==j||b[6]!==h){p=Symbol["for"]("react.early_return_sentinel");bb0:{var q=[];if(Boolean(h)||Boolean(g)){var r=k.jsx(c("IGDXMAAttachmentItemBodyForCardMainText.react"),{attachment:e,attachmentItem:f,body:g,captionBodyText:i,favIconUrl:a,subtitleDecorationType:j,title:h});q.push(r)}r=d("MWSearchPluginUtils").isSearchSingleBubblePlugin(e);if(r){p=null;break bb0}e.attachmentCta1Id!=null&&(q.push(k.jsx(c("IGDXMAAttachmentItemBodyListItems.react"),{attachment:e})),q.push(k.jsx(c("IGDXMAAttachmentItemBodyCta.react"),{attachment:e,attachmentItem:f})));if(q.length===0){p=null;break bb0}l=q.filter(o).reduce(n,[]).map(m)}b[0]=e;b[1]=f;b[2]=g;b[3]=i;b[4]=a;b[5]=j;b[6]=h;b[7]=l;b[8]=p}else l=b[7],p=b[8];if(p!==Symbol["for"]("react.early_return_sentinel"))return p;r=l;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},b[9]=q):q=b[9];b[10]!==r?(e=k.jsx("div",babelHelpers["extends"]({},q,{children:k.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:r})})),b[10]=r,b[11]=e):e=b[11];return e}function m(a,b){return k.jsx(k.Fragment,{children:a},String(b)+"_item")}m.displayName=m.name+" [from "+f.id+"]";function n(a,b){return a.concat(b)}function o(a){return a!=null}var p={image:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(9);a=a.attachment;if(a.headerTitle==null)return null;var e;b[0]!==a?(e=d("MWPXMAIconParser").parse(d("LSMediaUrlAttachment").headerImageUrl(a)),b[0]=a,b[1]=e):e=b[1];e=e;var f;b[2]!==e?(f=typeof e==="string"?k.jsx(c("BaseImage.react"),{src:e,xstyle:p.image}):null,b[2]=e,b[3]=f):f=b[3];b[4]!==a.headerTitle?(e=k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:a.headerTitle}),b[4]=a.headerTitle,b[5]=e):e=b[5];b[6]!==f||b[7]!==e?(a=k.jsxs(k.Fragment,{children:[f,e]}),b[6]=f,b[7]=e,b[8]=a):a=b[8];return a}function a(a){var b=d("react-compiler-runtime").c(7),e=a.attachment,f=a.attachmentItem;a=a.favIconUrl;if(e.xmaLayoutType!=null&&(i||(i=d("I64"))).equal(e.xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT))){var g;b[0]!==e||b[1]!==f?(g=k.jsx(q,{attachment:e,attachmentItem:f}),b[0]=e,b[1]=f,b[2]=g):g=b[2];return g}b[3]!==e||b[4]!==f||b[5]!==a?(g=k.jsx(l,{attachment:e,attachmentItem:f,favIconUrl:a}),b[3]=e,b[4]=f,b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("IGDXMAAttachmentItemHeaderImage.react",["BaseImage.react","I64","IGDSBox.react","LSIntEnum","MNXMAPreviewImageDecorationType","MWPXMAIconParser","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={"default":{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",width:"x1td3qas",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",marginInlineEnd:"x1xegmmw",$$css:!0},small:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x1qx5ct2",width:"xw4jnvo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.attachment;a=a.getHeaderImageUrlXMA;var f;b[0]!==e||b[1]!==a?(f=d("MWPXMAIconParser").parse(a(e)),b[0]=e,b[1]=a,b[2]=f):f=b[2];a=f;if(typeof a!=="string")return null;f=e.previewImageDecorationType!=null&&(i||(i=d("I64"))).equal(e.previewImageDecorationType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))?l.small:l["default"];b[3]!==a||b[4]!==f?(e=k.jsx(c("IGDSBox.react"),{xstyle:l.root,children:k.jsx(c("BaseImage.react"),{src:a,xstyle:f})}),b[3]=a,b[4]=f,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("IGDXMAAttachmentItemUtil",["ConstUriUtils","I64","LSIntEnum","MNXMAPreviewImageDecorationType","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(4),e=(j||(j=c("useReStore")))(),g,h;b[0]!==a||b[1]!==e?(g=function(){return a!=null?d("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(a):d("ReQL").empty()},h=[e,a],b[0]=a,b[1]=e,b[2]=g,b[3]=h):(g=b[2],h=b[3]);return d("ReQLSuspense").useFirst(g,h,f.id+":25")}function b(a){return a.startsWith("http")||a.startsWith("/")}function e(a){if(a==null)return null;a=d("ConstUriUtils").getUri(a);var b=a==null?void 0:a.getQueryParam("shortcode");if(b!=null)return typeof b==="string"?b:JSON.stringify(b);else{var c;b=a==null||(c=a.stripTrailingSlash())==null?void 0:c.getPath().split("/");return b!=null&&b.length>1?b[b.length-1]:null}}function k(a){a=(a=a.previewImageDecorationType)!=null?a:(h||(h=d("I64"))).zero;var b=(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE));a=(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL))||(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE));return[b,a]}g.useGetAttachmentCta=a;g.isAttachmentCTAHrefValid=b;g.getShortCodeFromMediaDeeplinkUrl=e;g.getIsOverlayHeaderInternal=k}),98);
__d("LSVerifiedType",[],(function(a,b,c,d,e,f){a=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2,VERIFIED_HEADER_TITLE_ONLY:3,VERIFIED_CONTENT_TITLE_ONLY:4});f["default"]=a}),66);
__d("IGDXMAAttachmentItemHeaderTitleText.react",["I64","IGDSBox.react","IGDSText.react","IGDSVerifiedIcon.react","IGDXMAAttachmentItemUtil","LSIntEnum","LSVerifiedType","PolarisFastLink.react","PolarisGenericStrings","isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={headerText:{maxWidth:"xq8v1hd",$$css:!0},titleTextWithShadow:{textShadow:"x1altmpn",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=a.attachment,f=a.defaultCta;a=a.overlayingMedia;var g=e.verifiedType,h=d("IGDXMAAttachmentItemUtil").getIsOverlayHeaderInternal(e),m=h[0];h=h[1];var n=e.headerSubtitleText;e=e.headerTitle;var o;b[0]!==g?(o=g!=null?(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSVerifiedType").DEFAULT)):!1,b[0]=g,b[1]=o):o=b[1];g=o;o=f!=null&&f.type_==="igd_web_post_share";f=m?"webAlwaysWhite":"primaryText";b[2]!==e||b[3]!==f?(m=k.jsx(c("IGDSText.react"),{color:f,maxLines:1,size:"body",weight:"semibold",children:e}),b[2]=e,b[3]=f,b[4]=m):m=b[4];f=m;if(e==null)return null;m=a?2:0;h=h?l.titleTextWithShadow:!1;var p;b[5]!==f||b[6]!==e||b[7]!==o?(p=o?k.jsx(c("PolarisFastLink.react"),{href:"/"+e+"/",xstyle:l.headerText,children:f}):f,b[5]=f,b[6]=e,b[7]=o,b[8]=p):p=b[8];b[9]!==g||b[10]!==a?(f=g?k.jsx(c("IGDSBox.react"),{marginStart:1,children:k.jsx(c("IGDSVerifiedIcon.react"),{alt:d("PolarisGenericStrings").VERIFIED_TEXT,color:a?"ig-text-on-media":"ig-primary-button",size:14})}):null,b[9]=g,b[10]=a,b[11]=f):f=b[11];b[12]!==m||b[13]!==h||b[14]!==p||b[15]!==f?(e=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",marginEnd:m,minWidth:0,xstyle:h,children:[p,f]}),b[12]=m,b[13]=h,b[14]=p,b[15]=f,b[16]=e):e=b[16];b[17]!==n?(o=c("isStringNullOrEmpty")(n)?null:k.jsx(c("IGDSBox.react"),{marginTop:1,children:k.jsx(c("IGDSText.react"),{color:"secondaryText",maxLines:1,size:"footnote",children:n})}),b[17]=n,b[18]=o):o=b[18];b[19]!==e||b[20]!==o?(g=k.jsxs(c("IGDSBox.react"),{direction:"column",flex:"grow",children:[e,o]}),b[19]=e,b[20]=o,b[21]=g):g=b[21];return g}g["default"]=a}),98);
__d("IGDXMAAttachmentItemNonLink.react",["MWPActor.react","promiseDone","react","react-compiler-runtime","requireDeferred","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemNonLink.react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.attachmentItem,f=a.children;a=a.xstyle;var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),m;b[0]!==a?(m=(i||(i=c("stylex"))).props(a),b[0]=a,b[1]=m):m=b[1];b[2]!==j||b[3]!==e||b[4]!==g?(a=function(a){l.onReady(function(a){return c("promiseDone")(a.log(g,e.messageId,e.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,j))})},b[2]=j,b[3]=e,b[4]=g,b[5]=a):a=b[5];var n;b[6]!==f||b[7]!==m||b[8]!==a?(n=k.jsx("div",babelHelpers["extends"]({},m,{onClick:a,role:"none",children:f})),b[6]=f,b[7]=m,b[8]=a,b[9]=n):n=b[9];return n}g["default"]=a}),98);
__d("IGDXMAAttachmentItemHeader.react",["IGDSBox.react","IGDXMAAttachmentItemHeaderImage.react","IGDXMAAttachmentItemHeaderTitleText.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","MWSearchPluginUtils","PolarisFastLink.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={header:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},overlay:{insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",$$css:!0},searchPluginContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(11),e=a.attachment,f=a.attachmentItem,g=a.children;a=a.defaultCta;var h=d("IGDXMAAttachmentItemUtil").getIsOverlayHeaderInternal(e);h=h[0];e=d("MWSearchPluginUtils").isSearchSingleBubblePlugin(e);if(e&&a!=null){b[0]!==g||b[1]!==a.actionUrl?(e=i.jsx(c("PolarisFastLink.react"),{href:a.actionUrl,target:"_blank",xstyle:j.searchPluginContainer,children:g}),b[0]=g,b[1]=a.actionUrl,b[2]=e):e=b[2];return e}a=h?j.overlay:!1;b[3]!==a?(e=[j.header,a],b[3]=a,b[4]=e):e=b[4];b[5]!==f||b[6]!==g?(h=i.jsx(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:f,xstyle:j.pressable,children:g}),b[5]=f,b[6]=g,b[7]=h):h=b[7];b[8]!==e||b[9]!==h?(a=i.jsx(c("IGDSBox.react"),{xstyle:e,children:h}),b[8]=e,b[9]=h,b[10]=a):a=b[10];return a}function a(a){var b=d("react-compiler-runtime").c(13),e=a.attachment,f=a.attachmentItem,g=a.getHeaderImageUrlXMA;a=a.overlayingMedia;a=a===void 0?!1:a;var h=d("IGDXMAAttachmentItemUtil").useGetAttachmentCta(f.defaultCtaId),j=e.headerTitle;if(j==null)return null;b[0]!==e||b[1]!==g?(j=i.jsx(c("IGDXMAAttachmentItemHeaderImage.react"),{attachment:e,getHeaderImageUrlXMA:g}),b[0]=e,b[1]=g,b[2]=j):j=b[2];b[3]!==e||b[4]!==h||b[5]!==a?(g=i.jsx(c("IGDXMAAttachmentItemHeaderTitleText.react"),{attachment:e,defaultCta:h,overlayingMedia:a}),b[3]=e,b[4]=h,b[5]=a,b[6]=g):g=b[6];b[7]!==e||b[8]!==f||b[9]!==h||b[10]!==j||b[11]!==g?(a=i.jsxs(k,{attachment:e,attachmentItem:f,defaultCta:h,children:[j,g]}),b[7]=e,b[8]=f,b[9]=h,b[10]=j,b[11]=g,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("IGDXMAAttachmentItemLink.react",["fbt","MWPActor.react","PolarisFastLink.react","PolarisNavigationActions","PolarisReactRedux.react","isRelativeURL","promiseDone","react","react-compiler-runtime","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDXMAAttachmentItemLink.react");function a(a){var b=d("react-compiler-runtime").c(18),e=a.attachmentItem,f=a.children,g=a.href,j=a.logOnClick;a=a.xstyle;var m=(i||(i=c("useReStore")))(),n=d("MWPActor.react").useActor(),o=d("PolarisReactRedux.react").useDispatch(),p=e.titleText,q;b[0]!==g?(q=c("isRelativeURL")(g),b[0]=g,b[1]=q):q=b[1];var r=q;b[2]!==n||b[3]!==e.messageId||b[4]!==e.threadKey||b[5]!==m||b[6]!==o||b[7]!==j||b[8]!==r?(q=function(){r&&o(d("PolarisNavigationActions").trackEntrypoint()),l.onReady(function(a){return c("promiseDone")(a.log(m,e.messageId,e.threadKey,"direct_click","view_xma",void 0,void 0,void 0,void 0,void 0,n))}),j()},b[2]=n,b[3]=e.messageId,b[4]=e.threadKey,b[5]=m,b[6]=o,b[7]=j,b[8]=r,b[9]=q):q=b[9];q=q;var s;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(s=h._(/*BTDS*/"Preview"),b[10]=s):s=b[10];s=s;p=p!=null?p:s;s=r?"_self":"_blank";var t;b[11]!==f||b[12]!==g||b[13]!==q||b[14]!==p||b[15]!==s||b[16]!==a?(t=k.jsx(c("PolarisFastLink.react"),{"aria-label":p,href:g,onClick:q,target:s,xstyle:a,children:f}),b[11]=f,b[12]=g,b[13]=q,b[14]=p,b[15]=s,b[16]=a,b[17]=t):t=b[17];return t}g["default"]=a}),226);
__d("IGDXMAPostModal.react",["CometPlaceholder.react","I64","IGDChatTabsEnv","IGDInboxInfoContextProvider","IGDThreadlineContext","PolarisUA","deferredLoadComponent","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;b.useCallback;var k=b.useContext,l=b.useState,m=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectMessagePostModal.react").__setRef("IGDXMAPostModal.react"));function n(a,b){return{carousel_share_child_media_id:"",client_context:"",code:b,id:(i||(i=d("I64"))).to_string(a),media_type:1,organic_tracking_token:"",original_height:1,original_width:1,preview:"",taken_at:0,upcoming_event:null,user:""}}function a(a){var b=d("react-compiler-runtime").c(19),e=a.children,f=a.isReel,g=a.logOnClick,h=a.shortCode,i=a.targetId,o=a.timestamp,p=f===void 0?!1:f,q=c("gkx")("16185");a=k(d("IGDThreadlineContext").IGDThreadlineContext);var r=a.setReelTimestamp,s=a.setShouldShowThreadline;f=k(d("IGDInboxInfoContextProvider").IGDInboxInfoContext);var t=f.setShouldShowInfo,u=d("IGDChatTabsEnv").useIsChatTabsDisplay();a=l(!1);f=a[0];var v=a[1];b[0]!==u||b[1]!==p||b[2]!==g||b[3]!==r||b[4]!==t||b[5]!==s||b[6]!==o?(a=function(){!d("PolarisUA").isMobile()&&!u&&q&&p?(s(!0),t(!1),o!=null&&r(o)):v(!0),g()},b[0]=u,b[1]=p,b[2]=g,b[3]=r,b[4]=t,b[5]=s,b[6]=o,b[7]=a):a=b[7];a=a;var w;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(w={className:"x1277o0a"},b[8]=w):w=b[8];b[9]!==e||b[10]!==a?(w=j.jsx("div",babelHelpers["extends"]({},w,{onClick:a,role:"none",children:e})),b[9]=e,b[10]=a,b[11]=w):w=b[11];b[12]!==h||b[13]!==f||b[14]!==i?(e=f?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"IGDXMAPostModal",children:j.jsx(m,{media:n(i,h),modalEntryPath:"/direct/t",onClose:function(){return v(!1)},onOpen:c("emptyFunction")})}):null,b[12]=h,b[13]=f,b[14]=i,b[15]=e):e=b[15];b[16]!==w||b[17]!==e?(a=j.jsxs(j.Fragment,{children:[w,e]}),b[16]=w,b[17]=e,b[18]=a):a=b[18];return a}g["default"]=a}),98);
__d("IGDXMAUtils",["ConstUriUtils","I64","LSIntEnum","MNLSXMALayoutType","isInstagramURI","isLinkshimURI"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a!=null&&a.xmaLayoutType!=null?(h||(h=d("I64"))).equal(a.xmaLayoutType,(i||(i=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1}function j(a){if(a==null)return"";var b=a.getPath()||"";a=a.getQueryString()||"";return b!==""?b+"?"+a:""}function b(a,b,e){var f=e==="xma_montage_share";if(f)return a;f=e==="xma_open_native"&&b!=null?b:a;e=d("ConstUriUtils").getUri(f);if(e==null||c("isLinkshimURI")(e))return f;return c("isInstagramURI")(e)?j(e):a}g.checkIsXMAExpired=a;g.getInstagramRelativeUrl=j;g.getAttachmentHref=b}),98);
__d("IGDXMAAttachmentItemPressable.react",["IGDThreadListNewMessageLoggingDataContext","IGDXMAAttachmentItemLink.react","IGDXMAAttachmentItemNonLink.react","IGDXMAAttachmentItemUtil","IGDXMAAttachmentUtil","IGDXMAPostModal.react","IGDXMAUtils","MWLSThread","MessengerWebUXLogger","PolarisFastLink.react","PolarisLinkBuilder","PolarisUA","getInstamadilloLoggingExtraData","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(36),e=a.attachmentItem,f=a.children,g=a.isPrivatePost,h=a.isReel,j=a.isReply,k=a.isXMAExpired,l=a.timestamp;a=a.xstyle;g=g===void 0?!1:g;j=j===void 0?!1:j;k=k===void 0?!1:k;var m=d("IGDXMAAttachmentItemUtil").useGetAttachmentCta(e.defaultCtaId),n=d("IGDXMAAttachmentItemUtil").useGetAttachmentCta(e.attachmentCta2Id),o;b[0]!==e.cta1Type||b[1]!==e.cta2Type?(o=d("IGDXMAAttachmentUtil").isXmaPostComment(e.cta1Type,e.cta2Type),b[0]=e.cta1Type,b[1]=e.cta2Type,b[2]=o):o=b[2];o=o;var p=d("MWLSThread").useThread(e.threadKey),q=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),r=c("MessengerWebUXLogger").useInteractionLogger(),s;b[3]!==q||b[4]!==r||b[5]!==p?(s=function(){r==null||r({eventName:"igd_preview_xma_open",extraData:c("getInstamadilloLoggingExtraData")(p),flowInstanceId:q})},b[3]=q,b[4]=r,b[5]=p,b[6]=s):s=b[6];s=s;if(o&&n!=null&&n.nativeUrl!=null){var t;b[7]!==n.nativeUrl||b[8]!==f||b[9]!==s||b[10]!==a?(t=i.jsx(c("PolarisFastLink.react"),{href:n.nativeUrl,onClick:s,target:"_blank",xstyle:a,children:f}),b[7]=n.nativeUrl,b[8]=f,b[9]=s,b[10]=a,b[11]=t):t=b[11];return t}if(j||k||m==null||m.actionUrl==null||!d("IGDXMAAttachmentItemUtil").isAttachmentCTAHrefValid(m.actionUrl)){b[12]!==e||b[13]!==f?(n=i.jsx(c("IGDXMAAttachmentItemNonLink.react"),{attachmentItem:e,children:f}),b[12]=e,b[13]=f,b[14]=n):n=b[14];return n}t=m.actionUrl;j=m.nativeUrl;k=m.targetId;n=m.type_;if(b[15]!==f||b[16]!==o||b[17]!==g||b[18]!==h||b[19]!==s||b[20]!==j||b[21]!==k||b[22]!==l||b[23]!==n||b[24]!==a){m=Symbol["for"]("react.early_return_sentinel");bb0:{var u=d("IGDXMAAttachmentItemUtil").getShortCodeFromMediaDeeplinkUrl(j);if(k!=null&&u!=null&&n==="igd_web_post_share")if(!d("PolarisUA").isMobile()&&!g&&!o){m=i.jsx(c("IGDXMAPostModal.react"),{isReel:h,logOnClick:s,shortCode:u,targetId:k,timestamp:l,children:f});break bb0}else{m=i.jsx(c("PolarisFastLink.react"),{href:d("PolarisLinkBuilder").buildMediaLink(u),onClick:s,target:"_blank",xstyle:a,children:f});break bb0}}b[15]=f;b[16]=o;b[17]=g;b[18]=h;b[19]=s;b[20]=j;b[21]=k;b[22]=l;b[23]=n;b[24]=a;b[25]=m}else m=b[25];if(m!==Symbol["for"]("react.early_return_sentinel"))return m;b[26]!==t||b[27]!==j||b[28]!==n?(u=d("IGDXMAUtils").getAttachmentHref(t,j,n),b[26]=t,b[27]=j,b[28]=n,b[29]=u):u=b[29];o=u;b[30]!==e||b[31]!==f||b[32]!==o||b[33]!==s||b[34]!==a?(g=i.jsx(c("IGDXMAAttachmentItemLink.react"),{attachmentItem:e,href:o,logOnClick:s,xstyle:a,children:f}),b[30]=e,b[31]=f,b[32]=o,b[33]=s,b[34]=a,b[35]=g):g=b[35];return g}g["default"]=a}),98);
__d("MWPXMAGatedAttachmentPreview.react",["MWVerticalRhythm","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={tintOverlay:{height:"x5yr21d",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0}},l={4:{filter:"x1qgin71",$$css:!0},8:{filter:"x1wd8k3y",$$css:!0},12:{filter:"x1uo6jdl",$$css:!0}},m={.35:{backgroundColor:"x1sag07j",$$css:!0},.5:{backgroundColor:"xcpsgoo",$$css:!0}};function a(a){var b=a.blur;b=b===void 0?12:b;var d=a.children,e=a.icon,f=a.subtitle,g=a.tint;g=g===void 0?.35:g;a=a.title;return j.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6"},{children:[j.jsxs("div",babelHelpers["extends"]({className:"x6ikm8r x10wlt62 x1n2onr6 xh8yej3"},{children:[j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([k.tintOverlay,m[g]]))),j.jsxs("div",babelHelpers["extends"]({},h.props(l[b]),{children:[" ",d," "]}))]})),j.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x1o0tod xl56j7k xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x13vifvy xh8yej3 x1vjfegm"},{children:[e,a!=null&&j.jsx(c("MWVerticalRhythm"),{height:12}),a,f!=null&&j.jsx(c("MWVerticalRhythm"),{height:12}),f]}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAFalseInformationAttachmentPreview.react",["fbt","IGDSText.react","MWPXMAGatedAttachmentPreview.react","PolarisDirectConstants","PolarisMediaOverlayInfoTypes","PolarisSensitivityOverlayIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.children;a=a.gatingLayoutType;switch(a){case d("PolarisDirectConstants").InformTreatmentTypeValues.WARNING_SCREENS:b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.EYE_OFF}),b[0]=a):a=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"body",textAlign:"center",children:h._(/*BTDS*/"View post for info")}),b[1]=f):f=b[1];b[2]!==e?(a=j.jsx(c("MWPXMAGatedAttachmentPreview.react"),{blur:4,icon:a,title:f,children:e}),b[2]=e,b[3]=a):a=b[3];return a;default:return null}}g["default"]=a}),226);
__d("IGDXMAAttachmentItemPreview.react",["fbt","CometObjectFitContainer.react","CometPlaceholder.react","I64","IGDSGlimmer.react","IGDSMediaCarouselFilledIcon.react","IGDXMAFalseInformationAttachmentPreview.react","Int64Hooks","LSIntEnum","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferredForDisplay","useIGDAttachmentUrl"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDVideoPlayer.react").__setRef("IGDXMAAttachmentItemPreview.react")),n={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(6),e=a.attachmentItem;a=a.children;var f=e.previewWidth!=null?(j||(j=d("I64"))).to_int32(e.previewWidth):0;e=e.previewHeight!=null?(j||(j=d("I64"))).to_int32(e.previewHeight):0;f=f!==0?e!==0?f/e:0:0;e=e>250&&f<.8;e=e?.8:f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx("div",babelHelpers["extends"]({className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3"},{children:l.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:n.glimmer})})),b[0]=f):f=b[0];b[1]!==a?(f=l.jsx(c("CometPlaceholder.react"),{fallback:f,name:"IGDXMAAttachmentItemVideoContainer",children:a}),b[1]=a,b[2]=f):f=b[2];b[3]!==e||b[4]!==f?(a=l.jsx(c("CometObjectFitContainer.react"),{contentAspectRatio:e,children:f}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}function p(a){var b=d("react-compiler-runtime").c(3),e,f;b[0]!==a?(e=function(){if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").COLLAGE)))return l.jsx(c("IGDSMediaCarouselFilledIcon.react"),{alt:h._(/*BTDS*/"Collage").toString(),color:"web-always-white"})},f=[a],b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);return d("Int64Hooks").useMemoInt64(e,f)}function a(a){var b,e=d("react-compiler-runtime").c(42),f=a.attachment,g=a.attachmentItem,i=a.getPreviewImageUrlXMA,k=a.mediaRenderQpl;a=a.size;a=a===void 0?"large":a;b=(b=f.previewImageDecorationType)!=null?b:(j||(j=d("I64"))).zero;b=p(b);var n=d("useIGDAttachmentUrl").useIGDAttachmentPreviewUrl(f,!0),q;e[0]!==i||e[1]!==n?(q=function(a,b){return n!=null?n:i(a,b)},e[0]=i,e[1]=n,e[2]=q):q=e[2];var r=a==="large",s;e[3]!==f||e[4]!==g||e[5]!==k||e[6]!==q||e[7]!==r?(s=d("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:f,attachmentItem:g,description:"IGDXMAAttachmentItemPreview",getPreviewUrl:q,mediaRenderQpl:k,preferLargePreview:r}),e[3]=f,e[4]=g,e[5]=k,e[6]=q,e[7]=r,e[8]=s):s=e[8];q=s;r=null;bb0:switch(q.type){case"Video":e[9]!==g.previewWidth?(s=g.previewWidth!=null?(j||(j=d("I64"))).to_int32(g.previewWidth):0,e[9]=g.previewWidth,e[10]=s):s=e[10];s=s;var t;e[11]!==g.previewHeight?(t=g.previewHeight!=null?(j||(j=d("I64"))).to_int32(g.previewHeight):0,e[11]=g.previewHeight,e[12]=t):t=e[12];t=t;var u=f.accessibilitySummaryText,v=f.titleText;if(e[13]!==u||e[14]!==v){var w,x=h._(/*BTDS*/"Animated image");w=(w=u!=null?u:v)!=null?w:x.toString();e[13]=u;e[14]=v;e[15]=w}else w=e[15];x=w;u=c("gkx")("11619")?x:void 0;e[16]!==f.shouldAutoplayVideo||e[17]!==g.attachmentFbid||e[18]!==q.url||e[19]!==t||e[20]!==k||e[21]!==u||e[22]!==s?(v=l.jsx(m,{altText:u,fbid:g.attachmentFbid,isGif:f.shouldAutoplayVideo,mediaRenderQpl:k,originalHeight:t,originalWidth:s,sdSrc:q.url}),e[16]=f.shouldAutoplayVideo,e[17]=g.attachmentFbid,e[18]=q.url,e[19]=t,e[20]=k,e[21]=u,e[22]=s,e[23]=v):v=e[23];e[24]!==f||e[25]!==g||e[26]!==v?(w=l.jsx(o,{attachment:f,attachmentItem:g,children:v}),e[24]=f,e[25]=g,e[26]=v,e[27]=w):w=e[27];r=w;break bb0;case"Image":e[28]===Symbol["for"]("react.memo_cache_sentinel")?(x={className:"x1n2onr6"},e[28]=x):x=e[28];e[29]!==b||e[30]!==a?(t=b!=null&&a!=="small"?l.jsx("div",babelHelpers["extends"]({className:"x1xr83ln xtijo5x xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x10l6tqk x13vifvy x1vjfegm"},{children:b})):null,e[29]=b,e[30]=a,e[31]=t):t=e[31];e[32]!==g||e[33]!==q.url?(k=l.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemImage,{attachmentItem:g,url:q.url}),e[32]=g,e[33]=q.url,e[34]=k):k=e[34];e[35]!==t||e[36]!==k?(u=l.jsxs("div",babelHelpers["extends"]({},x,{children:[t,k]})),e[35]=t,e[36]=k,e[37]=u):u=e[37];r=u;break bb0;case"Unsupported":r=null}if(f.gatingTitle!=null&&f.gatingType!=null&&f.gatingTitle!==""&&f.gatingType!==""){e[38]!==f.gatingTitle||e[39]!==f.gatingType||e[40]!==r?(s=l.jsx(c("IGDXMAFalseInformationAttachmentPreview.react"),{gatingLayoutType:f.gatingType,gatingTitleType:f.gatingTitle,children:r}),e[38]=f.gatingTitle,e[39]=f.gatingType,e[40]=r,e[41]=s):s=e[41];return s}return r}g["default"]=a}),226);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function a(a){a=a.urls;return i.jsx("ul",babelHelpers["extends"]({className:"x78zum5 x1a02dak xe9ewy2 x1kgmq87"},{children:a.map(function(a){return i.createElement("li",babelHelpers["extends"]({className:"x1yu6fn4"},{key:a}),i.jsx("div",babelHelpers["extends"]({className:"xqtp20y xwklpps xr9ek0c x1vrad04 x1n2onr6"},{children:i.jsx(c("BaseImage.react"),{src:a,xstyle:j.gridImage})})))})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j=function(a){a=a.previewUrl;return a};function a(a){var b=d("react-compiler-runtime").c(5);a=a.attachmentItems;var e;b[0]!==a?(e=a.map(j).filter(Boolean),b[0]=a,b[1]=e):e=b[1];a=e;e=a;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x193iq5w xgqtt45 xdzyupr"},b[2]=a):a=b[2];b[3]!==e?(a=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("MWPResponsiveImageGrid.react"),{urls:e})})),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("IGDXMAAttachmentCard.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","MWPXMAIgProfile.react","WAArmadilloXMA.pb","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={flattenTop:{borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(46),e=a.attachment,f=a.attachmentItem,g=a.attachmentItems,h=a.connectBottom,m=a.connectTop,n=a.getFaviconUrlXMA,o=a.getHeaderImageUrlXMA,p=a.getPreviewImageUrlXMA,q=a.hasText,r=a.isReply,s=a.mediaRenderQpl;a=a.outgoing;var t=r===void 0?!1:r,u=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();r=e.xmaLayoutType;var v;b[0]!==r?(v=r!=null?(i||(i=d("I64"))).equal(r,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1,b[0]=r,b[1]=v):v=b[1];var w=v;b[2]!==e||b[3]!==f||b[4]!==n?(r=n==null?void 0:n(e,f),b[2]=e,b[3]=f,b[4]=n,b[5]=r):r=b[5];v=r;n=e.transportKey==="Instamadillo"&&e.subtitleText==="Story";r=!q&&m;m=!w&&q&&!n?l.flattenTop:!1;q=t?l.reply:!1;b[6]!==m||b[7]!==q?(n=[l.root,m,q],b[6]=m,b[7]=q,b[8]=n):n=b[8];b[9]!==f||b[10]!==u||b[11]!==t||b[12]!==w?(m=function(a){return k.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:u,isReply:t,isXMAExpired:w,children:a})},b[9]=f,b[10]=u,b[11]=t,b[12]=w,b[13]=m):m=b[13];b[14]!==e||b[15]!==f||b[16]!==o?(q=k.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:e,attachmentItem:f,getHeaderImageUrlXMA:o}),b[14]=e,b[15]=f,b[16]=o,b[17]=q):q=b[17];b[18]!==e||b[19]!==f||b[20]!==p||b[21]!==s?(o=k.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:f,getPreviewImageUrlXMA:p,mediaRenderQpl:s,size:"large"}),b[18]=e,b[19]=f,b[20]=p,b[21]=s,b[22]=o):o=b[22];b[23]!==g?(p=g.length===6?k.jsx(c("MWPXMAIgProfile.react"),{attachmentItems:g}):null,b[23]=g,b[24]=p):p=b[24];b[25]!==o||b[26]!==p?(s=k.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:[o,p]}),b[25]=o,b[26]=p,b[27]=s):s=b[27];b[28]!==e||b[29]!==f||b[30]!==v?(g=k.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:k.jsx(c("IGDXMAAttachmentItemBody.react"),{attachment:e,attachmentItem:f,favIconUrl:v})}),b[28]=e,b[29]=f,b[30]=v,b[31]=g):g=b[31];b[32]!==e||b[33]!==f||b[34]!==s||b[35]!==g||b[36]!==m||b[37]!==q?(o=k.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:e,attachmentItem:f,renderPressable:m,children:[q,s,g]}),b[32]=e,b[33]=f,b[34]=s,b[35]=g,b[36]=m,b[37]=q,b[38]=o):o=b[38];b[39]!==e.threadKey||b[40]!==h||b[41]!==a||b[42]!==o||b[43]!==r||b[44]!==n?(p=k.jsx(c("IGDXMAAttachmentContainer.react"),{connectBottom:h,connectTop:r,outgoing:a,threadKey:e.threadKey,xstyle:n,children:o}),b[39]=e.threadKey,b[40]=h,b[41]=a,b[42]=o,b[43]=r,b[44]=n,b[45]=p):p=b[45];return p}g["default"]=a}),98);
__d("IGDXMAAttachmentItemDefaultXMAContent.react",["IGDXMAAttachmentItemBody.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPreview.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.attachment,f=a.attachmentItem,g=a.getFaviconUrlXMA,h=a.getHeaderImageUrlXMA,j=a.getPreviewImageUrlXMA;a=a.mediaRenderQpl;var k;b[0]!==e||b[1]!==f||b[2]!==g?(k=g==null?void 0:g(e,f),b[0]=e,b[1]=f,b[2]=g,b[3]=k):k=b[3];g=k;b[4]!==e||b[5]!==f||b[6]!==h?(k=i.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:e,attachmentItem:f,getHeaderImageUrlXMA:h}),b[4]=e,b[5]=f,b[6]=h,b[7]=k):k=b[7];b[8]!==e||b[9]!==f||b[10]!==j||b[11]!==a?(h=i.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:f,getPreviewImageUrlXMA:j,mediaRenderQpl:a}),b[8]=e,b[9]=f,b[10]=j,b[11]=a,b[12]=h):h=b[12];b[13]!==e||b[14]!==f||b[15]!==g?(j=i.jsx(c("IGDXMAAttachmentItemBody.react"),{attachment:e,attachmentItem:f,favIconUrl:g}),b[13]=e,b[14]=f,b[15]=g,b[16]=j):j=b[16];b[17]!==k||b[18]!==h||b[19]!==j?(a=i.jsxs(i.Fragment,{children:[k,h,j]}),b[17]=k,b[18]=h,b[19]=j,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("MWXMAAttachmentVerticalLayout.react",["CometPlaceholder.react","MWLSThreadDisplayContext","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},glimmer:{height:"x1m3v4wt",width:"xdzyupr",$$css:!0},glimmerChatTabWidth:{width:"x1t9vceh",$$css:!0},glimmerMissingPreview:{height:"xqvfhly",$$css:!0}};function a(a){var b=a.attachment,e=a.centered;e=e===void 0?!1:e;var f=a.children,g=a.connectBottom,h=a.connectTop,k=a.hasText;k=k===void 0?!1:k;var l=a.outgoing,m=a.xmaLayout;a=a.xstyle;l=l?"right":"left";k=k;l=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:l,connectBottom:g,connectTop:h,flatten:m!==d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&k?"top":"none"});g=[l,e&&j.centered];h=(b==null?void 0:b.previewHeightLarge)==null&&(b==null?void 0:b.previewHeight)==null;m=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab";return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[j.glimmer,m&&j.glimmerChatTabWidth,h&&j.glimmerMissingPreview].concat(g)}),name:"MWXMAAttachmentVerticalLayout",children:i.jsx(d("react-strict-dom").html.div,{style:[a,g],children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDXMAAttachmentCentered.react",["IGDXMAAttachmentItemDefaultXMAContent.react","MWXMAAttachmentVerticalLayout.react","react","react-compiler-runtime","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={card:{backgroundColor:"xmjcpbm",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",height:"x5yr21d",minWidth:"x1qx9l9d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.attachment,f=a.attachmentItem,g=a.connectBottom,h=a.connectTop,k=a.getFaviconUrlXMA,l=a.getHeaderImageUrlXMA,m=a.getPreviewImageUrlXMA,n=a.mediaRenderQpl;a=a.outgoing;var o;b[0]!==e||b[1]!==f||b[2]!==k||b[3]!==l||b[4]!==m||b[5]!==n?(o=i.jsx(c("IGDXMAAttachmentItemDefaultXMAContent.react"),{attachment:e,attachmentItem:f,getFaviconUrlXMA:k,getHeaderImageUrlXMA:l,getPreviewImageUrlXMA:m,mediaRenderQpl:n}),b[0]=e,b[1]=f,b[2]=k,b[3]=l,b[4]=m,b[5]=n,b[6]=o):o=b[6];b[7]!==e||b[8]!==g||b[9]!==h||b[10]!==a||b[11]!==o?(f=i.jsx(c("MWXMAAttachmentVerticalLayout.react"),{attachment:e,centered:!0,connectBottom:g,connectTop:h,outgoing:a,xmaLayout:d("xmaLayouts").XMA_LAYOUTS.DEFAULT,xstyle:j.card,children:o}),b[7]=e,b[8]=g,b[9]=h,b[10]=a,b[11]=o,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("IGDXMAAttachmentExpired.react",["IGDMessageContainerWithHighlightBar.react","IGDSText.react","polarisGetIGFormattedText","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=function(a){return a==null||a===""};function a(a){var b=d("react-compiler-runtime").c(16),e=a.attachment,f=a.formatText,g=a.message;a=a.outgoing;var h=e.subtitleText;e=e.titleText;var k=g.replySnippet;g=g.text;g=!j(g);var l;b[0]!==f||b[1]!==h?(l=j(h)?null:i.jsx("div",babelHelpers["extends"]({className:"x5yr21d x1nn3v0j x1120s5i"},{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",zeroMargin:!0,children:f?c("polarisGetIGFormattedText")(h!=null?h:""):h})})),b[0]=f,b[1]=h,b[2]=l):l=b[2];f=l;b[3]!==k||b[4]!==f?(h=f===null&&!j(k)?i.jsx("div",babelHelpers["extends"]({className:"x5yr21d x1nn3v0j x1120s5i"},{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:k})})):null,b[3]=k,b[4]=f,b[5]=h):h=b[5];l=h;b[6]!==g||b[7]!==l||b[8]!==e?(k=!g&&!j(e)?i.jsx("div",babelHelpers["extends"]({className:"x5yr21d x1nn3v0j x1120s5i"},{children:i.jsx(c("IGDSText.react"),{color:l?"secondaryText":"primaryText",size:"footnote",children:e})})):null,b[6]=g,b[7]=l,b[8]=e,b[9]=k):k=b[9];h=k;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x78zum5 xdt5ytf xl56j7k x21xpn4"},b[10]=g):g=b[10];b[11]!==a||b[12]!==l||b[13]!==f||b[14]!==h?(e=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsxs(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!1,children:[l,h,f]})})),b[11]=a,b[12]=l,b[13]=f,b[14]=h,b[15]=e):e=b[15];return e}g["default"]=a}),98);
__d("IGDXMAAttachmentItemBodyForLayered.react",["IGDSText.react","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentItemIconWithPlaceholder.react","MWXMAIconParser.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(23),e=a.attachment,f=a.attachmentItem,g=a.favIconUrl;a=a.outgoing;var h=d("MWPBaseXMAAttachmentItem.react").useTitleAndSubtitle(e,f),j=h[0];h=h[1];h=h;var k;b[0]!==g?(k=g!=null?d("MWXMAIconParser.react").parse(g):null,b[0]=g,b[1]=k):k=b[1];k=k;var l;b[2]!==a?(l={0:{className:"x6s0dn4 x19g9edo x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x78zum5 x1q0g3np x1iyjqo2 xzbmw64 xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6 xwzpupj"},1:{className:"x6s0dn4 x19g9edo x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x78zum5 x1q0g3np x1iyjqo2 xzbmw64 xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6 xwzpupj x1h0q493"}}[!!a<<0],b[2]=a,b[3]=l):l=b[3];b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==k?(a=k!=null?i.jsx(c("MWXMAAttachmentItemIconWithPlaceholder.react"),{attachment:e,attachmentItem:f,getFaviconUrlXMA:function(){return g!=null?g:void 0},mediaRenderQpl:void 0},"icon"):null,b[4]=e,b[5]=f,b[6]=g,b[7]=k,b[8]=a):a=b[8];b[9]!==k?(e={0:{className:"x78zum5 xdt5ytf"},1:{className:"x78zum5 xdt5ytf xg8j3zb xyqdw3p"}}[!!(k==null)<<0],b[9]=k,b[10]=e):e=b[10];b[11]!==h?(f=i.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:3,size:"body",children:h}),b[11]=h,b[12]=f):f=b[12];b[13]!==f||b[14]!==j?(k=i.jsxs(c("IGDSText.react"),{maxLines:3,size:"body",weight:"semibold",children:[j," ",f]}),b[13]=f,b[14]=j,b[15]=k):k=b[15];b[16]!==e||b[17]!==k?(h=i.jsx("div",babelHelpers["extends"]({},e,{children:k})),b[16]=e,b[17]=k,b[18]=h):h=b[18];b[19]!==l||b[20]!==a||b[21]!==h?(f=i.jsxs("div",babelHelpers["extends"]({},l,{children:[a,h]})),b[19]=l,b[20]=a,b[21]=h,b[22]=f):f=b[22];return f}g["default"]=a}),98);
__d("IGDXMAAttachmentLayered.react",["I64","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemBodyForLayered.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachmentItem.react","WAArmadilloXMA.pb","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={flattenTop:{borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0},reply:{transform:"x1gqj70i",$$css:!0},root:{backgroundColor:"x19g9edo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(50),e=a.attachment,f=a.attachmentItem,g=a.connectBottom,h=a.connectTop,m=a.getFaviconUrlXMA,n=a.getHeaderImageUrlXMA,o=a.getPreviewImageUrlXMA,p=a.hasText,q=a.isReply,r=a.mediaRenderQpl;a=a.outgoing;var s=q===void 0?!1:q,t=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString();q=e.xmaLayoutType;var u;b[0]!==q?(u=q!=null?(i||(i=d("I64"))).equal(q,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)):!1,b[0]=q,b[1]=u):u=b[1];var v=u;b[2]!==e||b[3]!==f||b[4]!==m?(q=m==null?void 0:m(e,f),b[2]=e,b[3]=f,b[4]=m,b[5]=q):q=b[5];u=q;m=!p&&h;q=!v&&p?l.flattenTop:!1;h=s?l.reply:!1;b[6]!==q||b[7]!==h?(p=[l.root,q,h],b[6]=q,b[7]=h,b[8]=p):p=b[8];b[9]!==f||b[10]!==t||b[11]!==s||b[12]!==v?(q=function(a){return k.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:t,isReply:s,isXMAExpired:v,children:a})},b[9]=f,b[10]=t,b[11]=s,b[12]=v,b[13]=q):q=b[13];b[14]!==e||b[15]!==f||b[16]!==n?(h=k.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:e,attachmentItem:f,getHeaderImageUrlXMA:n}),b[14]=e,b[15]=f,b[16]=n,b[17]=h):h=b[17];b[18]!==e||b[19]!==f||b[20]!==o||b[21]!==r?(n=k.jsx(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressableNested,{children:k.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:f,getPreviewImageUrlXMA:o,mediaRenderQpl:r,size:"large"})}),b[18]=e,b[19]=f,b[20]=o,b[21]=r,b[22]=n):n=b[22];b[23]!==e||b[24]!==f||b[25]!==n||b[26]!==q||b[27]!==h?(o=k.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:e,attachmentItem:f,renderPressable:q,children:[h,n]}),b[23]=e,b[24]=f,b[25]=n,b[26]=q,b[27]=h,b[28]=o):o=b[28];b[29]!==e.threadKey||b[30]!==g||b[31]!==a||b[32]!==o||b[33]!==m||b[34]!==p?(r=k.jsx(c("IGDXMAAttachmentContainer.react"),{connectBottom:g,connectTop:m,outgoing:a,threadKey:e.threadKey,xstyle:p,children:o}),b[29]=e.threadKey,b[30]=g,b[31]=a,b[32]=o,b[33]=m,b[34]=p,b[35]=r):r=b[35];b[36]!==e||b[37]!==f||b[38]!==u||b[39]!==a?(n=k.jsx(c("IGDXMAAttachmentItemBodyForLayered.react"),{attachment:e,attachmentItem:f,favIconUrl:u,outgoing:a}),b[36]=e,b[37]=f,b[38]=u,b[39]=a,b[40]=n):n=b[40];b[41]!==f||b[42]!==t||b[43]!==s||b[44]!==v||b[45]!==n?(q=k.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:t,isReply:s,isXMAExpired:v,children:n}),b[41]=f,b[42]=t,b[43]=s,b[44]=v,b[45]=n,b[46]=q):q=b[46];b[47]!==r||b[48]!==q?(h=k.jsxs("div",{children:[r,q]}),b[47]=r,b[48]=q,b[49]=h):h=b[49];return h}g["default"]=a}),98);
__d("attachmentToAttachmentItem",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}f["default"]=a}),66);
__d("IGDXMAAttachmentPlaceholder.react",["IGDSBox.react","IGDSText.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemPressable.react","attachmentToAttachmentItem","isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={container:{backgroundColor:"x19g9edo",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},titleWithMarginBottom:{marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(19),e=a.attachment,f=a.mediaRenderQpl;a=a.outgoing;var g,h;b[0]!==e.loggingGenericXmaContentType||b[1]!==f?(g=function(){e.loggingGenericXmaContentType!=null&&(f==null||f.addAnnotations({string:{unsupported_type:e.loggingGenericXmaContentType}})),f==null||f.endSuccess()},h=[e.loggingGenericXmaContentType,f],b[0]=e.loggingGenericXmaContentType,b[1]=f,b[2]=g,b[3]=h):(g=b[2],h=b[3]);j(g,h);g=c("isStringNullOrEmpty")(e.subtitleText)?c("isStringNullOrEmpty")(e.captionBodyText)?null:e.captionBodyText:e.subtitleText;b[4]!==g?(h=g!=null?i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:g}):null,b[4]=g,b[5]=h):h=b[5];g=h;b[6]!==e.titleText||b[7]!==g?(h=c("isStringNullOrEmpty")(e.titleText)?null:i.jsx(c("IGDSBox.react"),{xstyle:g!==null?k.titleWithMarginBottom:void 0,children:i.jsx(c("IGDSText.react"),{size:"body",children:e.titleText})}),b[6]=e.titleText,b[7]=g,b[8]=h):h=b[8];h=h;if(h!==null||g!==null){var l;b[9]!==e?(l=c("attachmentToAttachmentItem")(e),b[9]=e,b[10]=l):l=b[10];var m;b[11]!==e.threadKey||b[12]!==g||b[13]!==a||b[14]!==h?(m=i.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,outgoing:a,threadKey:e.threadKey,xstyle:k.container,children:[h,g]}),b[11]=e.threadKey,b[12]=g,b[13]=a,b[14]=h,b[15]=m):m=b[15];b[16]!==l||b[17]!==m?(g=i.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:l,children:m}),b[16]=l,b[17]=m,b[18]=g):g=b[18];return g}return null}g["default"]=a}),98);
__d("IGDChatEmoji.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={chatEmoji:{fontSize:"xu54ipa",lineHeight:"xb7ehew",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5),e=a.text;a=a.xstyle;if(e!=null){var f;b[0]!==a?(f=(h||(h=c("stylex"))).props(k.chatEmoji,a),b[0]=a,b[1]=f):f=b[1];b[2]!==f||b[3]!==e?(a=j.jsx("span",babelHelpers["extends"]({},f,{children:e})),b[2]=f,b[3]=e,b[4]=a):a=b[4];return a}else return null}g["default"]=a}),98);
__d("IGDXMAAttachmentReactionItem.react",["IGDChatEmoji.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={overlayReaction:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},overlayReactionIncoming:{insetInlineEnd:"xorogi4",textAlign:"xp4054r",$$css:!0},overlayReactionOutgoing:{insetInlineStart:"xji1vaz",textAlign:"x1yc453h",$$css:!0},reactionIncoming:{paddingInlineStart:"x1g0dm76",textAlign:"x1yc453h",$$css:!0},reactionOutgoing:{paddingInlineEnd:"xpdmqnj",textAlign:"xp4054r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.isOverlay,f=a.outgoing;a=a.reaction;if(a==null)return null;var g;b[0]!==e||b[1]!==f?(g=(h||(h=c("stylex"))).props(e?[k.overlayReaction,f?k.overlayReactionOutgoing:k.overlayReactionIncoming]:[f?k.reactionOutgoing:k.reactionIncoming]),b[0]=e,b[1]=f,b[2]=g):g=b[2];b[3]!==a?(e=j.jsx(c("IGDChatEmoji.react"),{text:a}),b[3]=a,b[4]=e):e=b[4];b[5]!==g||b[6]!==e?(f=j.jsx("div",babelHelpers["extends"]({},g,{children:e})),b[5]=g,b[6]=e,b[7]=f):f=b[7];return f}g["default"]=a}),98);
__d("IGDSReelsFilledIcon.react",["IGDSReelsPanoFilledIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("IGDSReelsPanoFilledIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}b=i.memo(a);g["default"]=b}),98);
__d("useXMAPreviewIconDecorator.react",["fbt","IGDSBox.react","IGDSReelsFilledIcon.react","IGDSText.react","LSIntEnum","MNXMAPreviewImageDecorationType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l={liveDecoration:{backgroundColor:"x13klbg6",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"xxk0z11",width:"x187nhsf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(2);if(a==null)return null;a=(j||(j=d("LSIntEnum"))).unwrapIntEnum(a);switch(a){case c("MNXMAPreviewImageDecorationType").REEL:b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDSReelsFilledIcon.react"),{alt:h._(/*BTDS*/"Clip"),color:"web-always-white"}),b[0]=a):a=b[0];return a;case c("MNXMAPreviewImageDecorationType").LIVE:b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",xstyle:l.liveDecoration,children:k.jsx(c("IGDSText.react"),{color:"webAlwaysWhite",size:"footnote",weight:"semibold",children:h._(/*BTDS*/"LIVE")})}),b[1]=a):a=b[1];return a;default:return null}}g["default"]=a}),226);
__d("IGDXMAAttachmentPortrait.react",["I64","IGDSBox.react","IGDXMAAttachmentContainer.react","IGDXMAAttachmentItemHeader.react","IGDXMAAttachmentItemPressable.react","IGDXMAAttachmentItemPreview.react","IGDXMAAttachmentReactionItem.react","IGDXMAAttachmentUtil","LSIntEnum","LSReplyMessageAttachmentType","MNXMAPreviewImageDecorationType","MWPBaseXMAAttachmentItem.react","MWVerticalRhythm","MWXMessageImage.react","WAArmadilloXMA.pb","react","react-compiler-runtime","stylex","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={container:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},live:{width:"x1g6vzv9",$$css:!0},liveGradient:{backgroundImage:"x1xz74zx",$$css:!0},reel:{width:"xtqaf1t",$$css:!0},reelGradient:{backgroundImage:"x6m44yg",$$css:!0},scrim:{bottom:"x1ey2m1c",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",position:"x10l6tqk",top:"x13vifvy",$$css:!0},story:{width:"xfj1xho",$$css:!0},storyGradient:{backgroundImage:"xu1rcjc",$$css:!0},storyInteraction:{width:"x1exxlbk",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(59),e=a.attachment,f=a.attachmentItem,g=a.connectBottom,i=a.connectTop,n=a.getHeaderImageUrlXMA,o=a.getPreviewImageUrlXMA,p=a.hasText,q=a.mediaRenderQpl,r=a.message;a=a.outgoing;var s=e.previewImageDecorationType,t;b[0]!==s?(t=s!=null?[(j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").REEL)),(j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON)),(j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(c("MNXMAPreviewImageDecorationType").LIVE))]:[!1,!1],b[0]=s,b[1]=t):t=b[1];t=t;var u=t[0],v=t[1];t=t[2];s=c("useXMAPreviewIconDecorator.react")(s);var w=e.gatingType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),x=e.defaultCtaId!=null,y;b[2]!==r.text?(y=d("IGDXMAAttachmentUtil").isEmojiReaction(r.text),b[2]=r.text,b[3]=y):y=b[3];y=y;y=y||!1;var z;b[4]!==r.timestampMs?(z=(j||(j=d("I64"))).to_float(r.timestampMs),b[4]=r.timestampMs,b[5]=z):z=b[5];var A=z,B;v?B=p||y?m.storyInteraction:m.story:u?B=m.reel:t&&(B=m.live);z=!(p||y);p=v&&r.replyAttachmentType==null;var C=r.text;if(b[6]!==r.replyAttachmentType||b[7]!==r.replyMediaPreviewHeight||b[8]!==r.replyMediaPreviewWidth||b[9]!==r.replyMediaUrl||b[10]!==r.replyMediaUrlMimeType||b[11]!==r.replySourceId){var D;D=r.replySourceId!=null||!(r.replyMediaUrl!=null&&r.replyMediaPreviewWidth!=null&&r.replyMediaPreviewHeight!=null&&r.replyMediaUrlMimeType!=null&&r.replyMediaUrlMimeType==="image/gif"&&r.replyAttachmentType!=null&&(j||(j=d("I64"))).equal(r.replyAttachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF)))?null:l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:6}),l.jsx(c("MWXMessageImage.react"),{alt:void 0,height:(j||(j=d("I64"))).to_float((D=r.replyMediaPreviewHeight)!=null?D:(j||(j=d("I64"))).zero),maxHeight:200,maxWidth:void 0,src:(D=r.replyMediaUrl)!=null?D:"",width:(j||(j=d("I64"))).to_float((D=r.replyMediaPreviewWidth)!=null?D:(j||(j=d("I64"))).zero)})]});b[6]=r.replyAttachmentType;b[7]=r.replyMediaPreviewHeight;b[8]=r.replyMediaPreviewWidth;b[9]=r.replyMediaUrl;b[10]=r.replyMediaUrlMimeType;b[11]=r.replySourceId;b[12]=D}else D=b[12];D=D;var E;b[13]!==f||b[14]!==w||b[15]!==u||b[16]!==A?(E=function(a){return l.jsx(c("IGDXMAAttachmentItemPressable.react"),{attachmentItem:f,isPrivatePost:w,isReel:u,timestamp:A,children:a})},b[13]=f,b[14]=w,b[15]=u,b[16]=A,b[17]=E):E=b[17];g=v&&y?!1:g;var F=r.threadKey,G=B,H;b[18]!==e||b[19]!==f||b[20]!==n||b[21]!==z?(H=z?l.jsx(c("IGDXMAAttachmentItemHeader.react"),{attachment:e,attachmentItem:f,getHeaderImageUrlXMA:n,overlayingMedia:!0}):null,b[18]=e,b[19]=f,b[20]=n,b[21]=z,b[22]=H):H=b[22];b[23]!==e||b[24]!==f||b[25]!==o||b[26]!==q?(n=l.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:f,getPreviewImageUrlXMA:o,mediaRenderQpl:q,size:"large"}),b[23]=e,b[24]=f,b[25]=o,b[26]=q,b[27]=n):n=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1ey2m1c x1o0tod xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x10l6tqk x1vjfegm"},b[28]=o):o=b[28];b[29]!==s?(q=l.jsx("div",babelHelpers["extends"]({},o,{children:s})),b[29]=s,b[30]=q):q=b[30];b[31]!==t||b[32]!==u||b[33]!==v||b[34]!==z?(o=z?l.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.scrim,u?m.reelGradient:!1,v?m.storyGradient:!1,t?m.liveGradient:!1))):null,b[31]=t,b[32]=u,b[33]=v,b[34]=z,b[35]=o):o=b[35];b[36]!==i||b[37]!==r.threadKey||b[38]!==a||b[39]!==n||b[40]!==q||b[41]!==o||b[42]!==g||b[43]!==H||b[44]!==p||b[45]!==B?(s=l.jsxs(c("IGDXMAAttachmentContainer.react"),{connectBottom:g,connectTop:i,outgoing:a,threadKey:F,withHighlightBar:p,xstyle:G,children:[H,n,q,o]}),b[36]=i,b[37]=r.threadKey,b[38]=a,b[39]=n,b[40]=q,b[41]=o,b[42]=g,b[43]=H,b[44]=p,b[45]=B,b[46]=s):s=b[46];b[47]!==y||b[48]!==x||b[49]!==a||b[50]!==C?(t=y&&C!=null&&C!==""?l.jsx(c("IGDXMAAttachmentReactionItem.react"),{isOverlay:x,outgoing:a,reaction:C}):null,b[47]=y,b[48]=x,b[49]=a,b[50]=C,b[51]=t):t=b[51];b[52]!==e||b[53]!==f||b[54]!==D||b[55]!==s||b[56]!==t||b[57]!==E?(v=l.jsx(c("IGDSBox.react"),{direction:"row",xstyle:m.container,children:l.jsxs(d("MWPBaseXMAAttachmentItem.react").MWPBaseXMAAttachmentItemPressable,{attachment:e,attachmentItem:f,renderPressable:E,children:[s,t,D]})}),b[52]=e,b[53]=f,b[54]=D,b[55]=s,b[56]=t,b[57]=E,b[58]=v):v=b[58];return v}g["default"]=a}),98);
__d("MWPBaseXMAAttachment.react",["I64","LSIntEnum","MNLSXMALayoutType","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react");function m(){return null}function n(a){return{attachmentCta1Id:a.attachmentCta1Id,attachmentCta2Id:a.attachmentCta2Id,attachmentCta3Id:a.attachmentCta3Id,attachmentFbid:a.attachmentFbid,attachmentIndex:a.attachmentIndex,cta1Title:a.cta1Title,cta1Type:a.cta1Type,cta2Title:a.cta2Title,cta2Type:a.cta2Type,cta3Title:a.cta3Title,cta3Type:a.cta3Type,dashManifest:a.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:a.defaultCtaId,defaultCtaTitle:a.defaultCtaTitle,defaultCtaType:a.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:a.faviconUrl,faviconUrlExpirationTimestampMs:a.faviconUrlExpirationTimestampMs,faviconUrlFallback:a.faviconUrlFallback,imageUrl:a.imageUrl,messageId:a.messageId,originalPageSenderId:a.originalPageSenderId,playableUrl:a.playableUrl,playableUrlExpirationTimestampMs:a.playableUrlExpirationTimestampMs,playableUrlFallback:a.playableUrlFallback,playableUrlMimeType:a.playableUrlMimeType,previewHeight:a.previewHeight,previewUrl:a.previewUrl,previewUrlExpirationTimestampMs:a.previewUrlExpirationTimestampMs,previewUrlFallback:a.previewUrlFallback,previewUrlLarge:a.previewUrlLarge,previewUrlMimeType:a.previewUrlMimeType,previewWidth:a.previewWidth,subtitleText:a.subtitleText,threadKey:a.threadKey,titleText:a.titleText}}function o(a,b,e,f){if(b.length!==0){c("recoverableViolation")("Unknown combination of XMA items and layout. Attachment Items: ("+String(b.length)+"), Layout: "+(a.xmaLayoutType==null?"na":(j||(j=d("I64"))).to_string(a.xmaLayoutType))+", Attachment Type: "+(j||(j=d("I64"))).to_string(a.attachmentType),"messenger_web_sharing");return e()}return f({attachmentItems:[],layoutType:"vertical",preview:n(a)})}function p(a,b,e,f){var g=a.xmaLayoutType,h=b.length;if(g==null)return o(a,b,e,f);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").EXPIRED_PLACEHOLDER)))return f({layoutType:"expired"});if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PLACEHOLDER)))return f({layoutType:"placeholder"});if(h===1)return f({attachmentItems:b,layoutType:"vertical",preview:b[0]});return(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SINGLE))&&h===6||h===7?f({attachmentItems:b,layoutType:"vertical",preview:n(a)}):o(a,b,e,f)}function q(a,b,e,f){var g=a.xmaLayoutType;if(g==null)return p(a,b,e,f);if((j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").HSCROLL)))return f({attachmentItems:b,layoutType:"horizontal"});return(j||(j=d("I64"))).equal(g,(k||(k=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").XCENTER))?f({attachmentItem:b[0],layoutType:"centered"}):p(a,b,e,f)}function a(a){var b=a.attachment;a.connectBottom;a.connectTop;a.hasText;var e=a.renderLayout;a=a.renderUnsupportedXMAAttachment;a=a===void 0?m:a;var g=(h||(h=c("useReStore")))(),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.attachment_items).getKeyRange(b.attachmentFbid)},[g,b.attachmentFbid],f.id+":236");return l.jsx("div",babelHelpers["extends"]({className:"x16it46q"},{children:q(b,i,a,e)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAutomaticPreviewsDisabledContextProviderQuery.graphql",["PolarisAutomaticPreviewsDisabledContextProviderQuery_instagramRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XDTGetIGDAutomaticPreviewsDisabledResponse",kind:"LinkedField",name:"xdt_get_igd_automatic_previews_disabled",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disabled",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAutomaticPreviewsDisabledContextProviderQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"PolarisAutomaticPreviewsDisabledContextProviderQuery",selections:a},params:{id:b("PolarisAutomaticPreviewsDisabledContextProviderQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_get_igd_automatic_previews_disabled"]},name:"PolarisAutomaticPreviewsDisabledContextProviderQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("PolarisAutomaticPreviewsDisabledContext.react",["CometRelay","PolarisAutomaticPreviewsDisabledContextProviderQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext,l=j.createContext(!0);function a(a){var c=d("react-compiler-runtime").c(3),e=a.automaticPreviewsSettingsQueryRef;a=a.children;e=d("CometRelay").usePreloadedQuery(h!==void 0?h:h=b("PolarisAutomaticPreviewsDisabledContextProviderQuery.graphql"),e);e=e.xdt_get_igd_automatic_previews_disabled;e=e.disabled!=null?Boolean(e.disabled):!0;e=e!=null?Boolean(e):!0;var f;c[0]!==a||c[1]!==e?(f=j.jsx(l.Provider,{value:e,children:a}),c[0]=a,c[1]=e,c[2]=f):f=c[2];return f}function c(){return k(l)}g.PolarisAutomaticPreviewsDisabledContextProvider=a;g.usePolarisIsAutomaticPreviewsDisabled=c}),98);
__d("useIssueIGDReceiverFetchTask",["JSResourceForInteraction","PolarisAutomaticPreviewsDisabledContext.react","PolarisDismissEntry","cr:10752","cr:10753","cr:1562","cr:496","promiseDone","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=(e=b("cr:1562"))!=null?e:b("cr:10752"),k=(f=b("cr:496"))!=null?f:b("cr:10753");function a(a,b,e){var f=d("react-compiler-runtime").c(8),g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("IGDAutomaticPreviewNUXModal.react").__setRef("useIssueIGDReceiverFetchTask"),f[0]=g):g=f[0];g=c("useIGDSLazyDialog")(g);var h=g[0],l=d("PolarisAutomaticPreviewsDisabledContext.react").usePolarisIsAutomaticPreviewsDisabled(),m;f[1]!==l||f[2]!==b||f[3]!==h||f[4]!==a||f[5]!==e?(g=function(){if(l||e==null){j!=null&&c("promiseDone")(j.renderDefaultPreview(b,e));return}k!=null&&(d("PolarisDismissEntry").isDismissed(d("PolarisDismissEntry").IGD_INSTAMADILLO_AUTOMATIC_PREVIEW_NUX_TYPE)||(h({threadKey:a}),d("PolarisDismissEntry").setDismissEntry(d("PolarisDismissEntry").IGD_INSTAMADILLO_AUTOMATIC_PREVIEW_NUX_TYPE)),c("promiseDone")(k==null?void 0:k.issueReceiverFetchTaskDeidentified(b,e)))},m=[l,b,h,a,e],f[1]=l,f[2]=b,f[3]=h,f[4]=a,f[5]=e,f[6]=g,f[7]=m):(g=f[6],m=f[7]);i(g,m)}g["default"]=a}),98);
__d("IGDXMAAttachment.react",["I64","IGDPlaceholderMessage.react","IGDXMAAttachmentCard.react","IGDXMAAttachmentCentered.react","IGDXMAAttachmentExpired.react","IGDXMAAttachmentLayered.react","IGDXMAAttachmentPlaceholder.react","IGDXMAAttachmentPortrait.react","LSIntEnum","MNLSXMALayoutType","MWPBaseXMAAttachment.react","PolarisConfig","gkx","react","react-compiler-runtime","useIssueIGDReceiverFetchTask"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=d("react-compiler-runtime").c(26),e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.formatText,m=a.getFaviconUrlXMA,n=a.getHeaderImageUrlXMA,o=a.getPreviewImageUrlXMA,p=a.hasText,q=a.isReply,r=a.mediaRenderQpl,s=a.message,t=a.outgoing,u=h===void 0?!1:h,v=p===void 0?!1:p,w=q===void 0?!1:q;c("useIssueIGDReceiverFetchTask")(s.threadKey,s.messageId,s.xmaReceiverFetchParams);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("gkx")("24019")||d("PolarisConfig").isLoggedOutUser(),b[0]=a):a=b[0];var x=a;b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==u||b[5]!==m||b[6]!==n||b[7]!==o||b[8]!==v||b[9]!==w||b[10]!==r||b[11]!==s||b[12]!==t?(h=function(a){bb18:switch(a.layoutType){case"vertical":var b=a.attachmentItems,h=a.preview;b=b.filter(l);var p=e.xmaLayoutType;return p!=null&&(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").PORTRAIT))?k.jsx(c("IGDXMAAttachmentPortrait.react"),{attachment:e,attachmentItem:h,connectBottom:f,connectTop:g,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,hasText:v,mediaRenderQpl:r,message:s,outgoing:t}):p!=null&&(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").LAYERED))?k.jsx(c("IGDXMAAttachmentLayered.react"),{attachment:e,attachmentItem:h,connectBottom:f,connectTop:g,getFaviconUrlXMA:m,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,hasText:v,isReply:w,mediaRenderQpl:r,outgoing:t}):k.jsx(c("IGDXMAAttachmentCard.react"),{attachment:e,attachmentItem:h,attachmentItems:b,connectBottom:f,connectTop:g,getFaviconUrlXMA:m,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,hasText:v,isReply:w,mediaRenderQpl:r,outgoing:t});case"centered":if(a.attachmentItem!=null&&x)return k.jsx(c("IGDXMAAttachmentCentered.react"),{attachment:e,attachmentItem:a.attachmentItem,connectBottom:f,connectTop:g,getFaviconUrlXMA:m,getHeaderImageUrlXMA:n,getPreviewImageUrlXMA:o,mediaRenderQpl:r,outgoing:t});break bb18;case"expired":return k.jsx(c("IGDXMAAttachmentExpired.react"),{attachment:e,formatText:u,message:s,outgoing:t});case"placeholder":return k.jsx(c("IGDXMAAttachmentPlaceholder.react"),{attachment:e,mediaRenderQpl:r,outgoing:t})}},b[1]=e,b[2]=f,b[3]=g,b[4]=u,b[5]=m,b[6]=n,b[7]=o,b[8]=v,b[9]=w,b[10]=r,b[11]=s,b[12]=t,b[13]=h):h=b[13];b[14]!==f||b[15]!==g||b[16]!==r||b[17]!==t?(p=function(){return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:f,connectTop:g,mediaRenderQpl:r,outgoing:t,unsupportedType:"unsupported_xma_attachment"})},b[14]=f,b[15]=g,b[16]=r,b[17]=t,b[18]=p):p=b[18];b[19]!==e||b[20]!==f||b[21]!==g||b[22]!==v||b[23]!==h||b[24]!==p?(q=k.jsx(c("MWPBaseXMAAttachment.react"),{attachment:e,connectBottom:f,connectTop:g,hasText:v,renderLayout:h,renderUnsupportedXMAAttachment:p}),b[19]=e,b[20]=f,b[21]=g,b[22]=v,b[23]=h,b[24]=p,b[25]=q):q=b[25];return q}function l(a){return a.previewUrl!=null}g["default"]=a}),98);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return[(h||(h=d("I64"))).and_((i||(i=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes),h.and_(i.ofNumber(2048),a.displayedContentTypes),h.and_(i.ofNumber(536870912),a.displayedContentTypes)].some(function(a){return(h||(h=d("I64"))).to_int32(a)!==0})}g["default"]=a}),98);
__d("mwpMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("mwpMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return(h||(h=d("I64"))).to_int32(h.and_((i||(i=d("LSIntEnum"))).ofNumber(32),a.displayedContentTypes))!==0}g["default"]=a}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageListColumn.react","mwpMessageIsReply","mwpMessageWithAttachmentHasPoll","react","react-strict-dom","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_top_margin:{marginTop:"x1gslohp",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,e=a.connectTop,f=a.hasTopMargin;f=f===void 0?!1:f;var g=a.message;a.outgoing;var h=a.paint;h=h===void 0?!0:h;var k=a.renderEmphasisRing,l=a.xmaLayout;a=a.xstyle;var m=c("MWPMessageHasXMA")(g),n=c("mwpMessageIsReply")(g),o=c("mwpMessageWithAttachmentHasPoll")(g);g=g.text;g=g!=null?g!=="":!1;o=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,m?j.container_for_xma:!1,o?j.container_for_poll:!1,f?j.container_for_top_margin:!1,a!==null?a:!1],children:b});return i.jsxs(i.Fragment,{children:[e&&(l===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!m||!g)?i.jsx(d("react-strict-dom").html.div,{style:j.vr}):null,i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!n&&h,children:k!=null?k(o):o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageListAttachment.react",["I64","LSIntEnum","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWSearchPluginUtils","MWVerticalRhythm","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isMWBumpMessage","react","useReStore","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useEffect;function n(a){return(j||(j=d("I64"))).equal(a.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function o(a){return(j||(j=d("I64"))).equal(a.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))}function p(a){return(j||(j=d("I64"))).equal(a.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))}function a(a){var b=a.connectBottom,e=a.connectTop,f=a.mediaRenderQpl,g=a.message,h=a.renderAudioAttachment,i=a.renderEmphasisRing,r=a.renderEphemeralMediaAttachment,s=a.renderFileAttachment,t=a.renderImageAttachment,u=a.renderImageGrid,v=a.renderMultipleAttachments,w=a.renderStickerAttachment,x=a.renderUnsupportedAttachment,y=a.renderUnsupportedMultipleAttachments,z=a.renderVideoAttachment,A=a.renderWrapper,B=a.renderXMAAttachment;a=a.xmaLayout;var C=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a,D=d("MWPAttachmentDataContext").useMWPGetAttachments(g);a=q((a=D[0])==null?void 0:a.attachmentCta1Id);var E=D.length>0?d("MWSearchPluginUtils").isSearchSingleBubblePlugin(D[0]):!1,F=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();F=F.blurMediaEnabled;F=c("gkx")("24098")&&F;var G=D.length>0?D[0]:null;m(function(){G!=null?(f==null||f.addAttachmentAnnotations==null||f.addAttachmentAnnotations(G),f==null||f.addPoint("render-message-list-attachment")):f==null||f.addPoint("missing-message-list-attachment")},[G,f]);if(c("isMWBumpMessage")(g.replyType))return null;if(D.length!==1)if(D.length>1&&D.every(n))F?F=D.map(function(a,b){return l.jsxs(l.Fragment,{children:[b!==0?l.jsx(c("MWVerticalRhythm"),{height:2}):null,l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:g,renderEmphasisRing:i,xmaLayout:C,children:t(a,b!==0,b!==D.length-1,x)})]},a.attachmentFbid)}):F=l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,message:g,renderEmphasisRing:i,xmaLayout:C,children:u(D)});else{u=function(a){return a.some(p)};var H=function(a){return a.some(function(a){return n(a)||o(a)})};if(D.length===2&&u(D)&&H(D)){H=(u=D.find(function(a){return p(a)}))!=null?u:D[0];return B(H,a)}if(D.length>1){F=v==null?void 0:v(D);if(F!=null)return F}F=y!=null?y(D):void 0}else{var I=D[0];u=I.attachmentType;H=!(j||(j=d("I64"))).equal(u,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO));v=I.attachmentType;y=function(){f==null||f.endSuccess();return x(I)};F=l.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:e,hasTopMargin:E,message:g,paint:H,renderEmphasisRing:i,xmaLayout:C,children:(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?t(I,e,b,x):(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))?z(I):(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?h(I):(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))||(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").THIRD_PARTY_STICKER))?w(I):(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA))?B(I,a):(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE))?s(I):(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(j||(j=d("I64"))).equal(v,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?r(I):y()})}return F!=null?A!=null?A(F):F:null}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.attachment_ctas).getKeyRange(a!=null?a:(j||(j=d("I64"))).zero)},[b,a],f.id+":252")}g["default"]=a}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.color,e=a.dataTestId;e=a.inline;e=e===void 0?!1:e;var f=a.size;f=f===void 0?24:f;a=a.viewBox;a=a===void 0?"0 0 36 36":a;return i.jsx(c("CometSVGIcon.react"),{color:d,"data-testid":void 0,inline:e,size:f,viewBox:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),i.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x"},{children:i.jsx(c("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatFilePreview.react",["fbt","FDSImageCover.react","MWChatFileIconV2.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function a(a){var b=a.attachment,d=a.fileName,e=a.isError,f=a.isRetryableError,g=a.onRetry;a=a.withPreview;b=b!=null?b:{};b=b.previewUrl;if(e===!0)return j.jsx("div",babelHelpers["extends"]({className:"x1g0dm76"},{children:j.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 x10w6t97 xl56j7k x1td3qas"},{children:f===!0?j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconRefreshAlt"),label:h._(/*BTDS*/"Retry"),onPress:g,size:32,testid:void 0,type:"normal"}):j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconExclamationMarkCircle"),size:20})})}))}));return b==null||!a?j.jsx("div",babelHelpers["extends"]({className:"x1g0dm76"},{children:j.jsx(c("MWChatFileIconV2.react"),{})})):j.jsx(c("FDSImageCover.react"),{alt:d!=null?d:"",src:b,style:k.imageCover})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onPress,e=a.url;a=a.xstyle;return i.jsx(c("MWXPressable.react"),{children:b,display:"inline",linkProps:e!=null?{download:!0,target:"_blank",url:e}:void 0,onPress:d,overlayDisabled:!0,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWFilePressableDirectDownload=a}),98);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("606");b=d("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e=b;g["default"]=e}),98);
__d("MWFileViewerLogger",["I64","LSIntEnum","MessengerFilePreviewGenerationFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function b(){var b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return(h||(h=d("I64"))).to_string(b())}function j(a,b){var e=b.attachment;return c("MessengerFilePreviewGenerationFalcoEvent").log(function(){return{attachment_id:b.attachmentID,entry_point:b.entryPoint,event:a,filesize:e!=null&&e.filesize!=null?(h||(h=d("I64"))).to_string(e.filesize):void 0,filetype:e==null?void 0:e.playableUrlMimeType,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:(h||(h=d("I64"))).to_string(b.thread.threadKey),thread_type:(i||(i=d("LSIntEnum"))).unwrapIntEnum(b.thread.threadType)}})}function e(a){return j("file_viewer_direct_download",a)}g.generateSessionId=b;g.logFileViewerDirectDownload=e}),98);
__d("useMWFileOnPress",["MWFileViewerLogger","ReQL","asyncToGeneratorRuntime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,e,f,g,i){var k=(h||(h=c("useReStore")))();return j(function(h){f==null||f(h),c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b,c=(yield (b=d("ReQL")).firstAsync(b.fromTableAscending(k.tables.threads).getKeyRange(a.threadId)));b=(yield b.firstAsync(b.fromTableAscending(k.tables.attachments).getKeyRange(a.threadId,a.messageId)));if(c){b={attachment:b,attachmentID:e,entryPoint:g,messageID:a,sessionId:i,thread:c};d("MWFileViewerLogger").logFileViewerDirectDownload(b)}})())},[f,k,a,e,g,i])}g["default"]=a}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","MWFileViewerLogger","goUriOnNewWindow","react","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=a.attachmentID,c=a.children,e=a.entryPoint,f=a.mediaRenderQpl,g=a.messageID,h=a.onPress,l=a.url;a=a.xstyle;j(function(){l!=null&&l.length>0?f==null||f.endSuccess():f==null||f.endFail("load-file-error")},[f,l]);return g!=null&&g.type==="sent"&&b!=null&&l!=null?i.jsx(k,{attachmentID:b,children:c,entryPoint:e,onPress:h,sentMessage:g.value,url:l,xstyle:a}):i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:c,onPress:h,url:l,xstyle:a})}a.displayName=a.name+" [from "+f.id+"]";function k(a){var b=a.attachmentID,e=a.sentMessage,f=a.url,g=a.children,h=a.entryPoint,j=a.onPress;a=a.xstyle;var k=d("MWFileViewerLogger").generateSessionId();e=c("useMWFileOnPress")(e,b,j,h,k);return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},onError:function(a){a=a?a.message:"Cannot open file viewer";c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a);a=d("ConstUriUtils").getUri(f);a!=null&&c("goUriOnNewWindow")(a)},children:i.jsx(d("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:g,onPress:e,url:f,xstyle:a})})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.startsWith("blob:");if(!b)return;b=a.length;return a.substring(5,b)}f.getBlobUrl=a}),66);
__d("formatFileSize",["fbt"],(function(a,b,c,d,e,f,g,h){var i=[function(a){return h._(/*BTDS*/"_j{\"*\":\"{value} B\"}",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"_j{\"*\":\"{value} KB\"}",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"_j{\"*\":\"{value} MB\"}",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"_j{\"*\":\"{value} GB\"}",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"_j{\"*\":\"{value} TB\"}",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"_j{\"*\":\"{value} PB\"}",[h._param("value",a,[0])])},function(a){return h._(/*BTDS*/"_j{\"*\":\"{value} EB\"}",[h._param("value",a,[0])])}],j=0;function a(a,b,c){b===void 0&&(b=1024);c===void 0&&(c=2);if(a==null)return null;if(a===0)return i[j](0);var d=Math.floor(Math.log(Math.abs(a))/Math.log(b));a=a/Math.pow(b,d);b=Math.pow(10,c);a=Math.round(a*b)/b;return i[d](a)}g["default"]=a}),226);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWV2ChatAttachmentParserUtils","formatFileSize","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useMemo,n={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=a.attachment,e=a.getPlayableUrlSecure;a=a.mediaRenderQpl;var f=m(function(){var a=b.filename;if(a!=null)return a;else return h._(/*BTDS*/"File")},[b]),g=m(function(){var a=b.filesize!=null?(k||(k=d("I64"))).to_int32(b.filesize):void 0;if(a!=null)return c("formatFileSize")(a);else return null},[b]),j=m(function(){if(e!=null){var a;a=(a=e(b))!=null?a:"";return d("ConstUriUtils").getUri(a)}else{a=d("LSMediaUrlAttachment").playableUrl(b);if(a!=null){var f=d("MWV2ChatAttachmentParserUtils").getBlobUrl(a);if(f!=null)return d("ConstUriUtils").getUri(f);else return d("ConstUriUtils").getUri(a)}}c("recoverableViolation")("Attachment has no playable_url "+b.attachmentFbid,"messenger_web_media")},[b,e]);return l.jsx(c("MWFilePressable.react"),{attachmentID:b.attachmentFbid,entryPoint:"chat_file_v4",mediaRenderQpl:a,messageID:d("MWChatMessageId").makeSent((k||(k=d("I64"))).to_string(b.threadKey),b.messageId,k.to_string(b.timestampMs)),url:j==null?void 0:j.toString(),children:l.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.root,!1),{"data-testid":void 0,children:[l.jsx(c("MWChatFilePreview.react"),{attachment:b,withPreview:!1}),l.jsxs("div",babelHelpers["extends"]({className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x13faqbe"},{children:[l.jsx(c("MDSTextPairing.react"),{headline:f,headlineLineLimit:3,level:4}),l.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:l.jsx(c("MDSTextPairing.react"),{body:g,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})}))]}))]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDAttachment.react",["EphemeralMediaViewMode","I64","IGDAttachmentAudioPlayer.react","IGDAttachmentUtil","IGDBroadcastChannelLoggerUtils","IGDChatImage.react","IGDChatVideo.react","IGDMediaGrid.react","IGDMessageContainerWithHighlightBar.react","IGDMessageContentNoLongerAvailablePlaceholder.react","IGDMsysMusicSticker.react","IGDPlaceholderMessage.react","IGDRavenMessage.react","IGDSticker.react","IGDXMAAttachment.react","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MWMediaRenderQplUtils","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MWXMessageBubble.react","MessagingAttachmentType","MessengerWebUXLogger","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(64),e=a.connectBottom,f=a.connectTop,g=a.formatText,h=a.hasText,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=o,u=n,v=m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={eventName:"media_collection_rendered"},b[0]=a):a=b[0];var w=c("MessengerWebUXLogger").useImpressionLoggerRef(a),x=d("IGDBroadcastChannelLoggerUtils").useIsIGBroadcastChannelWithThreadKey(r.threadKey);b[1]!==q||b[2]!==s?(a=function(a){return k.jsx(c("IGDAttachmentAudioPlayer.react"),{attachment:a,mediaRenderQpl:q,outgoing:s})},b[1]=q,b[2]=s,b[3]=a):a=b[3];var y;b[4]!==e||b[5]!==f||b[6]!==q||b[7]!==r||b[8]!==s?(y=function(a){if(a.ephemeralMediaViewMode){var b=(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.ephemeralMediaViewMode);switch(b){case c("EphemeralMediaViewMode").PERMANENT:return a.igStoryReplyType==="story_selfie_reply"?k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,mediaRenderQpl:q,outgoing:s,unsupportedType:"story_selfie_reply"}):(j||(j=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO))?k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:f,mediaRenderQpl:q,message:r,outgoing:s}):k.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:e,connectTop:f,mediaRenderQpl:q,message:r,outgoing:s});case c("EphemeralMediaViewMode").READ_ONCE:case c("EphemeralMediaViewMode").REPLAYABLE:return k.jsx(c("IGDRavenMessage.react"),{attachment:a,connectBottom:e,connectTop:f,outgoing:s})}}return k.jsx(c("IGDRavenMessage.react"),{attachment:a,connectBottom:e,connectTop:f,outgoing:s})},b[4]=e,b[5]=f,b[6]=q,b[7]=r,b[8]=s,b[9]=y):y=b[9];var z;b[10]!==f||b[11]!==s?(z=function(a){return k.jsx(c("MWXMessageBubble.react"),{align:s?"right":"left",color:"incoming",connectBottom:!1,connectTop:f,children:k.jsx(c("MWV2ChatFileV2.react"),{attachment:a,mediaRenderQpl:null})})},b[10]=f,b[11]=s,b[12]=z):z=b[12];var A;b[13]!==q||b[14]!==r||b[15]!==s?(A=function(a,b,d){return k.jsx(c("IGDChatImage.react"),{attachment:a,connectBottom:d,connectTop:b,mediaRenderQpl:q,message:r,outgoing:s})},b[13]=q,b[14]=r,b[15]=s,b[16]=A):A=b[16];var B,C;b[17]!==e||b[18]!==f||b[19]!==w||b[20]!==q||b[21]!==r||b[22]!==s?(B=function(a){return k.jsx(c("IGDMediaGrid.react"),{attachments:a,connectBottom:e,connectTop:f,logImpressionEventRef:w,onRenderMedia:function(a){return k.jsx(c("IGDChatImage.react"),{attachment:a,connectTop:!1,inGrid:!0,mediaRenderQpl:q,message:r,outgoing:s})},outgoing:s})},C=function(a){return p(a,r,e,f,s,w,q)},b[17]=e,b[18]=f,b[19]=w,b[20]=q,b[21]=r,b[22]=s,b[23]=B,b[24]=C):(B=b[23],C=b[24]);var D;b[25]!==q?(D=function(a){return k.jsx(c("IGDSticker.react"),{attachment:a,mediaRenderQpl:q})},b[25]=q,b[26]=D):D=b[26];var E;b[27]!==e||b[28]!==f||b[29]!==q||b[30]!==s?(E=function(a){return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,mediaRenderQpl:q,outgoing:s,unsupportedType:"unsupported_single_attachment"})},b[27]=e,b[28]=f,b[29]=q,b[30]=s,b[31]=E):E=b[31];var F,G;b[32]!==e||b[33]!==f||b[34]!==q||b[35]!==r||b[36]!==s?(F=function(a){var b=r.displayedContentTypes;if(a.length===0&&!!(j||(j=d("I64"))).equal(b,(j||(j=d("I64"))).zero))return k.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:s,withMarginBottom:!1,children:k.jsx(c("IGDMessageContentNoLongerAvailablePlaceholder.react"),{message:r.replySnippet!=null?r:void 0})});q==null||q.addAnnotations({string_array:{unsupported_multiple_attachment_types:a.map(l)}});return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,mediaRenderQpl:q,outgoing:s,unsupportedType:"unsupported_multiple_attachments"})},G=function(a){return r.isVideoQuickSend===!0?k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,mediaRenderQpl:q,outgoing:s,unsupportedType:"quick_send_video"}):k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:f,mediaRenderQpl:q,message:r,outgoing:s})},b[32]=e,b[33]=f,b[34]=q,b[35]=r,b[36]=s,b[37]=F,b[38]=G):(F=b[37],G=b[38]);var H;b[39]!==e||b[40]!==f||b[41]!==g||b[42]!==h||b[43]!==x||b[44]!==q||b[45]!==r||b[46]!==s?(H=function(a,b){if(d("IGDAttachmentUtil").isUnsupportedXma(a,b,x,r)){b=d("IGDAttachmentUtil").getUnsupportedXmaType(a,b,x);b!=null&&(b="xma_"+b);return k.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:e,connectTop:f,mediaRenderQpl:q,outgoing:s,unsupportedType:b})}else if(d("IGDAttachmentUtil").isStickerXMA(a))if(a.stickerType==="music_sticker"&&c("qex")._("4763"))return k.jsx(c("IGDMsysMusicSticker.react"),{attachment:a});else return k.jsx(c("IGDSticker.react"),{attachment:a,mediaRenderQpl:q});else return k.jsx(c("IGDXMAAttachment.react"),{attachment:a,connectBottom:e,connectTop:f,formatText:g,getFaviconUrlXMA:v,getHeaderImageUrlXMA:t,getPreviewImageUrlXMA:u,hasText:h,mediaRenderQpl:q,message:r,outgoing:s})},b[39]=e,b[40]=f,b[41]=g,b[42]=h,b[43]=x,b[44]=q,b[45]=r,b[46]=s,b[47]=H):H=b[47];var I;b[48]!==e||b[49]!==f||b[50]!==q||b[51]!==r||b[52]!==F||b[53]!==G||b[54]!==H||b[55]!==a||b[56]!==y||b[57]!==z||b[58]!==A||b[59]!==B||b[60]!==C||b[61]!==D||b[62]!==E?(I=k.jsx(c("MWPMessageListAttachment.react"),{connectBottom:e,connectTop:f,mediaRenderQpl:q,message:r,renderAudioAttachment:a,renderEphemeralMediaAttachment:y,renderFileAttachment:z,renderImageAttachment:A,renderImageGrid:B,renderMultipleAttachments:C,renderStickerAttachment:D,renderUnsupportedAttachment:E,renderUnsupportedMultipleAttachments:F,renderVideoAttachment:G,renderXMAAttachment:H}),b[48]=e,b[49]=f,b[50]=q,b[51]=r,b[52]=F,b[53]=G,b[54]=H,b[55]=a,b[56]=y,b[57]=z,b[58]=A,b[59]=B,b[60]=C,b[61]=D,b[62]=E,b[63]=I):I=b[63];return I}function l(a){return d("MWMediaRenderQplUtils").getAttachmentTypeString(a)}function m(a,b){return(a=(a=d("LSMediaUrlAttachment").faviconUrl(a))!=null?a:d("LSMediaUrlAttachmentItem").faviconUrl(b))!=null?a:void 0}function n(a,b){return d("LSMediaUrlAttachment").previewUrl(a)}function o(a){return d("LSMediaUrlAttachment").headerImageUrl(a)}function p(a,b,e,f,g,h,i){var j=a.every(function(a){return d("IGDAttachmentUtil").isImageAttachment(a)||d("IGDAttachmentUtil").isVideoAttachment(a)});return!j?null:k.jsx(c("IGDMediaGrid.react"),{attachments:a,connectBottom:e,connectTop:f,logImpressionEventRef:h,onRenderMedia:function(a){if(d("IGDAttachmentUtil").isImageAttachment(a))return k.jsx(c("IGDChatImage.react"),{attachment:a,connectTop:!1,inGrid:!0,mediaRenderQpl:i,message:b,outgoing:g});return d("IGDAttachmentUtil").isVideoAttachment(a)?k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:!1,inGrid:!0,mediaRenderQpl:i,message:b,outgoing:g}):null},outgoing:g})}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDAudioWaveformPlayerEmptyContainer.react",["IGDSBox.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.innerHeight;var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:a,width:"100%",children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("IGDBaseNullState.react",["CometColumn.react","CometColumnItem.react","IGDSText.react","cr:19743","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(16),f=a.children,g=a.descriptionText,h=a.icon;a=a.titleText;var j;e[0]!==h?(j=h!=null?h:i.jsx(b("cr:19743"),{alt:"",color:"ig-primary-icon",size:96}),e[0]=h,e[1]=j):j=e[1];e[2]!==j?(h=i.jsx(c("CometColumnItem.react"),{children:j}),e[2]=j,e[3]=h):h=e[3];e[4]!==a?(j=i.jsx(c("CometColumnItem.react"),{paddingTop:20,children:i.jsx(c("IGDSText.react"),{elementType:"h2",size:"title",textAlign:"center",children:a})}),e[4]=a,e[5]=j):j=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x17fpy1y"},e[6]=a):a=e[6];e[7]!==g?(a=i.jsx(c("CometColumnItem.react"),{paddingTop:16,children:i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",weight:"normal",children:g})}))}),e[7]=g,e[8]=a):a=e[8];e[9]!==f?(g=f!=null&&i.jsx(c("CometColumnItem.react"),{paddingTop:20,children:f}),e[9]=f,e[10]=g):g=e[10];e[11]!==h||e[12]!==j||e[13]!==a||e[14]!==g?(f=i.jsxs(c("CometColumn.react"),{align:"center",expanding:!0,paddingHorizontal:16,verticalAlign:"center",children:[h,j,a,g]}),e[11]=h,e[12]=j,e[13]=a,e[14]=g,e[15]=f):f=e[15];return f}g["default"]=a}),98);
__d("MessageRequestsLog",["I64","coerceMessagingThreadTypeToLSThreadType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i=c("requireDeferred"))("MessageRequestsBulkActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),k=i("MessageRequestsBulkActionEditFalcoEvent").__setRef("MessageRequestsLog"),l=i("MessageRequestsBulkActionTappedFalcoEvent").__setRef("MessageRequestsLog"),m=i("MessageRequestsInfoBannerShownFalcoEvent").__setRef("MessageRequestsLog"),n=i("MessageRequestsThreadActionConfirmedFalcoEvent").__setRef("MessageRequestsLog"),o=i("MessageRequestsThreadActionTappedFalcoEvent").__setRef("MessageRequestsLog"),p=i("MessageRequestsThreadDenialOptionsTappedFalcoEvent").__setRef("MessageRequestsLog"),q=i("MessageRequestsViewThreadlistFalcoEvent").__setRef("MessageRequestsLog");function r(a){switch(a.folderName){case"pending":return-1;case"other":return-2;case"spam":return-3;case"inbox":return 0}}function a(a,b,e){m.onReady(function(f){f.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:e,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:e!=null?e:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function b(a,b){p.onReady(function(e){e.log(function(){return{action:0,extra_data_map:void 0,group_thread_id:void 0,other_user_id:b,request_id:void 0,thread_folder:r(a),thread_id:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function e(a,b,e,f){o.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function f(a,b,e,f){n.onReady(function(g){g.log(function(){return{action:b,extra_data_map:void 0,group_thread_id:f,other_user_id:e,request_id:void 0,thread_folder:r(a),thread_id:f!=null?f:(h||(h=d("I64"))).to_string(a.threadKey),thread_type:c("coerceMessagingThreadTypeToLSThreadType")(a.threadType)}})})}function s(a,b){q.onReady(function(c){c.log(function(){return{action:0,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:b,request_id:void 0}})})}function t(a,b,c,d,e){l.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function u(a,b,c,d,e){j.onReady(function(f){f.log(function(){return{action:d,actioned_thread_count:b.toString(),actioned_thread_ids:void 0,actioned_unread_thread_count:c.toString(),entry_point:a,folder:e,request_id:void 0}})})}function v(a,b,c){k.onReady(function(d){d.log(function(){return{action:b,actioned_thread_count:"0",actioned_thread_ids:void 0,actioned_unread_thread_count:"0",entry_point:a,folder:c,request_id:void 0}})})}g.logMessageRequestInfoShown=a;g.logDenialOptionsTapped=b;g.logActionTapped=e;g.logActionConfirmed=f;g.logMessageRequestsView=s;g.logMessageRequestsBulkActionTapped=t;g.logMessageRequestsBulkActionConfirmed=u;g.logMessageRequestsBulkActionEdit=v}),98);
__d("IGDBlockUserComposerBannerButton.react",["fbt","FBLogger","I64","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MessageRequestsLog","MessengerWebUXLogger","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","useAsyncReStore","useIGDSLazyDialog","useMWBShouldReportThreadAsInstamadillo"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var e=d("react-compiler-runtime").c(17),f=a.contact,g=a.thread,i=c("useAsyncReStore")(),m=c("useMWBShouldReportThreadAsInstamadillo")(g);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("IGDBlockUserDialog.react").__setRef("IGDBlockUserComposerBannerButton.react"),e[0]=a):a=e[0];a=c("useIGDSLazyDialog")(a);var n=a[0],o=c("MessengerWebUXLogger").useInteractionLogger(),p=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e[1]!==g?(a=c("getInstamadilloLoggingExtraData")(g),e[1]=g,e[2]=a):a=e[2];var q=a,r;e[3]!==f.id||e[4]!==f.name||e[5]!==i||e[6]!==p||e[7]!==q||e[8]!==o||e[9]!==m||e[10]!==n||e[11]!==g?(a=function(){var a=d("LSMessagingThreadTypeUtil").isGroup(g.threadType),e=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(g);n({clickPoint:"composer_banner",contactID:f.id,isBlocked:!1,isGroup:a,onBlock:function(){m&&c("promiseDone")(i.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWLSThread").getThreadAsync(a,g.threadKey));a?d("MessageRequestsLog").logActionConfirmed(a,2,(j||(j=d("I64"))).to_string(f.id)):c("FBLogger")("igd_web").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}()))},shouldReportAsInstamadillo:m,threadKey:g.threadKey,userName:f.name},l);m&&c("promiseDone")(i.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MWLSThread").getThreadAsync(a,g.threadKey));a?d("MessageRequestsLog").logActionTapped(a,2,(j||(j=d("I64"))).to_string(f.id)):c("FBLogger")("igd_web").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}()));o==null||o({eventName:"block_profile_attempt",extraData:babelHelpers["extends"]({},q,{is_request:String(e),target_id:(j||(j=d("I64"))).to_string(f.id)}),flowInstanceId:p})},r=[f.id,f.name,i,p,q,o,m,n,g],e[3]=f.id,e[4]=f.name,e[5]=i,e[6]=p,e[7]=q,e[8]=o,e[9]=m,e[10]=n,e[11]=g,e[12]=a,e[13]=r):(a=e[12],r=e[13]);a=d("Int64Hooks").useCallbackInt64(a,r);e[14]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"Block"),e[14]=r):r=e[14];e[15]!==a?(r=k.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:r,onClick:a,role:"button",variant:"destructive_link_deprecated"}),e[15]=a,e[16]=r):r=e[16];return r}function l(){}g["default"]=a}),226);
__d("MWPIsContextBannerDisabled",["LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("LSThreadBitOffset").has(47,a)}g.isContextBannerDisabled=a}),98);
__d("MWPThreadContextBanner.react",["LSThreadTitle.react","MWPIsContextBannerDisabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.renderNullStateDescription,e=a.renderThreadPicture,f=a.renderThreadTitle;a=a.thread;var g=a.nullstateDescriptionText1,h=a.nullstateDescriptionText2,j=a.nullstateDescriptionText3,k=a.nullstateDescriptionType1,l=a.nullstateDescriptionType2,m=a.nullstateDescriptionType3;return d("MWPIsContextBannerDisabled").isContextBannerDisabled(a)?null:i.jsxs(i.Fragment,{children:[e==null?void 0:e(a),f==null?void 0:f(i.jsx(c("LSThreadTitle.react"),{thread:a})),g!=null&&k!=null?(e=b==null?void 0:b(g,k))!=null?e:null:null,h!=null&&l!=null?b==null?void 0:b(h,l):null,j!=null&&m!=null?b==null?void 0:b(j,m):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDBlockedBroadcastThreadDetail.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","LSVerificationBadge.react","MWPThreadContextBanner.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(3);a=a.descriptionText;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xz9dl7a"},b[0]=e):e=b[0];b[1]!==a?(e=j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:a})})),b[1]=a,b[2]=e):e=b[2];return e}function l(a){var b=d("react-compiler-runtime").c(9),e=a.thread;a=a.threadTitle;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x9f619 x1onr9mi x1pic42t xh8yej3"},b[0]=f):f=b[0];var g;b[1]!==a?(g=j.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("IGDSVerifiedBadge.react"),{size:"small"}),b[3]=a):a=b[3];b[4]!==e.threadKey?(a=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(c("LSVerificationBadge.react"),{icon:a,threadKey:e.threadKey})}),b[4]=e.threadKey,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(e=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[g,a]})})),b[6]=g,b[7]=a,b[8]=e):e=b[8];return e}function a(a){var b=d("react-compiler-runtime").c(5),e=a.thread;b[0]!==e?(a=function(a){return j.jsx(l,{thread:e,threadTitle:a})},b[0]=e,b[1]=a):a=b[1];var f;b[2]!==a||b[3]!==e?(f=j.jsx(c("IGDSBox.react"),{alignItems:"center",height:"100%",justifyContent:"center",margin:"auto",maxWidth:"415px",padding:12,position:"relative",children:j.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:n,renderThreadPicture:m,renderThreadTitle:a,thread:e})}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}function m(a){return j.jsx("div",babelHelpers["extends"]({className:"xyamay9 x1l90r2v"},{children:j.jsx(c("IGDAvatar.react"),{size:"XXL",thread:a})}))}m.displayName=m.name+" [from "+f.id+"]";function n(){return j.jsx(k,{descriptionText:h._(/*BTDS*/"Use the Instagram app on your mobile device to join this channel").toString()})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDComposerEmojiButton.react",["IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","MessengerWebUXLogger","Promise","ReQL","ReQLSuspense","cr:21298","cr:21299","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("IGDAddEmojiToComposerForLexical").__setRef("IGDComposerEmojiButton.react");function a(a){var e=d("react-compiler-runtime").c(22),g=a.editor,j=a.threadKey,m=(i||(i=c("useReStore")))();e[0]!==m.tables.threads||e[1]!==j?(a=function(){return d("ReQL").fromTableAscending(m.tables.threads).getKeyRange(j)},e[0]=m.tables.threads,e[1]=j,e[2]=a):a=e[2];var n;e[3]!==m||e[4]!==j?(n=[m,j],e[3]=m,e[4]=j,e[5]=n):n=e[5];a=d("ReQLSuspense").useFirst(a,n,f.id+":41");e[6]!==g?(n=function(a){c("promiseDone")(l.load().then(function(c){c(a,g);return(h||(h=b("Promise"))).resolve()}))},e[6]=g,e[7]=n):n=e[7];n=n;var o=c("MessengerWebUXLogger").useInteractionLogger(),p=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),q;e[8]!==a?(q=c("getInstamadilloLoggingExtraData")(a),e[8]=a,e[9]=q):q=e[9];var r=q;e[10]!==p||e[11]!==r?(a={eventName:"composer_emoji_picker_button_rendered",extraData:r,flowInstanceId:p},e[10]=p,e[11]=r,e[12]=a):a=e[12];q=c("MessengerWebUXLogger").useImpressionLoggerRef(a);e[13]!==p||e[14]!==r||e[15]!==o?(a=function(){o==null||o({eventName:"composer_open_emoji_picker",extraData:r,flowInstanceId:p})},e[13]=p,e[14]=r,e[15]=o,e[16]=a):a=e[16];a=a;var s;e[17]!==a||e[18]!==q||e[19]!==n||e[20]!==j?(s=b("cr:21298")?k.jsx(b("cr:21298"),{logClickEvent:a,logImpressionEventRef:q,onSelect:n}):b("cr:21299")?k.jsx(b("cr:21299"),{logClickEvent:a,logImpressionEventRef:q,onSelect:n,threadKey:j}):null,e[17]=a,e[18]=q,e[19]=n,e[20]=j,e[21]=s):s=e[21];return s}g["default"]=a}),98);
__d("IGDComposerIconSendButton.react",["fbt","IGDChatTabsEnv","IGDSBox.react","IGDSIconButton.react","IGDSMessagesFilledIcon.react","PolarisUA","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={chatTabSendButtonDesktop:{marginInlineEnd:"x1mpyi22",$$css:!0},sendButton:{alignSelf:"x7fd4wk",backgroundColor:"x1tu34mt",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"x90ne7k",marginBottom:"xu06os2",width:"xvni27",$$css:!0},sendButtonDesktop:{marginBottom:"xjpr12u",marginInlineEnd:"xnnr8r",$$css:!0},sendButtonDisabled:{cursor:"x1h6gzvc",opacity:"xuzhngd",$$css:!0},sendButtonIcon:{marginTop:"x1gslohp",$$css:!0},sendButtonMobile:{marginBottom:"xat24cr",$$css:!0},sendButtonOnHover:{":hover_filter":"x1spsku0",$$css:!0},sendButtonPrismIcon:{marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.hidden,f=a.isDisabled,g=a.isEdit,i=a.onClick;a=a.testid;var l=d("IGDChatTabsEnv").useIsChatTabsDisplay(),m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=c("qex")._("3938"),b[0]=m):m=b[0];m=m;b[1]!==e||b[2]!==l||b[3]!==f||b[4]!==g||b[5]!==i||b[6]!==a?(m=e!==!0&&j.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,isDisabled:f,label:h._(/*BTDS*/"Send"),onClick:i,xstyle:[k.sendButton,f?k.sendButtonDisabled:k.sendButtonOnHover,d("PolarisUA").isMobile()&&k.sendButtonMobile,!d("PolarisUA").isMobile()&&g===!0&&[k.sendButtonDesktop,l&&k.chatTabSendButtonDesktop]],children:j.jsx(c("IGDSBox.react"),{xstyle:[k.sendButtonIcon,m===!0&&k.sendButtonPrismIcon],children:j.jsx(c("IGDSMessagesFilledIcon.react"),{alt:h._(/*BTDS*/"Send"),color:"web-always-white",size:18})})}),b[1]=e,b[2]=l,b[3]=f,b[4]=g,b[5]=i,b[6]=a,b[7]=m):m=b[7];return m}g["default"]=a}),226);
__d("MWXIconDocument",["MWXSvgIcon","SVGIcon","cr:22296","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22296")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22434")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXTooltip.react",["cr:8602","cr:998","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["label"],i,j=i||d("react");function k(a){return a.label!==void 0}function a(a){var c=k(a)?a.label:a.tooltip;a.label;a=babelHelpers.objectWithoutPropertiesLoose(a,h);if(b("cr:998")!=null)return j.jsx(b("cr:998"),babelHelpers["extends"]({label:c},a));return b("cr:8602")!=null?j.jsx(b("cr:8602"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXVideoStatusListener.react",["getErrorNameFromMediaErrorCode","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.onError,d=a.onLoad,e=a.videoRef;i(function(){var a=e==null?void 0:e.current;function f(){d==null||d()}function g(a){a=a.currentTarget;a=a.error;a=c("getErrorNameFromMediaErrorCode")(a==null?void 0:a.code);b==null||b(a)}if((a==null?void 0:a.readyState)!=null&&a.readyState>=2){f();return}a==null||a.addEventListener("canplay",f);a==null||a.addEventListener("error",g);return function(){a==null||a.removeEventListener("canplay",f),a==null||a.removeEventListener("error",g)}},[b,d,e]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.useEffect,m=k.useRef,n={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function o(a){var b=a.hasError;b=b===void 0?!1:b;a=a.progress;if(a===1||a==null)return null;var c=4;b=b?"var(--negative)":"var(--chat-composer-button-color, var(--accent))";a=Math.ceil(a*100);var d=(c/2).toString();d="M 0,"+d+" L 100,"+d;return j.jsxs("svg",{"aria-hidden":!0,className:"x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",preserveAspectRatio:"none",style:{height:c.toString()},viewBox:"0 0 100 "+c.toString(),children:[j.jsx("path",{d:d,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:c.toString()}),j.jsx("path",{d:d,stroke:b,strokeLinecap:"round",strokeWidth:(a===0?0:c).toString(),style:{strokeDasharray:"100",strokeDashoffset:(100-a).toString(),transition:"stroke-dashoffset .5s, stroke .5s"}})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.children,e=a.hasError;e=e===void 0?!1:e;var f=a.onCancel,g=a.progress;a=a.testid;return j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:n.card,children:[j.jsxs(d("react-strict-dom").html.div,{style:n.contentWrapper,children:[b,j.jsx(o,{hasError:e,progress:g})]}),f!=null&&j.jsx(d("react-strict-dom").html.div,{style:n.cancelButton,children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"Cancel"),onPress:f,size:24,type:"overlay"})})]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.hasError;b=b===void 0?!1:b;var d=a.onCancel,e=a.onError,f=a.onLoad,g=a.progress;a=a.src;return j.jsx(p,{hasError:b,onCancel:d,progress:g,testid:void 0,children:j.jsx(c("MWXImage.react"),{objectFit:"contain",onError:e,onLoad:f,src:a,xstyle:n.imagePreview})})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.hasError;b=b===void 0?!1:b;var e=a.onCancel,f=a.onError,g=a.onLoad,h=a.progress;a=a.src;var i=m(null);return j.jsxs(p,{hasError:b,onCancel:e,progress:h,testid:void 0,children:[j.jsx(c("MWXVideoStatusListener.react"),{onError:f,onLoad:g,videoRef:i}),j.jsx("video",babelHelpers["extends"]({className:"xl1xv1r"},{height:"48",ref:i,src:a,width:"48"})),j.jsx(d("react-strict-dom").html.div,{style:n.playIcon,children:j.jsx(c("MWXImage.react"),{src:"/images/video/play_24dp.png"})})]})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.hasError;b=b===void 0?!1:b;var e=a.onCancel,f=a.onLoad,g=a.progress;a=a.title;l(function(){f==null||f()},[f]);return j.jsx(p,{hasError:b,onCancel:e,progress:g,testid:void 0,children:j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:j.jsxs(d("react-strict-dom").html.div,{style:n.filePreview,children:[j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconDocument"),isDecorative:!0,size:20}),j.jsx(c("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:a})]})})})}e.displayName=e.name+" [from "+f.id+"]";function q(a){var b=a.isDisabled;a=a.onPress;var d=h._(/*BTDS*/"Upload another file");return j.jsx(p,{children:j.jsx(c("MWXPressable.react"),{"aria-label":d,disabled:b,onPress:a,testid:void 0,xstyle:n.imagePreview,children:j.jsx(c("MWXIconStrict.react"),{color:b?"disabled":"primary",icon:c("MWXIconPhotoPlus"),size:24})})})}q.displayName=q.name+" [from "+f.id+"]";g.MWXComposerImageAttachmentPreview=a;g.MWXComposerVideoAttachmentPreview=b;g.MWXComposerFileAttachmentPreview=e;g.MWXComposerAddAttachmentButton=q}),226);
__d("MWXComposerButtonContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({});g["default"]=b}),98);
__d("MWXComposerRow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function a(a){var b=a.children,c=a["data-testid"];c=a.padding;c=c===void 0?0:c;var e=a.scrollable;a=a.xStyle;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.row,c===12&&j.padding12,c===4&&j.padding4,c===6&&j.padding6,e===!0&&j.scrollable,a],children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},k={color:"secondary",size:24};function a(a){var b=a.bodyText,e=a.bodyTextColor,f=a.bodyTextType,g=a["data-testid"];g=a.hasTopBorder;g=g===void 0?!1:g;var h=a.headlineText,l=a.headlineTextType,m=a.leftAddon,n=a.level;n=n===void 0?3:n;var o=a.loadingIndicator,p=a.rightAddon,q=a.subtext;a=a.xstyle;return o!=null?i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[j.body],children:o}):i.jsxs(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:[j.body,g&&j.border,a],children:[m!=null&&m,(b!=null||q!=null||h!=null)&&i.jsx(c("MWXTextPairing.react"),{body:b!=null&&f!=null?i.jsx(c("MWXText.react"),{color:e,type:f,children:b}):b!=null?i.jsx(c("MWXText.react"),{color:e,type:"body4",children:b}):void 0,headline:h!=null&&l!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:l,children:h}):h!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:h}):void 0,level:n,meta:q}),p!=null&&i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsx(d("react-strict-dom").html.div,{style:j.rightAddon,children:p})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["color","disableTooltip","size","type","wrapperStyle","wrapperXStyle"],j,k=j||(j=d("react")),l=j.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0}};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=a.color,f=a.disableTooltip,g=a.size,j=a.type;j=j===void 0?"deemphasized":j;var o=a.wrapperStyle,p=a.wrapperXStyle,q=babelHelpers.objectWithoutPropertiesLoose(a,i),r=l(c("MWXComposerButtonContext.react")),s=r.color,t=r.iconRatio;t=t===void 0?"medium":t;var u=r.paddingHorizontal;u=u===void 0?"none":u;r=r.size;r=r===void 0?36:r;return k.jsx(d("react-strict-dom").html.div,{style:[u==="small"&&m.horizontalPaddingSmall,m.layoutWrapper,[p,o]],children:k.jsx(n,{disableTooltip:f,label:a.label,children:k.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({},q,{color:(u=e!=null?e:s)!=null?u:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),iconRatio:t,ref:b,size:g!=null?g:r,type:j}))})})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=a.children,d=a.disableTooltip;a=a.label;return d===!0?b:k.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:b})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},k={iconRatio:"large",paddingHorizontal:"none",size:28};function a(a){var b=a.children,e=a.header;a=a.xstyle;return i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsxs(d("react-strict-dom").html.div,{style:[j.colors,j.flexLayout,a],children:[e,i.jsx(c("MWXComposerRow.react"),{padding:4,children:b})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],i,j=i||(i=d("react")),k=i.useContext,l={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.color;b=b===void 0?"blue":b;var e=a.label,f=a.size,g=a.spinnerSize;g=g===void 0?20:g;var i=a.wrapperStyle,m=a.wrapperXStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var n=k(c("MWXComposerButtonContext.react")),o=n.paddingHorizontal;o=o===void 0?"none":o;n=n.size;n=n===void 0?36:n;f=(f!=null?f:n)+"px";return j.jsx(d("react-strict-dom").html.div,{style:[o==="small"&&l.horizontalPaddingSmall,l.layoutWrapper,[m,i],[{height:f,width:f}]],children:j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:e,children:j.jsx(c("MWXSpinner.react"),babelHelpers["extends"]({color:b,size:g},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function a(a){var b=a.children,e=a.contentEditableProps,f=a.placeholderText;a=a.testid;f=f==null?{}:{"aria-placeholder":f,placeholder:i.jsx(c("CometLexicalPlaceholder.react"),{children:f})};a=i.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({tabIndex:0,webDriverTestID:a},f,e));return i.jsxs(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:j.padding,children:[i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:a}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=a.children,e=a.editor,f=a.header;a=a.testid;var g=d("LexicalComposerContext").createLexicalComposerContext();a=j(function(){return[e,g]},[e,g]);return i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:a,children:[i.jsxs(d("react-strict-dom").html.div,{style:[k.composer,k.flexLayout],children:[f,i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:k.padding,children:b})]}),i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]})}a.displayName=a.name+" [from "+f.id+"]";b={Add:d("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:d("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:d("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:d("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};g.Composer=a;g.Button=c("MWXComposerIconButton.react");g.TextEditor=c("MWXComposerTextEditor.react");g.InputArea=c("MWXComposerInputArea.react");g.Header=c("MWXComposerHeader.react");g.Row=c("MWXComposerRow.react");g.Spinner=c("MWXComposerSpinner.react");g.Attachments=b}),98);
__d("issueEditInstamadilloMessage",["IGDBridgedAPI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("IGDBridgedAPI").sendEditMessage(a)}g["default"]=a}),98);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[2]=f.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(f.timestampMs,c.i64.cast([0,9e5])))?c.sequence([function(e){return c.storedProcedure(b("LSEditMessage"),f.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return void 0!==void 0?(d[7]=c.i64.of_float(Date.now()),c.forEach(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:void 0,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(void 0!==void 0?0:0))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure";a.__tables__=["messages","pending_tasks"];e.exports=a}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticEditMessage"),e.messageId,e.text);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b,d){return c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticEditMessageStoredProcedure")(c("LSFactory")(a),{messageId:b,text:d})},"readwrite",void 0,void 0,f.id+":27"))},[a])}g["default"]=a}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(a,b,c,d,e,f,g){"use strict";var h=c("UserAgent").isPlatform("Mac OS X");b=String.fromCodePoint(h?8984:8963);function a(a){return a!==null&&(h?a.metaKey:a.ctrlKey)}g.COMMAND_UNICODE=b;g.hasCommandModifier=a}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useInsertionEffect,k=b.useLayoutEffect,l=b.useRef,m=250;function a(a,b){var e=a.clearReplyState,f=a.editor,g=a.onSend,h=l(null),n=l(b);j(function(){n.current=b},[b]);var o=i(function(){var a=g(n.current);e==null||e();(a||!1)&&f.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)},[g,e,f]);k(function(){return f.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(a){if(a!=null&&!a.shiftKey&&!a.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(a))){a.preventDefault();var b=h.current;if(b!=null&&a.timeStamp-b<=m&&c("gkx")("15485")){h.current=a.timeStamp;return!0}o();h.current=a.timeStamp;return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[f,o]);return{onSend:o}}g["default"]=a}),98);
__d("cometLexicalBaseTheme",[],(function(a,b,c,d,e,f,g){"use strict";a={ltr:"xdpxx8g",rtl:"x1hr2gdg"};b=a;g["default"]=b}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a){i(function(){a.update(function(){var b=d("Lexical").$getRoot();if(b.isEmpty()){var c=d("Lexical").$createParagraphNode();b.append(c);b=document.activeElement;(d("Lexical").$getSelection()!==null||b!==null&&b===a.getRootElement())&&c.select()}})},[a])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b){b===void 0&&(b=!1),i(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),c=d("Lexical").$getSelection(),e=d("Lexical").$createParagraphNode();a.clear();a.append(e);c!==null&&(e.select(),b===!0&&d("Lexical").$isRangeSelection(c)&&(c.format=0))});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[b,a])}g["default"]=a}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,b("cr:11494")==null?void 0:b("cr:11494").MessengerLexicalCommandNode,d("CometLexicalEmojiNode").EmojiNode];function a(){var a=c("useStable")(function(){return d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(){},theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})});c("useMWPLexicalClearEditor")(a);c("useLexicalInitializeEditor__DEPRECATED")(a);return{editor:a}}g.useMWXLexicalEditor=a}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useLayoutEffect;function a(a,b,c){i(function(){if(b==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(b);e.clear();e.append(a);c===!0&&e.selectEnd()}})},[a])}g["default"]=a}),98);
__d("useShowNotEditableMessageToast",["fbt","IGDSErrorPanoOutlineIcon.react","PolarisToastConstants","react","react-compiler-runtime","useIGDSToaster"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=d("PolarisToastConstants").TOAST_ANIM_DURATION_S*1e3;function a(){var a=d("react-compiler-runtime").c(2),b=c("useIGDSToaster")(),e;a[0]!==b?(e=function(){b.add({icon:j.jsx(c("IGDSErrorPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Error Icon")}),message:h._(/*BTDS*/"Message not edited, sent messages can only be edited for 15 minutes"),target:"bottom-left"},{duration:k})},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),226);
__d("IGDComposerEditContainer.react",["fbt","I64","IGDChatTabsEnv","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDInstamadilloUtils","IGDSBox.react","IGDSIconButton.react","IGDSXFilledIcon.react","LexicalText","MAWEditMessageContext.react","MWXComposer.react","MessengerWebUXLogger","PolarisUA","ReQL","ReQLSuspense","getIsMessageTimeBelowEditThreshold","isStringNullOrEmpty","issueEditInstamadilloMessage","promiseDone","react","react-compiler-runtime","useMAWGetSendEditActionforOpen","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore","useServerTime","useShowNotEditableMessageToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useContext,n=b.useEffect;b.useMemo;var o=b.useState,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0},chatTabComposerHeader:{paddingBottom:"x18d9i69",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},chatTabEmojiButton:{paddingBottom:"xg8j3zb",paddingInlineStart:"x1bdp6ip",$$css:!0},chatTabInnerComposer:{borderTopColor:"x1u3ycmy",borderInlineEndColor:"xrh5wk9",borderBottomColor:"x13ec8wd",borderInlineStartColor:"x386jci",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x131ptk",borderInlineEndWidth:"x19msrzo",borderBottomWidth:"x1dmouxk",borderInlineStartWidth:"x1nsouaw",width:"xi55695",$$css:!0},chatTabInnerComposerContainer:{marginInlineStart:"xwklpps",paddingTop:"xexx8yu",$$css:!0},emojiButton:{paddingBottom:"xjkvuk6",paddingInlineEnd:"x14vy60q",paddingInlineStart:"xe2zdcy",paddingTop:"xyqdw3p",$$css:!0},innerComposer:{borderStartStartRadius:"x1ua1ujl",borderStartEndRadius:"xksyday",borderEndEndRadius:"xshg46c",borderEndStartRadius:"xlej2ay",$$css:!0},mobileInnerComposerContainer:{minHeight:"x1gg8mnh",paddingBottom:"x1120s5i",paddingInlineStart:"x1g0dm76",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(65),e=a.editMessageData,g=a.headerText,k=a.onEditCancelCallback,q=a.onEditTriggerCallback;a=a.thread;var r=k===void 0?null:k,s=q===void 0?null:q;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={eventName:"composer_edit_message"},b[0]=k):k=b[0];q=c("MessengerWebUXLogger").useImpressionLoggerRef(k);var t=c("MessengerWebUXLogger").useInteractionLogger();k=m(d("MAWEditMessageContext.react").Context);var u=k.setEditMessageData;k=d("useMWXLexicalEditor").useMWXLexicalEditor();var v=k.editor;k=d("IGDChatTabsEnv").useIsChatTabsDisplay();var w=(i||(i=c("useReStore")))(),x;b[1]!==w.tables.messages||b[2]!==e.messageId||b[3]!==e.threadKey||b[4]!==e.timestampMs?(x=function(){return d("ReQL").fromTableAscending(w.tables.messages).getKeyRange(e==null?void 0:e.threadKey,e==null?void 0:e.timestampMs,e==null?void 0:e.messageId)},b[1]=w.tables.messages,b[2]=e.messageId,b[3]=e.threadKey,b[4]=e.timestampMs,b[5]=x):x=b[5];var y=e==null?void 0:e.messageId,z=e==null?void 0:e.threadKey,A=e==null?void 0:e.timestampMs,B;b[6]!==w||b[7]!==y||b[8]!==z||b[9]!==A?(B=[w,y,z,A],b[6]=w,b[7]=y,b[8]=z,b[9]=A,b[10]=B):B=b[10];var C=d("ReQLSuspense").useFirst(x,B,f.id+":110");C==null||C.text;z=(y=C==null?void 0:C.text)!=null?y:"";b[11]!==z?(A=z.trim(),b[11]=z,b[12]=A):A=b[12];x=A;var D=x,E=c("useMAWGetSendEditActionforOpen")();B=c("useServerTime")();b[13]!==e.timestampMs||b[14]!==B?(y=d("getIsMessageTimeBelowEditThreshold").getIsMessageTimeBelowEditThreshold((j||(j=d("I64"))).of_float(B.getTime()),e.timestampMs),b[13]=e.timestampMs,b[14]=B,b[15]=y):y=b[15];var F=y,G=function(){if(!F){H();return!1}else{var a=v.getEditorState().read(d("LexicalText").$rootTextContent).trim();if(c("isStringNullOrEmpty")(a)||a===D)return!1;if(d("IGDInstamadilloUtils").isInstamadilloMessage(C)){var b={messageId:e.messageId,text:a,threadKey:e.threadKey};c("promiseDone")(c("issueEditInstamadilloMessage")(b))}else E(e.messageId,a);u(null);s&&s();t==null||t({eventName:"edit_message"});return!0}},H=c("useShowNotEditableMessageToast")();b[16]!==t||b[17]!==r||b[18]!==u?(z=function(){u(null),t==null||t({eventName:"edit_message_cancel"}),r&&r()},b[16]=t,b[17]=r,b[18]=u,b[19]=z):z=b[19];A=z;b[20]!==v||b[21]!==G?(x={clearReplyState:null,editor:v,onSend:G},b[20]=v,b[21]=G,b[22]=x):x=b[22];c("useMWXComposerClearAndSendOnEnter")(x);B=o(!1);y=B[0];var I=B[1];b[23]!==v||b[24]!==D?(z=function(){return v.registerTextContentListener(function(a){a=a.trim();I(!c("isStringNullOrEmpty")(a)&&a!==D)})},x=[v,D],b[23]=v,b[24]=D,b[25]=z,b[26]=x):(z=b[25],x=b[26]);n(z,x);c("usePrepopulateLexicalEditor")(v,D,!0);B=a.threadKey;b[27]!==g?(z=g!=null?g:h._(/*BTDS*/"Editing message"),b[27]=g,b[28]=z):z=b[28];x=k?"secondary":"primary";b[29]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cancel edit"),b[29]=a):a=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("IGDSXFilledIcon.react"),{alt:h._(/*BTDS*/"Cancel edit"),color:"ig-primary-text",size:15}),b[30]=g):g=b[30];b[31]!==A?(a=l.jsx(c("IGDSIconButton.react"),{label:a,onClick:A,xstyle:p.cancelButton,children:g}),b[31]=A,b[32]=a):a=b[32];g=k&&p.chatTabComposerHeader;b[33]!==z||b[34]!==x||b[35]!==a||b[36]!==g?(A=l.jsx(d("MWXComposer.react").Header,{bodyText:z,bodyTextColor:x,"data-testid":void 0,hasTopBorder:!0,rightAddon:a,xstyle:g},0),b[33]=z,b[34]=x,b[35]=a,b[36]=g,b[37]=A):A=b[37];z=k&&p.chatTabInnerComposerContainer;x=k&&p.chatTabInnerComposer;b[38]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("PolarisUA").isMobile()&&p.mobileInnerComposerContainer,b[38]=a):a=b[38];b[39]!==x?(g=[p.innerComposer,x,a],b[39]=x,b[40]=g):g=b[40];b[41]!==v||b[42]!==k||b[43]!==B?(a=d("PolarisUA").isMobile()?null:l.jsx(c("IGDSBox.react"),{xstyle:[p.emojiButton,k&&p.chatTabEmojiButton],children:l.jsx(c("IGDComposerEmojiButton.react"),{editor:v,threadKey:B})}),b[41]=v,b[42]=k,b[43]=B,b[44]=a):a=b[44];b[45]===Symbol["for"]("react.memo_cache_sentinel")?(x=l.jsx(d("MWXComposer.react").TextEditor,{contentEditableProps:{ariaLabel:h._(/*BTDS*/"Editing message")},testid:void 0}),b[45]=x):x=b[45];k=!y;b[46]!==G?(B=function(){G()},b[46]=G,b[47]=B):B=b[47];b[48]!==k||b[49]!==B?(y=l.jsx(c("IGDSBox.react"),{children:l.jsx(c("IGDComposerIconSendButton.react"),{isDisabled:k,isEdit:!0,onClick:B,testid:void 0})}),b[48]=k,b[49]=B,b[50]=y):y=b[50];b[51]!==g||b[52]!==a||b[53]!==y?(k=l.jsxs(d("MWXComposer.react").InputArea,{xstyle:g,children:[a,x,y]}),b[51]=g,b[52]=a,b[53]=y,b[54]=k):k=b[54];b[55]!==z||b[56]!==k?(B=l.jsx(d("MWXComposer.react").Row,{children:l.jsx(c("IGDSBox.react"),{paddingX:1,paddingY:1,width:"100%",xstyle:z,children:k})}),b[55]=z,b[56]=k,b[57]=B):B=b[57];b[58]!==v||b[59]!==A||b[60]!==B?(x=l.jsx(d("MWXComposer.react").Composer,{editor:v,header:A,children:B}),b[58]=v,b[59]=A,b[60]=B,b[61]=x):x=b[61];b[62]!==q||b[63]!==x?(g=l.jsx(c("IGDSBox.react"),{containerRef:q,children:x}),b[62]=q,b[63]=x,b[64]=g):g=b[64];return g}g["default"]=a}),226);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MWChatStrikethroughText.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){a=a.children;return i.jsx("s",{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(a,b,c,d,e,f){a=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});f["default"]=a}),66);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){a=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"},singleInlineHeaderConfig:{pattern:"(^# ?)(.*?$)",nonCapturingPattern:"^# ?(.*?$)"},linkConfig:{pattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)",nonCapturingPattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)"},bulletedList:{pattern:"(^[-*+])\\s+(.*)",nonCapturingPattern:"(^[-*+])\\s+(.*)"},numberedList:{pattern:"(^(\\d)+\\.)\\s+(.*)",nonCapturingPattern:"(^\\d+\\.)\\s+(.*)"}});f["default"]=a}),66);
__d("MWChatTextFormattingUtils",["$InternalEnum","FBLogger","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough","Link","BulletedList","NumberedList","InlineHeader"]),j=new Set(Object.values(c("MessageMarkdownCodeblockLanguages"))),k=[i.CodeBlock,i.BlockQuote,i.InlineQuote,i.InlineCode,i.Bold,i.Italics,i.StrikeThrough];function l(a){var b,d=function(a){return a[2]},e=function(a){return new Map()},f=1,g=!0,h=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;g=!1;break;case i.InlineQuote:h=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;g=!1;break;case i.InlineHeader:h=function(a){return a.trim()!=="#"};b=c("MessengerFormattingConfig").singleInlineHeaderConfig.pattern;g=!1;break;case i.CodeBlock:d=function(a){var b,c;b=((b=a[3])!=null?b:"").trim().toLowerCase();c=(c=a[4])!=null?c:a[5];a=(a=a[2])!=null?a:"";return b===""||j.has(b)?c:a+c};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;g=!1;break;case i.Link:d=function(a){return a[1]};e=function(a){return new Map([["link",a[2]]])};b=c("MessengerFormattingConfig").linkConfig.pattern;g=!1;break;case i.BulletedList:b=c("MessengerFormattingConfig").bulletedList.pattern;g=!1;break;case i.NumberedList:b=c("MessengerFormattingConfig").numberedList.pattern;g=!1;d=function(a){return a[3]};e=function(a){return new Map([["index",a[2]]])};break}if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("No formatting config found for given format");return{getCleanText:d,getExtraData:e,hasClosingTag:g,regExp:new RegExp(b,"gm"),tagIndex:f,validator:h}}function a(a,b,e,f){b===void 0&&(b=!1);e===void 0&&(e=!1);f===void 0&&(f=!1);var g=[],j=k;b&&(j=j.concat(i.Link));e&&(j=j.concat([i.BulletedList,i.NumberedList]));f&&(j=j.concat(i.InlineHeader));j.forEach(function(b){var e=l(b),f=e.getCleanText,i=e.getExtraData,j=e.hasClosingTag,k=e.regExp,m=e.tagIndex;e=e.validator;var n;if(!e(a))return;e=function(){if(n==null)return 0;var e=(h||(h=d("UnicodeUtils"))).substr(a,0,n.index);e=e.length-h.strlen(e);var k=n.index-e,l=h.strlen(n[0]);j&&(k+=n[m].length,l-=n[m].length);e=function(a){var b=k+l,c=a.offset+a.length;return b>a.offset&&k<c};var o=f(n),p=i(n);if(!g.find(e)){if(g.length>0){e=g[g.length-1];if(e.entity.format===b&&e.offset+e.length+1===k){e.entity.text+="\n"+o;e.length+=l+1;return 1}}e=c("justknobx")._("3420");e=e&&((e=(e=p.get("link"))==null?void 0:e.includes("from_ads_ai=1"))!=null?e:!1);g.push({entity:{__typename:e?"AdsAILinkFormatting":"MessengerTextFormatting",extraData:p,format:b,text:o},length:l,offset:k})}};var o;while((n=k.exec(a))!=null){o=e();if(o===0)break;if(o===1)continue}});return g}g.MessengerTextFormattingEntity=i;g.getFormattingRanges=a}),98);
__d("MWXLink.react",["E2EEMessagingLinkContext.react","cr:269","cr:820","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","encryptedLink"],i,j=i||d("react");function a(a){var c=a.ref,e=a.encryptedLink;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var f=d("E2EEMessagingLinkContext.react").useE2EEMessagingLink();f=f.isSecure;f=f||e===!0?{disableLinkShimAndTracking_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,disableLinkShimForFollowLinkButton_DO_NOT_USE_OR_SEE_YOU_AT_THE_PRIVACY_SEV:!0,rel:["noreferrer","noopener","nofollow"]}:{};if(b("cr:269"))return j.jsx(b("cr:269"),babelHelpers["extends"]({},a,f,{ref:c}));return b("cr:820")?j.jsx(b("cr:820"),babelHelpers["extends"]({},a,f,{ref:c})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBlockQuote.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},fullLine:{bottom:"x19ip775",top:"xnfr1j",$$css:!0},line:{borderStartStartRadius:"xqbdsaf",borderStartEndRadius:"xpf24wh",borderEndEndRadius:"x14a4ghu",borderEndStartRadius:"x1a4jp9x",bottom:"xbfrwjf",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0}};function a(a){var b=a.children,c=a.fullLine;c=c===void 0?!1:c;var e=a.outgoing;e=e===void 0?!0:e;a=a.xstyle;return i.jsxs(d("react-strict-dom").html.blockquote,{style:[j.forwarded,a],children:[i.jsx(d("react-strict-dom").html.div,{style:[j.line,c?j.fullLine:void 0,e?j.lineOutgoingColor:j.lineIncomingColor]}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatTextFormatting",["MWChatStrikethroughText.react","MWChatTextFormattingUtils","MWXLink.react","MWXMessageBlockQuote.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={codeBlock:{backgroundColor:"xmjcpbm",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function k(a,b){switch(b.format){case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Bold:return i.jsx(d("react-strict-dom").html.b,{children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Italics:return i.jsx(d("react-strict-dom").html.i,{children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.StrikeThrough:return i.jsx(c("MWChatStrikethroughText.react"),{children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.CodeBlock:return i.jsx(d("react-strict-dom").html.div,{style:j.codeBlock,children:i.jsx(c("MWXText.react"),{type:"body4",children:i.jsx(d("react-strict-dom").html.code,{children:b.text})})});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineCode:return i.jsx(d("react-strict-dom").html.code,{style:j.codeInline,children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return i.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!0,children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineHeader:return i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:"headlineEmphasized3",children:b.text});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Link:return i.jsx(c("MWXLink.react"),{href:b.extraData.get("link"),rel:"external",target:"_blank",children:i.jsx("u",{children:b.text})});case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BulletedList:return i.jsx("ul",babelHelpers["extends"]({className:"x1rg5ohu xtaz4m5 xdj266r x14z9mp xat24cr x1lziwak x1nhbasn"},{children:b.text.split("\n").map(function(a,b){return i.jsx("li",{children:a},b)})}));case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.NumberedList:return i.jsx("ol",babelHelpers["extends"]({className:"x1rg5ohu x3yw8vx xdj266r x14z9mp xat24cr x1lziwak x1nhbasn"},{start:b.extraData.get("index"),children:b.text.split("\n").map(function(a,b){return i.jsx("li",{children:a},b)})}))}}k.displayName=k.name+" [from "+f.id+"]";function a(a,b){switch(b.format){case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case d("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return i.jsx(c("MWXMessageBlockQuote.react"),{outgoing:!1,children:b.text});default:return k(a,b)}}a.displayName=a.name+" [from "+f.id+"]";g.messageRenderer=k;g.messageIncomingRenderer=a}),98);
__d("MWXMessageTextWithEntities.react",["cr:5671","cr:5867","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["seeLessLinkProps","seeMoreLinkProps"],i=["color_DEPRECATED"],j=["color_DEPRECATED"],k,l=k||d("react");function a(a){if(b("cr:5671")!=null)return l.jsx(b("cr:5671"),babelHelpers["extends"]({},a));if(b("cr:5867")!=null){var c=a.seeLessLinkProps,d=a.seeMoreLinkProps;a=babelHelpers.objectWithoutPropertiesLoose(a,h);c=c!=null?c:{};var e=c.color_DEPRECATED;c=babelHelpers.objectWithoutPropertiesLoose(c,i);d=d!=null?d:{};var f=d.color_DEPRECATED;d=babelHelpers.objectWithoutPropertiesLoose(d,j);return l.jsx(b("cr:5867"),babelHelpers["extends"]({seeLessLinkProps:babelHelpers["extends"]({color_DEPRECATED:e==="primary"?"primary":void 0},c),seeMoreLinkProps:babelHelpers["extends"]({color_DEPRECATED:f==="primary"?"primary":void 0},d)},a))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useMemo;function a(a){var e=a.isBumpMessage;e=e===void 0?!1:e;var f=a.isHotLike;f=f===void 0?!1:f;var g=a.mentionIds,i=a.ranges,l=a.text,m=a.threadKey;a=a.transformEmoticons;a=a===void 0?!0:a;var n=k(function(){var a;return new Set((a=g==null||g.split==null?void 0:g.split(","))!=null?a:[])},[g]);l=b("cr:2472")==null?l:b("cr:2472").unvault(l);n=(n=(n=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(l,[],n,m))==null?void 0:n.textWithSubstitutions)!=null?n:l;m=(m=d("useStringWithSubstitutions").useStringWithSubstitutions(l,m))!=null?m:l;l=h._(/*BTDS*/"Sticker").toString();f=f?l:e?m:n;return j.jsx("div",babelHelpers["extends"]({className:"xi81zsa"},{dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:i,renderers:{MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},text:f,transforms:a?d("MWChatTextTransform").textTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","IGDSIconButton.react","IGDSText.react","IGDSXFilledIcon.react","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MDSTextPairing.react","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MessagingAttachmentType","ReQL","ReQLSuspense","getFBTSafeGenderFromGenderConst","isStringNullOrEmpty","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));b=j;var n=b.useContext,o=b.useEffect,p={cancelButton:{paddingTop:"xexx8yu",$$css:!0}};function q(a,b,e){var f=a.isUnsent;a=a.text;b=b||{};b=b.attachmentType;var g=!c("isStringNullOrEmpty")(a);if(f)return h._(/*BTDS*/"Removed message");if(g)return m.jsx(c("MWChatReplyText.react"),{isHotLike:e,mentionIds:null,text:a!=null?a:h._(/*BTDS*/"Message").toString(),transformEmoticons:!1});if(b)if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._(/*BTDS*/"Image");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._(/*BTDS*/"Sticker");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"Video");else if((k||(k=d("I64"))).equal(b,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h._(/*BTDS*/"GIF");else return h._(/*BTDS*/"Attachment");else return h._(/*BTDS*/"Message")}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){if(b)return h._(/*BTDS*/"Replying to yourself");if(!a)return h._(/*BTDS*/"Replying to {Placeholder for an unknown user on Instagram}",[h._param("Placeholder for an unknown user on Instagram","Instagram User")]);else{return h._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[h._param("name",m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:(b=a.firstName)!=null?b:a.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(a.gender))])])}}function s(a){var b=d("react-compiler-runtime").c(34),e=a.isArmadilloSecureThread;a=a.message;var g=(i||(i=c("useReStore")))(),h=d("MWPActor.react").useActor(),j=a.hotEmojiSize,n=a.messageId,p=a.senderId,s=a.text,u=a.threadKey;h=(k||(k=d("I64"))).equal(p,h);var v;b[0]!==g.tables.contacts||b[1]!==p?(v=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(p)},b[0]=g.tables.contacts,b[1]=p,b[2]=v):v=b[2];var w;b[3]!==g||b[4]!==p?(w=[g,p],b[3]=g,b[4]=p,b[5]=w):w=b[5];v=d("ReQLSuspense").useFirst(v,w,f.id+":206");b[6]!==g.tables.attachments||b[7]!==n||b[8]!==u?(w=function(){return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(u,n)},b[6]=g.tables.attachments,b[7]=n,b[8]=u,b[9]=w):w=b[9];var x;b[10]!==g||b[11]!==n||b[12]!==u?(x=[g,n,u],b[10]=g,b[11]=n,b[12]=u,b[13]=x):x=b[13];w=d("ReQLSuspense").useFirst(w,x,f.id+":211");b[14]===Symbol["for"]("react.memo_cache_sentinel")?(x=[],b[14]=x):x=b[14];o(t,x);b[15]!==j||b[16]!==e||b[17]!==s?(x=j!=null?s!=null&&s==="\ud83d\udc4d"&&((k||(k=d("I64"))).equal(j,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(k||(k=d("I64"))).equal(j,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(k||(k=d("I64"))).equal(j,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&e:!1,b[15]=j,b[16]=e,b[17]=s,b[18]=x):x=b[18];j=x;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1sa5p1d"},b[19]=e):e=b[19];s=c("MDSTextPairing.react");x=c("IGDSText.react");var y="body";v=r(v,h);b[20]!==x||b[21]!==v?(h=m.jsxs(x,{size:y,children:[v," "]}),b[20]=x,b[21]=v,b[22]=h):h=b[22];b[23]!==w||b[24]!==j||b[25]!==a?(y=q(a,w,j),b[23]=w,b[24]=j,b[25]=a,b[26]=y):y=b[26];b[27]!==s||b[28]!==h||b[29]!==y?(x=m.jsx(s,{body:h,level:3,meta:y}),b[27]=s,b[28]=h,b[29]=y,b[30]=x):x=b[30];b[31]!==x||b[32]!==e?(v=m.jsx("div",babelHelpers["extends"]({},e,{children:x})),b[31]=x,b[32]=e,b[33]=v):v=b[33];return v}function t(){c("LsReplyRenderedFalcoEvent").log(u)}function u(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}}function v(a){var b=d("react-compiler-runtime").c(15),e=a.isArmadilloSecureThread;a=a.message;var f=a.threadKey,g=n(d("MWPReplyContext.react").MWPReplyContext),i=g.clearReply,j=n(c("CometTriggerAccessibilityAlertContext"));b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1cy8zhl xvbhtw8 x5ur3kl x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},b[0]=g):g=b[0];var k;b[1]!==e||b[2]!==a?(k=m.jsx(c("CometErrorBoundary.react"),{fallback:w,children:m.jsx(s,{isArmadilloSecureThread:e,message:a})}),b[1]=e,b[2]=a,b[3]=k):k=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Cancel reply"),b[4]=e):e=b[4];b[5]!==i||b[6]!==f||b[7]!==j?(a=function(){i(f,!0),j(h._(/*BTDS*/"Replying to message has been canceled."),{assertive:!1})},b[5]=i,b[6]=f,b[7]=j,b[8]=a):a=b[8];var l;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(c("IGDSXFilledIcon.react"),{alt:h._(/*BTDS*/"Cancel reply"),color:"ig-primary-text",size:12}),b[9]=l):l=b[9];b[10]!==a?(e=m.jsx(c("IGDSIconButton.react"),{label:e,onClick:a,xstyle:p.cancelButton,children:l}),b[10]=a,b[11]=e):e=b[11];b[12]!==k||b[13]!==e?(l=m.jsxs("div",babelHelpers["extends"]({},g,{"data-testid":void 0,children:[k,e]})),b[12]=k,b[13]=e,b[14]=l):l=b[14];return l}function w(){return m.jsx(c("IGDSText.react"),{size:"body",children:h._(/*BTDS*/"Replying to message")})}w.displayName=w.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(15),e=a.messageId,g=a.messageTimestamp;a=a.thread;var h=(i||(i=c("useReStore")))(),j=a.threadKey;a=a.threadType;var k;b[0]!==a?(k=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),b[0]=a,b[1]=k):k=b[1];a=k;b[2]!==h.tables.messages||b[3]!==e||b[4]!==g||b[5]!==j?(k=function(){return d("ReQL").fromTableAscending(h.tables.messages).getKeyRange(j,g,e)},b[2]=h.tables.messages,b[3]=e,b[4]=g,b[5]=j,b[6]=k):k=b[6];var l;b[7]!==h||b[8]!==e||b[9]!==g||b[10]!==j?(l=[h,j,e,g],b[7]=h,b[8]=e,b[9]=g,b[10]=j,b[11]=l):l=b[11];k=d("ReQLSuspense").useFirst(k,l,f.id+":325");b[12]!==a||b[13]!==k?(l=k?m.jsx(v,{isArmadilloSecureThread:a,message:k}):null,b[12]=a,b[13]=k,b[14]=l):l=b[14];return l}g["default"]=a}),226);
__d("IGDComposerAttachmentButton.react",["fbt","BaseFileSelector.react","IGDSIconButton.react","IGDSPhotoOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));j.useCallback;var l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDComposerAttachmentButton.react");function m(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(b){b=Array.from(b);if(b.length>0)return a(b)},b[0]=a,b[1]=c):c=b[1];return c}function a(a){var b=d("react-compiler-runtime").c(20),e=a.multiple,g=a.onAttachmentsAdded,j=a.supportedFileTypes,n=a.threadKey;a=e===void 0?!0:e;var o=(i||(i=c("useReStore")))(),p=d("MWPActor.react").useActor();e=m(g);b[0]!==o.tables.threads||b[1]!==n?(g=function(){return d("ReQL").fromTableAscending(o.tables.threads).getKeyRange(n)},b[0]=o.tables.threads,b[1]=n,b[2]=g):g=b[2];var q;b[3]!==o||b[4]!==n?(q=[o,n],b[3]=o,b[4]=n,b[5]=q):q=b[5];g=d("ReQLSuspense").useFirst(g,q,f.id+":60");var r=c("MessengerWebUXLogger").useInteractionLogger(),s=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[6]!==g?(q=c("getInstamadilloLoggingExtraData")(g),b[6]=g,b[7]=q):q=b[7];var t=q;b[8]!==p||b[9]!==o||b[10]!==s||b[11]!==t||b[12]!==r||b[13]!==n?(g=function(a){return k.jsx(c("IGDSIconButton.react"),{onClick:function(){r==null||r({eventName:"composer_open_file_picker",extraData:babelHelpers["extends"]({},t),flowInstanceId:s}),a(),l.onReady(function(a){return c("promiseDone")(a.log(o,void 0,n,"composer","attach",void 0,void 0,void 0,void 0,"image",p))})},children:k.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:h._(/*BTDS*/"Add Photo or Video"),color:"ig-primary-text"})})},b[8]=p,b[9]=o,b[10]=s,b[11]=t,b[12]=r,b[13]=n,b[14]=g):g=b[14];b[15]!==a||b[16]!==e||b[17]!==j||b[18]!==g?(q=k.jsx(c("BaseFileSelector.react"),{accept:j,multiple:a,onFilesSelected:e,children:g}),b[15]=a,b[16]=e,b[17]=j,b[18]=g,b[19]=q):q=b[19];return q}g["default"]=a}),226);
__d("IGDSMediaOutlineIcon.react",["IGDSMediaPanoOutlineIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("IGDSMediaPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDComposerMediaStaging.react",["fbt","BaseFileSelector.react","CometImage.react","FDSImageCover.react","I64","IGDSIconButton.react","IGDSMediaOutlineIcon.react","IGDSPhotoOutlineIcon.react","IGDSText.react","IGDSTooltip.react","IGDSXPanoFilledIcon.react","LSIntEnum","MWMediaComposerRenderQpl","MWMediaManager","MessagingAttachmentType","react","react-compiler-runtime","useCurrentDisplayMode","useIGDMediaMangerUploadFailedToast"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;b.useCallback;var m=b.useEffect,n=b.useState,o={stackingUploadButton:{height:"x1peatla",width:"x1fu8urw",$$css:!0},uploadButton:{backgroundColor:"x1a4onnt",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"xnxb3zj",position:"x1n2onr6",width:"xo5x3gg",$$css:!0}},p=h._(/*BTDS*/"Remove attachment"),q=h._(/*BTDS*/"Upload another photo\/video"),r=h._(/*BTDS*/"Image cover for attached media"),s=h._(/*BTDS*/"File Icon for non photo\/video file");function t(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(b){b=Array.from(b);b.length>0&&a(b)},b[0]=a,b[1]=c):c=b[1];return c}function u(a){var b=d("react-compiler-runtime").c(16),e=a.isStacking,f=a.multiple,g=a.onAttachmentsAdded;a=a.supportedFileTypes;f=f===void 0?!0:f;g=t(g);var h=n(!1),i=h[0],j=h[1];h=c("useCurrentDisplayMode")()==="dark";var k;b[0]!==e?(k={0:{className:"x6s0dn4 x78zum5 xnxb3zj xl56j7k xr9ek0c x1sa5p1d xzueoph x7phf20 xo5x3gg"},1:{className:"x6s0dn4 x78zum5 xl56j7k x4465f1 x2x2exm x1gslohp x2fvf9 xat24cr x1lziwak x1wfjk5t"}}[!!(e===!0)<<0],b[0]=e,b[1]=k):k=b[1];h=h?"primary":"black";var m;b[2]!==e?(m=function(a){return l.jsx(c("IGDSIconButton.react"),{label:q,onClick:a,onHoverEnd:function(){return j(!1)},onHoverStart:function(){return j(!0)},xstyle:[o.uploadButton,e===!0&&o.stackingUploadButton],children:l.jsx(c("IGDSPhotoOutlineIcon.react"),{alt:q,color:"ig-primary-text"})})},b[2]=e,b[3]=m):m=b[3];var p;b[4]!==f||b[5]!==g||b[6]!==a||b[7]!==m?(p=l.jsx(c("BaseFileSelector.react"),{accept:a,multiple:f,onFilesSelected:g,children:m}),b[4]=f,b[5]=g,b[6]=a,b[7]=m,b[8]=p):p=b[8];b[9]!==h||b[10]!==p||b[11]!==i?(f=l.jsx(c("IGDSTooltip.react"),{align:"middle",color:h,isVisible:i,position:"above",tooltip:q,children:p}),b[9]=h,b[10]=p,b[11]=i,b[12]=f):f=b[12];b[13]!==k||b[14]!==f?(g=l.jsx("div",babelHelpers["extends"]({},k,{children:f})),b[13]=k,b[14]=f,b[15]=g):g=b[15];return g}function v(a){var b=d("react-compiler-runtime").c(17),e=a.isStacking,f=a.mediaStagingItem;a=a.onPress;var g=c("useCurrentDisplayMode")()==="dark",i=n(!1),j=i[0],k=i[1];b[0]!==e?(i={0:{className:"x1euzuty x10l6tqk xtu2xtp"},1:{className:"x10l6tqk xtijo5x x13vifvy"}}[!!(e===!0)<<0],b[0]=e,b[1]=i):i=b[1];e=g?"primary":"black";b[2]!==f.filename?(g=h._(/*BTDS*/"Remove attachment: {file-name}",[h._param("file-name",f.filename)]),b[2]=f.filename,b[3]=g):g=b[3];var m;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){return k(!1)},m=function(){return k(!0)},b[4]=f,b[5]=m):(f=b[4],m=b[5]);var o;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 xnz67gz x6zrd4h x1f58dfg x903dn5 xis42z1 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 x1qx5ct2 xl56j7k xw4jnvo x9ro6w8"},{children:l.jsx(c("IGDSXPanoFilledIcon.react"),{alt:p,size:9})})),b[6]=o):o=b[6];b[7]!==a||b[8]!==g?(f=l.jsx(c("IGDSIconButton.react"),{label:g,onClick:a,onHoverEnd:f,onHoverStart:m,padding:0,children:o}),b[7]=a,b[8]=g,b[9]=f):f=b[9];b[10]!==e||b[11]!==f||b[12]!==j?(m=l.jsx(c("IGDSTooltip.react"),{align:"middle",color:e,isVisible:j,position:"above",tooltip:p,children:f}),b[10]=e,b[11]=f,b[12]=j,b[13]=m):m=b[13];b[14]!==i||b[15]!==m?(o=l.jsx("div",babelHelpers["extends"]({},i,{children:m})),b[14]=i,b[15]=m,b[16]=o):o=b[16];return o}var w=function(a){return a.mimeType==="image/gif"||a.mimeType==="image/webp"};function x(a){var b=d("react-compiler-runtime").c(30);a=a.mediaStagingItem;var e=a.attachmentType,f=a.previewUrl||"",g=d("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(a),h,i;b[0]!==g?(h=function(){g==null||g.addPoint("staging-item-render")},i=[g],b[0]=g,b[1]=h,b[2]=i):(h=b[1],i=b[2]);m(h,i);b[3]!==g?(h=function(a,b){g==null||g.endFail(a,b)},b[3]=g,b[4]=h):h=b[4];var n=h;b[5]!==g?(i=function(){g==null||g.endSuccess()},b[5]=g,b[6]=i):i=b[6];h=i;if(w(a)){if(f!==null){b[7]!==f?(i=l.jsx(c("FDSImageCover.react"),{alt:r,src:f}),b[7]=f,b[8]=i):i=b[8];return i}}else if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){if(f!==null){b[9]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xl1xv1r"},b[9]=i):i=b[9];var o;b[10]!==n?(o=function(a){return n("load-video-error",{string:{video_error_name:a.type}})},b[10]=n,b[11]=o):o=b[11];var p;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("track",{kind:"captions"}),b[12]=p):p=b[12];b[13]!==h||b[14]!==f||b[15]!==o?(i=l.jsx("video",babelHelpers["extends"]({},i,{height:"70",onError:o,onLoadedData:h,src:f,width:"70",children:p})),b[13]=h,b[14]=f,b[15]=o,b[16]=i):i=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("div",babelHelpers["extends"]({className:"xbudbmw x18xomjl x7wgvq7 x10l6tqk xwa60dl"},{children:l.jsx(c("CometImage.react"),{src:"/images/video/play_24dp.png"})})),b[17]=p):p=b[17];b[18]!==i?(o=l.jsxs(l.Fragment,{children:[i,p]}),b[18]=i,b[19]=o):o=b[19];return o}}else if((j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&f!==null){b[20]!==n?(p=function(){return n("load-image-error")},b[20]=n,b[21]=p):p=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(i={userSelect:"none"},b[22]=i):i=b[22];b[23]!==h||b[24]!==f||b[25]!==p?(o=l.jsx(c("FDSImageCover.react"),{alt:"",onError:p,onLoad:h,src:f,style:i}),b[23]=h,b[24]=f,b[25]=p,b[26]=o):o=b[26];return o}b[27]!==g||b[28]!==a?(e=l.jsx(z,{mediaRenderQpl:g,mediaStagingItem:a}),b[27]=g,b[28]=a,b[29]=e):e=b[29];return e}function y(a){var b=d("react-compiler-runtime").c(22),e=a.isStacking,f=a.mediaStagingItem,g=a.onAttachmentRemoved;b[0]!==f.offlineAttachmentId||b[1]!==g?(a=function(){g(f.offlineAttachmentId)},b[0]=f.offlineAttachmentId,b[1]=g,b[2]=a):a=b[2];a=a;var h=!(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))&&!(j||(j=d("I64"))).equal(f.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))&&!w(f),i;b[3]!==h||b[4]!==e?(i={0:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 xo5x3gg"},2:{className:"x1c4vz4f x2lah0s xnxb3zj xr9ek0c x1sa5p1d xzueoph x7phf20 x1n2onr6 x2pejg6"},1:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"},3:{className:"x1c4vz4f x2lah0s x1n2onr6 x4465f1 x2x2exm xr9ek0c xnnr8r xjpr12u xwklpps x1wfjk5t"}}[!!h<<1|!!(e===!0)<<0],b[3]=h,b[4]=e,b[5]=i):i=b[5];var m;b[6]!==h||b[7]!==e?(m={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 xo5x3gg"},2:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xnxb3zj x6ikm8r x10wlt62 x1n2onr6 x1ybostu x2pejg6"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1peatla x1fu8urw"},3:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x6ikm8r x10wlt62 x1n2onr6 x1ybostu x1peatla x1fu8urw"}}[!!h<<1|!!(e===!0)<<0],b[6]=h,b[7]=e,b[8]=m):m=b[8];b[9]!==f?(h=l.jsx(x,{mediaStagingItem:f}),b[9]=f,b[10]=h):h=b[10];var n;b[11]!==m||b[12]!==h?(n=l.jsx("div",babelHelpers["extends"]({},m,{children:h})),b[11]=m,b[12]=h,b[13]=n):n=b[13];b[14]!==e||b[15]!==f||b[16]!==a?(m=l.jsx(v,{isStacking:e,mediaStagingItem:f,onPress:a}),b[14]=e,b[15]=f,b[16]=a,b[17]=m):m=b[17];b[18]!==i||b[19]!==n||b[20]!==m?(h=l.jsxs("div",babelHelpers["extends"]({},i,{children:[n,m]})),b[18]=i,b[19]=n,b[20]=m,b[21]=h):h=b[21];return h}function z(a){var b=d("react-compiler-runtime").c(8),e=a.mediaRenderQpl;a=a.mediaStagingItem;var f,g;b[0]!==e?(f=function(){e==null||e.endSuccess()},g=[e],b[0]=e,b[1]=f,b[2]=g):(f=b[1],g=b[2]);m(f,g);var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},g=l.jsx(c("IGDSMediaOutlineIcon.react"),{alt:s}),h={className:"x1iyjqo2"},b[3]=f,b[4]=g,b[5]=h):(f=b[3],g=b[4],h=b[5]);b[6]!==a.filename?(f=l.jsxs("div",babelHelpers["extends"]({},f,{children:[g,l.jsx("div",babelHelpers["extends"]({},h,{children:l.jsxs(c("IGDSText.react"),{maxLines:2,weight:"light",children:[" ",a.filename," "]})}))]})),b[6]=a.filename,b[7]=f):f=b[7];return f}function a(a){var b=d("react-compiler-runtime").c(22),e=a.hideUploadPlaceholder,f=a.isStacking,g=a.multiple,h=a.supportedFileTypes;a=a.thread;e=e===void 0?!1:e;g=g===void 0?!0:g;var i=c("useIGDMediaMangerUploadFailedToast")(),j;b[0]!==i||b[1]!==a?(j={showUploadFailureToast:i,thread:a},b[0]=i,b[1]=a,b[2]=j):j=b[2];i=d("MWMediaManager").useMediaManager(j);var k=i.handleFileRemove;a=i.handleFileSelect;j=i.mediaStaging;if(j.length===0){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=l.jsx(l.Fragment,{}),b[3]=i):i=b[3];return i}else{b[4]!==f?(i={0:{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj x1g0dm76 x18d9i69 xh8yej3"},1:{className:"x6s0dn4 x9f619 x78zum5 x1nhvcw1 xw2csxc x18d9i69 x1a02dak xzueoph xoo30xy xyri2b x1c1uobl x1iorvi4 x1mk2rj3"}}[!!(f===!0)<<0],b[4]=f,b[5]=i):i=b[5];var m;b[6]!==a||b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==h?(m=e?null:l.jsx(u,{isStacking:f,multiple:g,onAttachmentsAdded:a,supportedFileTypes:h}),b[6]=a,b[7]=e,b[8]=f,b[9]=g,b[10]=h,b[11]=m):m=b[11];b[12]!==j?(a=Array.from(j),b[12]=j,b[13]=a):a=b[13];b[14]!==k||b[15]!==f||b[16]!==a?(e=a.map(function(a){return l.jsx(y,{isStacking:f,mediaStagingItem:a,onAttachmentRemoved:k},a.offlineAttachmentId)}),b[14]=k,b[15]=f,b[16]=a,b[17]=e):e=b[17];b[18]!==i||b[19]!==m||b[20]!==e?(g=l.jsxs("div",babelHelpers["extends"]({},i,{children:[m,e]})),b[18]=i,b[19]=m,b[20]=e,b[21]=g):g=b[21];return g}}g["default"]=a}),226);
__d("IGDComposerThemeConfigOverride",[],(function(a,b,c,d,e,f){"use strict";a={dark:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},light:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},type:"VARIABLES"};b=a;f["default"]=b}),66);
__d("IGDSHeartOutlineIcon.react",["IGDSHeartPanoOutlineIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=i.jsx(c("IGDSHeartPanoOutlineIcon.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDWebHeartConst",[],(function(a,b,c,d,e,f){"use strict";a=String.fromCodePoint(10084,65039);f.HEART_BUTTON_UNICODE=a}),66);
__d("IGDHeartLikeButton.react",["fbt","IGDSHeartOutlineIcon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDWebHeartConst","Int64Hooks","MWPActor.react","MessengerWebUXLogger","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("MWLogMessageAction").__setRef("IGDHeartLikeButton.react"),l=h._(/*BTDS*/"Like");function a(a){var b=d("react-compiler-runtime").c(14),e=a.onSendMessage,f=a.thread,g=c("useAsyncReStore")(),h=d("MWPActor.react").useActor(),i=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==f?(a=c("getInstamadilloLoggingExtraData")(f),b[0]=f,b[1]=a):a=b[1];var n=a,o;b[2]!==h||b[3]!==g||b[4]!==m||b[5]!==n||b[6]!==i||b[7]!==e||b[8]!==f.threadKey?(a=function(){i==null||i({eventName:"send_hot_emoji",extraData:n,flowInstanceId:m}),e(d("IGDWebHeartConst").HEART_BUTTON_UNICODE,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDHeartLikeButton"),k.onReady(function(a){return c("promiseDone")(g.then(function(b){return a.log(b,void 0,f.threadKey,"composer","reaction",void 0,void 0,void 0,void 0,"reaction",h)}))})},o=[i,n,m,e,g,f.threadKey,h],b[2]=h,b[3]=g,b[4]=m,b[5]=n,b[6]=i,b[7]=e,b[8]=f.threadKey,b[9]=a,b[10]=o):(a=b[9],o=b[10]);a=d("Int64Hooks").useCallbackInt64(a,o);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("IGDSHeartOutlineIcon.react"),{alt:l,color:"ig-primary-text","data-testid":void 0}),b[11]=o):o=b[11];b[12]!==a?(o=j.jsx(c("IGDSIconButton.react"),{onClick:a,children:o}),b[12]=a,b[13]=o):o=b[13];return o}g["default"]=a}),226);
__d("createComposerDeferredPlugin",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){function b(b){var c=k(a.getModuleIfRequireable()),d=l(c.current!=null);d[0];var e=d[1];j(function(){var b=a.onReady(function(a){c.current=a,e(!0)});b=b.remove;return b},[]);if(c.current!=null){d=c.current;return i.jsx(d,babelHelpers["extends"]({},b))}return null}return i.memo(b)}g["default"]=a}),98);
__d("IGDMentionsComposerPlugin.react",["CometPlaceholder.react","createComposerDeferredPlugin","react","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("createComposerDeferredPlugin")(c("requireDeferred")("IGDMentionsPluginForLexical.react").__setRef("IGDMentionsComposerPlugin.react"));function a(a){var b=d("react-compiler-runtime").c(4),e=a.editor,f=a.isAiBotMentionsEnabled;a=a.threadKey;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{editor:e,isAiBotMentionsEnabled:f,threadKey:a})}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("IGDSMicrophonePanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f,g,h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M19.5 10.671v.897a7.5 7.5 0 0 1-15 0v-.897",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2",x1:"12",x2:"12",y1:"19.068",y2:"22"}),g=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"8.706",x2:"15.104",y1:"22",y2:"22"}),h=i.jsx("path",{d:"M12 15.745a4 4 0 0 1-4-4V6a4 4 0 0 1 8 0v5.745a4 4 0 0 1-4 4Z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),b[0]=e,b[1]=f,b[2]=g,b[3]=h):(e=b[0],f=b[1],g=b[2],h=b[3]);b[4]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[e,f,g,h]})),b[4]=a,b[5]=e):e=b[5];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDVoiceClipButton.react",["IGDSIconButton.react","IGDSMicrophonePanoOutline24Icon.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","PolarisDirectStrings","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j={voiceClip:{paddingInlineEnd:"x1icxu4v",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.thread,f=a.voiceRecorder,g=c("MessengerWebUXLogger").useInteractionLogger(),h=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[0]!==e?(a=c("getInstamadilloLoggingExtraData")(e),b[0]=e,b[1]=a):a=b[1];var k=a;b[2]!==h||b[3]!==k?(e={eventName:"composer_audio_button_rendered",extraData:k,flowInstanceId:h},b[2]=h,b[3]=k,b[4]=e):e=b[4];a=c("MessengerWebUXLogger").useImpressionLoggerRef(e);b[5]!==h||b[6]!==k||b[7]!==g||b[8]!==f?(e=function(){navigator.mediaDevices&&c("promiseDone")(navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(a){f.start(a)})),g==null||g({eventName:"composer_record_audio",extraData:k,flowInstanceId:h})},b[5]=h,b[6]=k,b[7]=g,b[8]=f,b[9]=e):e=b[9];e=e;var l;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(l=i.jsx(c("IGDSMicrophonePanoOutline24Icon.react"),{alt:d("PolarisDirectStrings").VOICE_CLIP_RECORDER_ICON_ALT_TEXT,color:"ig-primary-text",size:24}),b[10]=l):l=b[10];b[11]!==a||b[12]!==e?(l=i.jsx(c("IGDSIconButton.react"),{innerRef:a,onClick:e,xstyle:j.voiceClip,children:l}),b[11]=a,b[12]=e,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerIconsGif=(a=b("cr:2809")).Gif;g.MWChatComposerIconsSticker=a.Sticker;g.MWChatComposerIconsPhoto=a.Photo;g.MWChatComposerIconsMoreActions=a.MoreActions;g.MWChatComposerIconsEmoji=a.Emoji}),98);
__d("MWPCometComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","LexicalPlainTextPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("MWPCometComposerInner.react"),n={editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},o=h._(/*BTDS*/"Message").toString();function a(a){var b=a.ariaDescribedBy,e=a.contentEditableRef,f=a.editor,g=a.handlePastedFiles,h=a.placeholderText,i=a.policyProduct,p=a.surface;a=a.testId;var q=c("useDeferredModuleOnReady")(m),r=d("LexicalComposerContext").createLexicalComposerContext(),s=l(function(){return[f,r]},[f,r]),t=k(function(a){a=a==null?null:a;e.current=a},[e,f]);b=j.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({ariaDescribedBy:b,ariaLabel:o},h==null?{}:{"aria-placeholder":h,placeholder:j.jsx(c("CometLexicalPlaceholder.react"),{children:h})},{contentEditableRef:t,spellCheck:!0,tabIndex:0,webDriverTestID:a,xstyle:n.editor}));return j.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6"},{children:[j.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:s,children:[j.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:i,surface:p}),j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:b}),j.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{})]}),q==null||g===void 0?null:j.jsx(q,{editor:f,handlePastedFiles:g})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25302342,"1531"),i=10*60*1e3;function a(){var a=d("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(b){c("QPLUserFlow").addAnnotations(h,b,{instanceKey:a})},addPoint:function(b,d){c("QPLUserFlow").addPoint(h,b,{data:d,instanceKey:a})},endCancel:function(b,d){c("QPLUserFlow").endCancel(h,{annotations:d,cancelReason:b,instanceKey:a})},endFail:function(b,d){c("QPLUserFlow").endFailure(h,b,{annotations:d,instanceKey:a})},endSuccess:function(b){c("QPLUserFlow").endSuccess(h,{annotations:b,instanceKey:a})},start:function(b){b=b.startInfo.isOpusRecorder;c("QPLUserFlow").start(h,{annotations:{bool:{isOpusAudioAbTestEnabled:c("gkx")("3053"),isOpusAudioEnabled:c("gkx")("3054"),isOpusRecorder:b}},cancelOnUnload:!0,instanceKey:a,timeoutInMs:i})}}}g.event=h;g.createVoiceRecordQpl=a}),98);
__d("useContactReachabilityStatus",["I64","Int64Hooks","LSContactBitOffset","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){var c=d("react-compiler-runtime").c(7),e=d("MWPActor.react").useActor(),f=k(a,b);c[0]!==e||c[1]!==f[0]||c[2]!==f.length?(a=function(){if(f.length===1){var a=f[0];a=a[1].id;return(i||(i=d("I64"))).equal(e,a)}return!1},c[0]=e,c[1]=f[0],c[2]=f.length,c[3]=a):a=c[3];c[4]!==e||c[5]!==f?(b=[e,f],c[4]=e,c[5]=f,c[6]=b):b=c[6];c=d("Int64Hooks").useMemoInt64(a,b);return c}function k(a,b){var c=d("react-compiler-runtime").c(7),e;c[0]!==a.tables.contacts||c[1]!==a.tables.participants||c[2]!==b?(e=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants,[]).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.contacts,["id","name","secondaryName","blockedByViewerStatus"].concat(d("LSContactBitOffset").contactCapabilityFields,["blockedSinceTimestampMs","contactTypeExact","contactReachabilityStatusType"])))},c[0]=a.tables.contacts,c[1]=a.tables.participants,c[2]=b,c[3]=e):e=c[3];var g;c[4]!==a||c[5]!==b?(g=[a,b],c[4]=a,c[5]=b,c[6]=g):g=c[6];c=d("ReQLSuspense").useArray(e,g,f.id+":51");return c}function l(a,b,c){var e=d("react-compiler-runtime").c(6),f=k(a,b),g=j(a,b),h=d("MWPActor.react").useActor();e[0]!==h||e[1]!==g||e[2]!==f||e[3]!==c?(a=function(){if(!d("LSMessagingThreadTypeUtil").isOneToOne(c))return;if(f.length===1){var a=f[0];if(g)return a}return f.find(function(a){a=a[1];return!(i||(i=d("I64"))).equal(a.id,h)})},b=[h,g,f,c],e[0]=h,e[1]=g,e[2]=f,e[3]=c,e[4]=a,e[5]=b):(a=e[4],b=e[5]);e=d("Int64Hooks").useMemoInt64(a,b);return e}function a(a,b){var d=(h||(h=c("useReStore")))();d=l(d,a,b);return d==null?void 0:d[1].contactReachabilityStatusType}g.useIsSelfThread=j;g.useParticipantsAndContacts=k;g.useOtherUser=l;g.useContactReachabilityStatus=a}),98);
__d("useShouldShowTextOnlyComposerForInvite",["IGDInviteModelUtils","LSMessagingThreadTypeUtil","WebDriverConfig","react-compiler-runtime","useContactReachabilityStatus"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("react-compiler-runtime").c(7);a=d("useContactReachabilityStatus").useContactReachabilityStatus(a,b);var f;e[0]!==b?(f=d("LSMessagingThreadTypeUtil").isOneToOne(b),e[0]=b,e[1]=f):f=e[1];b=f;e[2]!==a||e[3]!==b?(f=!c("WebDriverConfig").isJestE2ETestRun&&b&&(d("IGDInviteModelUtils").shouldShowTextOnlyComposer(a)||d("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(a)),e[2]=a,e[3]=b,e[4]=f):f=e[4];a=f;e[5]!==a?(b=a&&(d("IGDInviteModelUtils").shouldUseInviteModelV2()||d("IGDInviteModelUtils").shouldUseInviteModel()),e[5]=a,e[6]=b):b=e[6];return b}g["default"]=a}),98);
__d("IGDComposerView.react",["fbt","BaseTheme.react","IGDAiAgentsUtils","IGDChatTabsEnv","IGDComposerAttachmentButton.react","IGDComposerEmojiButton.react","IGDComposerIconSendButton.react","IGDComposerMediaStaging.react","IGDComposerThemeConfigOverride","IGDHeartLikeButton.react","IGDMentionsComposerPlugin.react","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","IGDVoiceClipButton.react","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPCometComposerInner.react","MWPThreadCapabilitiesContext","MWVoiceRecordQpl","MessengerWebUXLogger","PolarisUA","Promise","cr:1273","cr:21207","cr:9367","deferredLoadComponent","emptyFunction","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","requireDeferred","useCurrentDisplayMode","useShouldShowTextOnlyComposerForInvite"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));j.useCallback;var l=c("deferredLoadComponent")(c("requireDeferred")("IGDAudioRecorder.react").__setRef("IGDComposerView.react")),m={chatTabComposerInnerContainer:{width:"xc5o50y",$$css:!0},composerInnerContainer:{paddingBottom:"xs9asl8",$$css:!0},mobileComposerInnerContainer:{paddingBottom:"xwib8y2",$$css:!0},sendTextButton:{alignSelf:"x7fd4wk",marginBottom:"x1sfzahb",marginInlineEnd:"xnnr8r",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(16),e=a.hidden,f=a.onClick;a=a.thread;var g=c("MessengerWebUXLogger").useInteractionLogger(),i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),j;b[0]!==a?(j=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=j):j=b[1];var l=j;b[2]!==i||b[3]!==l?(a={eventName:"composer_send_button_rendered",extraData:l,flowInstanceId:i},b[2]=i,b[3]=l,b[4]=a):a=b[4];j=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[5]!==i||b[6]!==l||b[7]!==g||b[8]!==f?(a=function(){f(),g==null||g({eventName:"send_message",extraData:l,flowInstanceId:i})},b[5]=i,b[6]=l,b[7]=g,b[8]=f,b[9]=a):a=b[9];a=a;var n=d("IGDChatTabsEnv").useIsChatTabsDisplay(),o;b[10]!==e||b[11]!==n||b[12]!==j||b[13]!==f||b[14]!==a?(o=n?k.jsx(c("IGDComposerIconSendButton.react"),{hidden:e,isDisabled:e===!0,onClick:f,testid:void 0}):k.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",hidden:e,label:h._(/*BTDS*/"Send"),onClick:a,ref:j,variant:"primary_link",xstyle:m.sendTextButton}),b[10]=e,b[11]=n,b[12]=j,b[13]=f,b[14]=a,b[15]=o):o=b[15];return o}function a(a){var e=d("react-compiler-runtime").c(91),f=a.attachmentsSupported,g=a.editor,j=a.editorElementRef,o=a.hasStuffToSend,p=a.hideUploadPlaceholder,q=a.multiple,r=a.onAttachmentsAdded,s=a.onSendMessage,t=a.policyProduct,u=a.sendMessage,v=a.supportedFileTypes,w=a.surface,x=a.thread;p=p===void 0?!1:p;q=q===void 0?!0:q;a=(a=a.emojisSupported)!=null?a:!0;var y=x.threadKey,z=x.threadSubtype,A=x.threadType,B;e[0]!==z?(B=d("IGDAiAgentsUtils").isAiThread(z),e[0]=z,e[1]=B):B=e[1];z=B;B=d("IGDChatTabsEnv").useIsChatTabsDisplay();var C=B,D=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();D=D.hasLSThreadBitOffset;var E;e[2]!==D?(E=D(56),e[2]=D,e[3]=E):E=e[3];E=E;var F;e[4]!==D?(F=D(36),e[4]=D,e[5]=F):F=e[5];F=F;var G;e[6]!==D?(G=D(109),e[6]=D,e[7]=G):G=e[7];G=G;var H;e[8]!==D?(H=D(43),e[8]=D,e[9]=H):H=e[9];H=H;var I;e[10]!==x.threadType?(I=d("LSMessagingThreadTypeUtil").isGroup(x.threadType),e[10]=x.threadType,e[11]=I):I=e[11];I=I;var J;e[12]!==D?(J=D(14)&&!d("PolarisUA").isMobile(),e[12]=D,e[13]=J):J=e[13];J=J;var K;e[14]!==f||e[15]!==D?(K=D(2)&&f===!0,e[14]=f,e[15]=D,e[16]=K):K=e[16];K=K;var L;e[17]!==f||e[18]!==D?(L=D(4)&&D(3)&&f===!0,e[17]=f,e[18]=D,e[19]=L):L=e[19];f=L;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(D={createVoiceRecordQpl:d("MWVoiceRecordQpl").createVoiceRecordQpl,maxDuration:void 0},e[20]=D):D=e[20];var M=b("cr:9367").useVoiceRecorder(D);L=M.state.stage!=="Unopen";e[21]!==s||e[22]!==M?(D=function(){return c("promiseDone")(M.getVoiceClip().then(function(a){M.reset();s(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"IGDComposerView.onSendVoiceClip");return(i||(i=b("Promise"))).resolve()}))},e[21]=s,e[22]=M,e[23]=D):D=e[23];D=D;var N=c("useCurrentDisplayMode")();N=N==="dark"?"var(--always-white)":"var(--chat-composer-button-color)";N=N;var O;e[24]!==u?(O=function(){return u()},e[24]=u,e[25]=O):O=e[25];O=O;A=c("useShouldShowTextOnlyComposerForInvite")(y,A);var P;e[26]!==C?(P={0:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq"},1:{className:"x1qjc9v5 x1yvgwvq xjd31um x1ixjvfu xwt6s21 x1ua1ujl xksyday xshg46c xlej2ay x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x78zum5 xdt5ytf xw7yly9 x1ys307a x1yztbdb xyqm7xq x25sj25"}}[!!C<<0],e[26]=C,e[27]=P):P=e[27];var Q;e[28]!==p||e[29]!==C||e[30]!==q||e[31]!==v||e[32]!==x?(Q=k.jsx(c("IGDComposerMediaStaging.react"),{hideUploadPlaceholder:p,isStacking:C,multiple:q,supportedFileTypes:v,thread:x}),e[28]=p,e[29]=C,e[30]=q,e[31]=v,e[32]=x,e[33]=Q):Q=e[33];e[34]!==g||e[35]!==I||e[36]!==H||e[37]!==y?(p=H&&I?k.jsx(c("IGDMentionsComposerPlugin.react"),{editor:g,threadKey:y}):null,e[34]=g,e[35]=I,e[36]=H,e[37]=y,e[38]=p):p=e[38];e[39]!==o||e[40]!==B||e[41]!==L?(C={0:{className:"x6s0dn4 x78zum5 x1gg8mnh xv54qhq x1iwz3mf"},1:{className:"x6s0dn4 x78zum5 x1gg8mnh x1iwz3mf x11lfxj5"}}[!!((o||L)&&B)<<0],e[39]=o,e[40]=B,e[41]=L,e[42]=C):C=e[42];e[43]!==g||e[44]!==a||e[45]!==L||e[46]!==y?(I=a&&!L?k.jsx("div",babelHelpers["extends"]({className:"xpvyfi4 xzueoph x1v0swvf"},{children:k.jsx(c("IGDComposerEmojiButton.react"),{editor:g,threadKey:y})})):null,e[43]=g,e[44]=a,e[45]=L,e[46]=y,e[47]=I):I=e[47];e[48]!==N||e[49]!==g||e[50]!==j||e[51]!==B||e[52]!==L||e[53]!==r||e[54]!==D||e[55]!==t||e[56]!==A||e[57]!==w||e[58]!==x||e[59]!==M?(H=L?k.jsxs(k.Fragment,{children:[k.jsx(c("IGDSIconButton.react"),{"aria-label":h._(/*BTDS*/"Close Button"),onClick:function(){return M.reset()},children:k.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:N,isRotated:!0,size:20})}),k.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:2,marginStart:1,children:k.jsx(l,{voiceRecorder:M})}),k.jsx(n,{onClick:D,thread:x})]}):k.jsx(c("IGDSBox.react"),{flex:"grow",marginEnd:1,marginStart:2,marginTop:2,xstyle:[B&&m.chatTabComposerInnerContainer,m.composerInnerContainer,d("PolarisUA").isMobile()&&m.mobileComposerInnerContainer],children:k.jsx(c("MWPCometComposerInner.react"),{ariaDescribedBy:h._(/*BTDS*/"Message").toString(),contentEditableRef:j,editor:g,handlePastedFiles:A?c("emptyFunction"):r,placeholderText:h._(/*BTDS*/"Message...").toString(),policyProduct:t,surface:w})}),e[48]=N,e[49]=g,e[50]=j,e[51]=B,e[52]=L,e[53]=r,e[54]=D,e[55]=t,e[56]=A,e[57]=w,e[58]=x,e[59]=M,e[60]=H):H=e[60];e[61]!==J||e[62]!==E||e[63]!==o||e[64]!==G||e[65]!==z||e[66]!==B||e[67]!==L||e[68]!==K||e[69]!==q||e[70]!==r||e[71]!==O||e[72]!==s||e[73]!==F||e[74]!==f||e[75]!==A||e[76]!==v||e[77]!==x||e[78]!==y||e[79]!==M?(a=L?null:k.jsxs(k.Fragment,{children:[k.jsx(n,{hidden:!o,onClick:O,thread:x}),k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 x78zum5"},1:{className:"x6s0dn4 x1s85apg"}}[!!(o||A)<<0],{children:[J?k.jsx(c("IGDVoiceClipButton.react"),{thread:x,voiceRecorder:M}):null,K?k.jsx(c("IGDComposerAttachmentButton.react"),{disabled:!E,multiple:q,onAttachmentsAdded:r,supportedFileTypes:v,threadKey:y}):null,b("cr:21207")&&f&&!z?k.jsx(b("cr:21207"),{onSendMessage:s}):null,G&&!B?k.jsx(c("IGDHeartLikeButton.react"),{onSendMessage:s,thread:x}):null,F&&b("cr:1273")!=null?k.jsx(b("cr:1273"),{threadKey:y}):null]}))]}),e[61]=J,e[62]=E,e[63]=o,e[64]=G,e[65]=z,e[66]=B,e[67]=L,e[68]=K,e[69]=q,e[70]=r,e[71]=O,e[72]=s,e[73]=F,e[74]=f,e[75]=A,e[76]=v,e[77]=x,e[78]=y,e[79]=M,e[80]=a):a=e[80];e[81]!==C||e[82]!==I||e[83]!==H||e[84]!==a?(N=k.jsxs("div",babelHelpers["extends"]({},C,{children:[I,H,a]})),e[81]=C,e[82]=I,e[83]=H,e[84]=a,e[85]=N):N=e[85];e[86]!==P||e[87]!==Q||e[88]!==p||e[89]!==N?(g=k.jsx(c("BaseTheme.react"),{config:c("IGDComposerThemeConfigOverride"),children:k.jsxs("div",babelHelpers["extends"]({},P,{children:[Q,p,N]}))}),e[86]=P,e[87]=Q,e[88]=p,e[89]=N,e[90]=g):g=e[90];return g}g["default"]=a}),226);
__d("IGDDMModeContextProvider",["DisappearingMessagesMode","FBLogger","I64","IGDAWAdminWriteMsgTxn","IGDDisappearingMessagesStrings","Int64Hooks","MAWEphemeralConsts","MWLSThread","MWPActor.react","MessengerWebUXLogger","PolarisDirectAPI","PolarisDismissEntry","ReQL","ReQLSuspense","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","isE2EEAttributedInstamadillo","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.createContext;e.useCallback;var m=e.useEffect,n=e.useMemo,o=e.useState,p=l({dmMode:c("DisappearingMessagesMode").OFF,lastSetTtlSec:d("MAWEphemeralConsts").oneDayInSeconds,setLastSetTtlSec:function(){},toggleDMMode:function(){}});function q(a){var b=d("react-compiler-runtime").c(6),c=o(a),e=c[0],f=c[1];c=o(a);var g=c[0];c=c[1];g!==a&&(c(a),f(a));b[0]!==a||b[1]!==e?(g=function(){e!==a&&f(a)},b[0]=a,b[1]=e,b[2]=g):g=b[2];c=g;b[3]!==e||b[4]!==c?(g=[e,f,c],b[3]=e,b[4]=c,b[5]=g):g=b[5];return g}function a(a){var e=a.children,g=a.threadKey,j=(h||(h=c("useReStore")))(),l=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(j.tables.ig_thread_info,["igDmSettingsMode","igThreadId","igDmSettingsLastSetActorId","igDmSettingsLastSetTimestampMs","igDmSettingsTtlSec"]).getKeyRange(g).map(function(a){var b=a.igDmSettingsLastSetActorId,c=a.igDmSettingsLastSetTimestampMs,d=a.igDmSettingsMode,e=a.igDmSettingsTtlSec;a=a.igThreadId;return{authoritativeDMMode:d,igDmSettingsLastSetActorId:b,igDmSettingsLastSetTimestampMs:c,igDmSettingsTtlSec:e,igThreadId:a}})},[j,g],f.id+":87"),o=n(function(){return(l==null?void 0:l.authoritativeDMMode)!=null&&(i||(i=d("I64"))).to_int32(l==null?void 0:l.authoritativeDMMode)===c("DisappearingMessagesMode").ON?c("DisappearingMessagesMode").ON:c("DisappearingMessagesMode").OFF},[l]),r=n(function(){if((l==null?void 0:l.igDmSettingsTtlSec)==null)return d("MAWEphemeralConsts").oneDayInSeconds;var a=(i||(i=d("I64"))).to_float(l==null?void 0:l.igDmSettingsTtlSec);return a>0?a:d("MAWEphemeralConsts").oneDayInSeconds},[l]);a=n(function(){return(l==null?void 0:l.igDmSettingsLastSetTimestampMs)!=null?(i||(i=d("I64"))).to_float(l==null?void 0:l.igDmSettingsLastSetTimestampMs):void 0},[l]);var s=q(o),t=s[0],u=s[1],v=s[2];s=q(r);var w=s[0],x=s[1],y=s[2];s=q(a);var z=s[0],A=s[1],B=s[2];a=q(l==null?void 0:l.igDmSettingsLastSetActorId);var C=a[0],D=a[1],E=a[2],F=d("MWPActor.react").useActor(),G=c("MessengerWebUXLogger").useInteractionLogger(),H=d("Int64Hooks").useCallbackInt64(function(){var a=t===c("DisappearingMessagesMode").ON?c("DisappearingMessagesMode").OFF:c("DisappearingMessagesMode").ON;u(a);A(new Date().getTime());D(F);(l==null?void 0:l.igThreadId)!=null&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield d("PolarisDirectAPI").setDisappearingMessagesSettings(l==null?void 0:l.igThreadId,a,w));b.statusCode!==200&&(c("FBLogger")("igd_web").warn("Toggle DM Network Request failed",b.toString()),v(),B(),E())}catch(a){c("FBLogger")("igd_web").warn("Toggle DM Network Request failed",a.toString()),v(),B(),E()}return})());c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("MWLSThread").getThreadAsync(j,g));a&&(G==null||G({eventName:t===c("DisappearingMessagesMode").ON?"direct_disappearing_messages_toggle_off":"direct_disappearing_messages_toggle_on",extraData:babelHelpers["extends"]({},c("getInstamadilloLoggingExtraData")(a),{dm_duration:String(w)})}))})())},[F,j,t,w,G,v,E,B,u,D,A,l==null?void 0:l.igThreadId,g]),I=d("Int64Hooks").useCallbackInt64(function(a){if(a===r)return;x(a);A(new Date().getTime());D(F);var e=l!=null?l:{},f=e.authoritativeDMMode,h=e.igThreadId;h!=null&&f!=null&&c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var b=(yield d("PolarisDirectAPI").setDisappearingMessagesSettings(h,t,a));b.statusCode!==200&&(c("FBLogger")("ig_web").warn("DM TTL Network Request failed",b.toString()),y(),B(),E())}catch(a){c("FBLogger")("ig_web").warn("DM TTL Network Request failed",a.toString()),y(),B(),E()}return})());c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("MWLSThread").getThreadAsync(j,g));b&&(G==null||G({eventName:"direct_disappearing_messages_ttl_changed",extraData:babelHelpers["extends"]({},c("getInstamadilloLoggingExtraData")(b),{new_dm_duration:String(a),old_dm_duration:String(w)})}))})())},[j,w,G,F,t,E,B,y,D,A,x,l,g,r]);m(function(){o===c("DisappearingMessagesMode").ON&&!d("PolarisDismissEntry").isInstamadilloNuxDismissed(d("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE)&&c("isE2EEAttributedInstamadillo")()&&(d("PolarisDismissEntry").setInstamadilloNuxSessionTimes(d("PolarisDismissEntry").IGD_INSTAMADILLO_DM_FIRST_TIME_ADMIN_MESSAGE_TYPE),c("promiseDone")(j.runInTransaction(function(a){return d("IGDAWAdminWriteMsgTxn").writeAdminMessageTxn(a,{ctaType:"admin_msg_ig_dm_learn_more",senderId:F,text:d("IGDDisappearingMessagesStrings").DM_SECURITY_NOTICE.toString(),threadKey:g,timestampMs:l==null?void 0:l.igDmSettingsLastSetTimestampMs})},"readwrite",void 0,void 0,f.id+":317")))},[o,F,j,l==null?void 0:l.igDmSettingsLastSetTimestampMs,g]);s=n(function(){return{dmMode:t,lastSetActorId:C,lastSetTimestampMs:z,lastSetTtlSec:w,setLastSetTtlSec:I,toggleDMMode:H}},[t,C,z,w,I,H]);return k.jsx(p.Provider,{value:s,children:e})}a.displayName=a.name+" [from "+f.id+"]";g.IGDDMModeContext=p;g.IGDDMModeContextProvider=a}),98);
__d("IGDEqualityUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return Array.isArray(a)&&a.length===2&&Number.isInteger(a[0])&&Number.isInteger(a[1])}function j(a,b){return a!==b&&i(a)&&i(b)?(h||(h=d("I64"))).equal(a,b):a===b}function a(a,b){return k(a,b,j)}function k(a,b,c){c===void 0&&(c=function(a,b){return a===b});if(c(a,b))return!0;if(typeof a!=="object"||a===null||typeof b!=="object"||b===null)return!1;var d=Object.keys(a),e=Object.keys(b);if(d.length!==e.length)return!1;for(e=0;e<d.length;e++)if(!c(a[d[e]],b[d[e]],d[e]))return!1;return!0}g.shallowEqualI64=a;g.shallowEqual=k}),98);
__d("IGDSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a?[".png",".jpg",".jpeg"]:["audio/*",".mp4",".mov",".png",".jpg",".jpeg"]}f.getIGDSupportedFileTypes=a}),66);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=[],e=0;while(!0){var f=(i||(i=d("UnicodeUtils"))).substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!(h||(h=c("URI"))).isValidURI(g))break;var j=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(j="http://"+g);var k=f.indexOf(g);f=i.strlen(f.substr(0,k));e+=f;k=g.length;b.push({offset:e,length:g.length,entity:{url:j}});e+=k}return b}g["default"]=a}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=c("getURLRanges")(a);return a.length===0?[]:a}g.findFirstUrl=a}),98);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","justknobx","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map(),j=void 0;function k(){return Array.from(i.values()).some(function(a){return a.messageText.trim()!==""})}function l(a){return i.get((h||(h=d("I64"))).to_string(a))}function m(){if(!c("justknobx")._("2955")||b("cr:5710")==null||j!=null)return;j=b("cr:5710").onBeforeUnload(function(){if(k())return"You have pending messages. Please wait for them to be sent before closing the window.";return})}function a(a){var b=a.deleteLinkPreviewXMATableData,e=a.fetchAndWriteLinkPreviewXMA,f=a.message,g=a.threadKey;a=a.threadType;if(f==null){i["delete"]((h||(h=d("I64"))).to_string(g));if(i.size===0){var k;(k=j)==null||k.remove();j=void 0}return}if(i.has((h||(h=d("I64"))).to_string(g)))n(g,f);else{k=c("uuidv4")();i.set((h||(h=d("I64"))).to_string(g),{id:k,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:f})}k=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);k&&o(g,f,e,b);m()}function n(a,b){var e=l(a);if(e==null){c("FBLogger")("messenger_web").mustfix("currentDraft was null in updateDraftMessageText");return}i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},e,{messageText:b}))}function o(a,b,e,f){var g,h=l(a);if(h==null){c("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var i=h==null?void 0:h.linkPreviewURL,j=h==null?void 0:h.linkPreviewAbortToken;g=(g=d("MAWFindFirstUrl").findFirstUrl(b))!=null?g:[];b=d("MWHasLinksUtil").getHasLinks(b);b=b?(b=(b=g[0])==null?void 0:b.entity.url)!=null?b:null:null;if(i===b)return;if(b==null){f&&void f({draftId:h.id});j==null||j.abort();p({linkPreviewURL:null,threadKey:a});q({linkPreviewAbortToken:null,threadKey:a});return}p({linkPreviewURL:b,threadKey:a});i=e&&e({draftId:h.id,urls:g})||null;q({linkPreviewAbortToken:i,threadKey:a})}function p(a){var b=a.linkPreviewURL;a=a.threadKey;var e=l(a);if(e==null){c("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},e,{linkPreviewURL:b}))}function q(a){var b=a.linkPreviewAbortToken;a=a.threadKey;var e=l(a);if(e==null){c("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}i.set((h||(h=d("I64"))).to_string(a),babelHelpers["extends"]({},e,{linkPreviewAbortToken:b}))}g.getDraftMessage=l;g.updateDraftMessage=a}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:11494"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:d("MessengerLexicalActorNode").$isMessengerLexicalActorNode(a)?a.getRangeType():"p"})}if(b("cr:11494")!=null&&a instanceof b("cr:11494").MessengerLexicalCommandNode){f=a.getEntity();c.push({id:f.commandId,length:a.getTextContent().length,offset:e,type:a.getRangeType()})}e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("MWV2ComposerActionsContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;c=b.createContext;var j=b.useContext,k=b.useMemo,l=c({});function a(a){var b=a.children,c=a.onMessageSendAttempt;a=j(l);var d=a.onMessageSendAttempt;a=k(function(){return{onMessageSendAttempt:function(a){d==null||d(a),c==null||c(a)}}},[d,c]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerActionsContext=l;g.MWV2ComposerActionsListener=a}),98);
__d("MWV2ComposerHasContentContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({hasContentRef:void 0});function a(a){a=a.children;var b=l(!1),c=k(function(){return{hasContentRef:b}},[b]);return i.jsx(m.Provider,{value:c,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWV2ComposerHasContentContextProvider=a;g.useComposerHasContext=b}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,b("cr:11494")==null?void 0:b("cr:11494").MessengerLexicalCommandNode],i=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function a(a){var b,e=d("Lexical").createEditor({namespace:"MWPEditor",nodes:(b=a==null?void 0:a.nodes)!=null?b:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,e,function(b){c("FBLogger")("messenger_web").catching(a).mustfix("Lexical Error MWP: %s",b)})},theme:(b=a==null?void 0:a.theme)!=null?b:i});return e}g["default"]=a}),98);
__d("useIsMessengerPWA",["ExecutionEnvironment","isMessengerPWA","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState;function a(){var a=k(c("isMessengerPWA")),b=a[0],d=a[1];j(function(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||!matchMedia)return;var a=matchMedia("(display-mode: standalone)"),b=function(a){d(a.matches)};a.addListener(b);return function(){a.removeListener(b)}},[]);return b}g["default"]=a}),98);
__d("useMWIsOffline",["CometSSRRenderingStateHooks","NetworkStatus","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=d("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating();a=j(!c("NetworkStatus").isOnline()&&!a);var b=a[0],e=a[1];i(function(){var a=c("NetworkStatus").onChange(function(a){a=a.online;e(!a)});return function(){a.remove()}},[]);return b}g["default"]=a}),98);
__d("MWChatFocusComposerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=c.useRef,m=e({focusComposer:void 0,setFocusComposer:function(){}});function a(a){a=a.children;var b=l(),c=b.current,d=k(function(){return{focusComposer:c,setFocusComposer:function(a){b.current=a}}},[c]);return i.jsx(m.Provider,{value:d,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}g.MWChatFocusComposerContextProvider=a;g.useMWChatFocusComposer=b}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1});c=a;f["default"]=c}),66);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("CometRouteParams").useRouteParams();a=a.focus_target;if(a!=null){a=Number(a);return(a=c("MWInboxFocusTarget").cast(a))!=null?a:0}return 0}g["default"]=a}),98);
__d("useMWPComposerAutoFocus",["HiddenSubtreePassiveContext","MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","justknobx","react","useMWGetInboxFocusTargetFromRoute","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect;function l(a,b){if(c("justknobx")._("4143")){b=b.getCurrentState();b=b.hiddenOrBackgrounded;if(b)return}b=(b=document.activeElement)==null||(b=b.attributes.getNamedItem("id"))==null?void 0:b.value;if(b!=null&&b.includes("prevent-composer-focus-steal"))return;return a.focus(function(){})}function a(a){var b=a.editor,e=a.focusEditorDelayed,f=a.hasUnsentAttachments,g=f===void 0?!1:f;f=a.isPreviewThread;f=f===void 0?!1:f;var h=a.isQuickchat,m=j(c("HiddenSubtreePassiveContext"));a=d("MWChatFocusComposerContext").useMWChatFocusComposer();a=a.setFocusComposer;var n=j(d("MWPReplyContext.react").MWPReplyContext),o=n.reply,p=c("usePrevious")(o);k(function(){(p==null?o!=null:!c("deepEquals")(p,o))&&(h&&e?e(b):l(b,m))},[b,o,p,e,h,m]);n=c("useMWGetInboxFocusTargetFromRoute")();var q=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),r=n===0&&q&&!f;k(function(){r&&(h&&e?e(b):l(b,m))},[b,r,e,h,m]);k(function(){g&&(h&&e?e(b):l(b,m))},[b,g,e,h,m]);a(i(function(){h&&e?e(b):l(b,m)},[b,e,m,h]))}g["default"]=a}),98);
__d("MWPNewMessageDraftContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useRef,l=e();function a(a){a=a.children;var b=k("");return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWPNewMessageDraftContextProvider=a;g.useNewMessageDraftContext=b}),98);
__d("MWPreloadedText",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||d("react")).createContext;b=a({text:null});g["default"]=b}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=c("useAsyncReStore")(),g=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var d=a.draftId;if(!g)return;a=(yield e);a=(yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=null;yield a.e2ee_composer_draft_link_preview.get(d).then(function(a){a=JSON.parse((a=a==null?void 0:a.data)!=null?a:"{}");b=a.iframeMediaURL});yield a.e2ee_composer_draft_link_preview["delete"](d);return b});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":40"));if(a!=null)try{URL.revokeObjectURL(a)}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",a)}});return function(b){return a.apply(this,arguments)}}())}g["default"]=a}),98);
__d("MAWExternalLinkUtil",["FBLogger","MAWOembedHelper","MAWOembedIframeContainer.react","Promise","asyncToGeneratorRuntime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=[],j=["image/png","image/jpeg","image/jpg"],k=2*1e3;function l(a){return new(h||(h=b("Promise")))(function(b){return c("setTimeout")(b,a)})}function m(a){return(h||(h=b("Promise"))).race([a,l(k)])}function a(a){if(a==null)return null;var b=null;a=a.find(function(a){return Object.values(t).some(function(c){var d=c.schemes;c=c.url;d=d.some(function(b){return b.test(a.entity.url)});d&&(b=c);return d})});return a==null||b==null?null:{oEmbedRequest:b+"?url="+encodeURIComponent(a.entity.url)+"&format=json",oEmbedUrl:a.entity.url}}function e(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,e=a.fallbackUrl,f=a.qplEvent;a=a.request;b=(b=window.frames["maw-intermediate-iframe"])!=null?b:null;if(b==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){f==null||f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_return:"iframe cannot be found."}});c("FBLogger")("messenger_web_sharing").warn("[external link] Cannot find the iframe to request oembed url response.");return}}try{a=(yield m(d("MAWOembedIframeContainer.react").requestUrl(a,d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,b)));if(a==null||a instanceof Blob){f==null||f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"oembedResponse is null or an instance of Blob."}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch oEmbed response: expected json response but got blob.");return}return p({fallbackUrl:e,rawResponse:a})}catch(a){f==null||f.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when trying to fetch oembed response in iframe."}});c("FBLogger")("messenger_web").warn("[External link] Error thrown when trying to fetch oembed response in iframe.");return}});return n.apply(this,arguments)}function f(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.qplEvent;a=a.xmaData;if(a==null)return(h||(h=b("Promise"))).resolve();var f=u(a.url);f=i.includes(f);if(f)return(h||(h=b("Promise"))).resolve();f=a==null?void 0:a.thumbnail_url;if(f==null||!Boolean(f)){e==null||e.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"url was null or undefined"}});return(h||(h=b("Promise"))).resolve()}a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;if(a==null){d("MAWOembedIframeContainer.react").createMAWOembedIframeContainer();if(window.frames["maw-intermediate-iframe"]==null){e==null||e.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"iframe cannot be found."}});c("FBLogger")("messenger_web").warn("[external link] Cannot find the iframe to request image blob response.");return}}f=(yield m(d("MAWOembedIframeContainer.react").requestUrl(f,d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,a)));if(f instanceof Blob)return f;e==null||e.addPoint("get_image_blob_response_returned_null",{string:{get_image_blob_response_returned_null:"imageBlobResponse is not instance of Blob"}});c("FBLogger")("messenger_web").warn("[external link] Failed to fetch image blob response. ");return(h||(h=b("Promise"))).resolve()});return o.apply(this,arguments)}function p(a){var b,d=a.fallbackUrl;a=a.rawResponse;if(a.version!=="1.0")throw c("FBLogger")("messenger_web").mustfixThrow("Unsupported response version from oEmbed API");if(a.type==="photo"&&a.url==null)throw c("FBLogger")("messenger_web").mustfixThrow("Unsupported response from oEmbed API: photo does not have url field");return{author_name:a.author_name!=null?decodeURIComponent(a.author_name):void 0,height:a.height,thumbnail_height:a.thumbnail_height,thumbnail_url:a.thumbnail_url,thumbnail_width:a.thumbnail_width,title:a.title!=null?decodeURIComponent(a.title):void 0,type:a.type,url:(b=a.url)!=null?b:d,width:a.width}}function q(a){var b=s.some(function(b){return b.test(a)});return b?!0:Object.values(t).some(function(b){b=b.url;return a.startsWith(b)})}var r=new RegExp("^http(?:s)?:\\/\\/i\\.ytimg\\.com.+$"),s=[new RegExp("^http(?:s)?:\\/\\/i1\\.sndcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.scdn\\.co.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.cloudfront\\.net.+$"),new RegExp("^http(?:s)?:\\/\\/pi\\.tedcdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/static01\\.nyt\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/i\\.vimeocdn\\.com.+$"),new RegExp("^http(?:s)?:\\/\\/(?:#!)?[^#?\\/]+\\.tiktokcdn\\.com.+$"),r],t={NYTimes:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.nytimes\\.com\\/svc\\/oembed$"),new RegExp("^http(?:s)?:\\/\\/nytimes\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?nytimes\\.com\\/.+$")],url:"https://www.nytimes.com/svc/oembed/json/"},SoundCloud:{schemes:[new RegExp("^http(?:s)?:\\/\\/soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/on\\.soundcloud\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/soundcloud\\.app\\.goog\\.gl\\/.+$")],url:"https://soundcloud.com/oembed"},Spotify:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/open\\.spotify\\.com\\/.+$")],url:"https://open.spotify.com/oembed"},Spreaker:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?spreaker\\.com\\/.+$")],url:"https://api.spreaker.com/oembed"},TED:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/ted\\.com\\/talks\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.ted\\.com\\/talks\\/.+$")],url:"https://www.ted.com/services/v1/oembed.json"},TikTok:{schemes:[new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/www\\.tiktok\\.com\\/(?:#!)?[^#?\\/]+\\/video\\/.+$")],url:"https://www.tiktok.com/oembed"},Vimeo:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/album\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/channels\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/groups\\/(?:#!)?[^#?\\/]+\\/video\\/.+$"),new RegExp("^http(?:s)?:\\/\\/vimeo\\.com\\/ondemand\\/(?:#!)?[^#?\\/]+\\/.+$"),new RegExp("^http(?:s)?:\\/\\/player\\.vimeo\\.com\\/video\\/.+$")],url:"https://vimeo.com/api/oembed.json"},youtube:{discovery:!0,schemes:[new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/watch.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/v\\/.+$"),new RegExp("^http(?:s)?:\\/\\/youtu\\.be\\/.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/youtube\\.com\\/playlist\\?list\\=.+$"),new RegExp("^http(?:s)?:\\/\\/(?:[-\\w]+\\.)?youtube\\.com\\/shorts.+$")],url:"https://www.youtube.com/oembed"}};function u(a){return Object.keys(t).find(function(b){return t[b].schemes.some(function(b){return b.test(a)})})}g.allowedPreviewTypes=j;g.findFirstAvailableOembedUrlAndRequestPair=a;g.getOembedResponse=e;g.getImageBlobResponse=f;g.isAllowedRequestForFbsbx=q}),98);
__d("MAWOembedHelper",["$InternalEnum","ConstUriUtils","FBLogger","MAWExternalLinkUtil","SecureMessageListener","SecurePostMessage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["facebook.com","messenger.com","instagram.com","internalfb.com"];function i(a){if(a==null||typeof a!=="object")return null;var b=a.requestURL;a=a.requestMessageType;if(typeof a!=="string"||typeof b!=="string"||!d("ConstUriUtils").isValidUri(b))return null;a=j.cast(a);return a==null||a!==j.OEMBED_REQUEST_URL&&a!==j.THUMBNAIL_URL?null:[a,b]}function a(){var a=null,b=new(c("SecureMessageListener"))(window);function e(b){a=b.origin;b=b.data;b=i(b);if(b==null)return;var e=b[0],g=b[1];if(!d("MAWExternalLinkUtil").isAllowedRequestForFbsbx(g))return;c("promiseDone")(window.fetch(g).then(function(a){a.status!==200&&c("FBLogger")("messenger_web").mustfix("[external link] fbsbx page fetching for the response is not successful.");switch(e){case j.OEMBED_REQUEST_URL:return a.json();case j.THUMBNAIL_URL:return a.blob()}}).then(function(a){f({type:e,url:g,value:a})})["catch"](function(){c("FBLogger")("messenger_web").warn("[external link] Failed to fetch response in helper js.")}))}b.setEventHandler(e).setSupportedOrigins(h);b.beginListening();function f(b,d){var e=d!=null?d:1;if(a==null){e<=3&&window.setTimeout(function(){f(b,e+1)},250*Math.pow(2,e*e));return}c("SecurePostMessage").sendMessageToSpecificOrigin(window.parent,b,a)}}var j=b("$InternalEnum").Mirrored(["OEMBED_REQUEST_URL","THUMBNAIL_URL"]);g.init=a;g.MAWOembedIFrameMessageType=j}),98);
__d("XFBSbxMAWProxyPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/maw_proxy_page/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MAWOembedIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","MAWOembedHelper","Promise","SecureMessageListener","SecurePostMessage","WAResolvable","XFBSbxMAWProxyPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return"www.fbsbx.com"}var j=new Map(),k=null;function a(a,e,f){var g=j.get(a);if(g!=null)return g.promise;g=n(i());if(g==null)return(h||(h=b("Promise"))).resolve();c("SecurePostMessage").sendMessageToSpecificOrigin(f.contentWindow,{requestMessageType:e,requestURL:a},g);f=new(d("WAResolvable").Resolvable)();j.set(a,f);return f.promise}function l(a){if(a==null||typeof a!=="object")return null;var b=a.url,e=a.value;a=a.type;if(b==null||e==null||a==null||typeof a!=="string")return null;var f=d("MAWOembedHelper").MAWOembedIFrameMessageType.cast(a);if(typeof b==="string"&&f!=null){if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL&&e instanceof Blob)return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.THUMBNAIL_URL,url:b,value:e};if(f===d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL&&typeof e==="object"&&e.title!=null&&e.thumbnail_url!=null){f={author_name:typeof e.author_name==="string"?e.author_name:void 0,height:typeof e.height==="number"?e==null?void 0:e.height:150,thumbnail_height:typeof e.thumbnail_height==="number"?e.thumbnail_height:void 0,thumbnail_url:typeof e.thumbnail_url==="string"?e.thumbnail_url:void 0,thumbnail_width:typeof e.thumbnail_width==="number"?e.thumbnail_width:void 0,title:typeof e.title==="string"?e.title:void 0,type:typeof e.type==="string"?e.type:"photo",version:typeof e.version==="string"?e.version:"1.0",width:typeof e.width==="number"?e.width:200};return{type:d("MAWOembedHelper").MAWOembedIFrameMessageType.OEMBED_REQUEST_URL,url:b,value:f}}}c("FBLogger")("messenger_web").warn("Failed to handle message %s from fbsbx: cannot process event message in the correct format",a);return null}var m=function(a){a=l(a.data);if(a==null)return;var b=a.url;a=a.value;b=j.get(b);if(b==null){c("FBLogger")("messenger_web").warn("Failed to handle message from fbsbx: cannot find the resolvable promise for the url");return}b.resolve(a)};function e(){var a;a=(a=window.frames["maw-intermediate-iframe"])!=null?a:null;var b=n(i());if(a!=null){(a=k)==null||a.beginListening();return k}if(b==null){c("FBLogger")("messenger_web").warn("Failed to create maw-intermediate-iframe iFrame: cannot find the fbsbxUri");return}a=document.createElement("iframe");a.style.display="none";a.className="MAWOembedIframe";a.id="maw-intermediate-iframe";a.src=b;(b=document.body)==null||b.appendChild(a);k=new(c("SecureMessageListener"))(window).setEventHandler(m).setSupportedOrigins(["fbsbx.com"]);k.beginListening();return k}function n(a){var b;return(b=c("XFBSbxMAWProxyPageControllerRouteBuilder").buildUri({__cci:(b=c("CookieConsentIFrameConfig").consent_param)!=null?b:""}).setProtocol("https"))==null||(b=b.setDomain(a))==null?void 0:b.toString()}g.requestUrl=a;g.createMAWOembedIframeContainer=e}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(1056840460,"718");function a(a){var b=a.draftId;a=a.url;b=b.concat(a);var e=d("MAWLoggerUtils").getInstanceKeyFromId(b);a=c("justknobx")._("2714");c("QPLUserFlow").start(h,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:e,timeoutInMs:a});return{addAnnotations:function(a){c("QPLUserFlow").addAnnotations(h,a,{instanceKey:e})},addPoint:function(a,b){c("QPLUserFlow").addPoint(h,a,{instanceKey:e}),b!=null&&c("QPLUserFlow").addAnnotations(h,b,{instanceKey:e})},endCancel:function(a,b){c("QPLUserFlow").endCancel(h,{annotations:a,cancelReason:b,instanceKey:e})},endFail:function(a,b){c("QPLUserFlow").endFailure(h,a,{instanceKey:e}),b!=null&&c("QPLUserFlow").addAnnotations(h,b,{instanceKey:e})},endSuccess:function(){c("QPLUserFlow").endSuccess(h,{instanceKey:e})}}}g.startMediaPreProcessLinkPreviewQpl=a}),98);
__d("useXMAPreviewsDisabledSetting",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":26");return e==null?c("MessengerWebPrivacySettings").e2ee_xma_previews_disabled:(e=e==null?void 0:e.e2eeXmaPreviewsDisabled)!=null?e:!1}g["default"]=a}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","asyncToGeneratorRuntime","getRequestConstUri","isFacebookURI","promiseDone","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){var a=!1;return{abort:function(){a=!0},isAborted:function(){return a}}};function e(a){var e=a.threadKey;a=a.threadType;var f=c("useAsyncReStore")(),g=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),h=c("useMAWDeleteLinkPreviewXMATableData")(a),l=c("getRequestConstUri")(),n=c("useXMAPreviewsDisabledSetting")();return d("Int64Hooks").useCallbackInt64(function(a){var o=a.draftId,p=a.urls,q=i();a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!g)return;var a=d("ConstUriUtils").getUri(p[0].entity.url);if(a==null)return;var b=d("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:o,url:a.toString()}),i=c("isFacebookURI")(a),r=c("isFacebookURI")(l);r=i&&r;if(i&&n){j({abortToken:q,dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:b,qplSubspanPoint:"write_fb_disabled",status:c("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:e,xmaData:null});b.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}j({abortToken:q,dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:b,qplSubspanPoint:"write_loading_status",status:c("E2EELinkPreviewXMADataStatus").LOADING,threadKey:e,xmaData:{title:a.getDomain(),url:a.toString()}});b.addAnnotations({bool:{should_fetch_from_og:r},string:{link_type:i?"facebook":"external"}});i=r?yield k(a.toString(),b):yield m(p,b);r=i.dataType;a=i.xmaData;j({abortToken:q,dataType:r,dbPromise:f,deleteLinkPreviewXMATableData:h,draftId:o,qplEvent:b,qplSubspanPoint:"write_xma_data",status:c("E2EELinkPreviewXMADataStatus").LOADED,threadKey:e,xmaData:a})});return function(){return a.apply(this,arguments)}}();void a();return q})}function j(a){var b=a.abortToken,e=a.dataType,g=a.dbPromise,i=a.deleteLinkPreviewXMATableData,j=a.draftId,k=a.qplEvent,l=a.qplSubspanPoint,m=a.status,n=a.xmaData;k.addAnnotations({"int":{data_type:e}});if(b.isAborted()){k.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}k.addPoint(l+"_start");c("promiseDone")(g,function(a){return a.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.put({data:n!=null?JSON.stringify(n):void 0,dataType:e!=null?(h||(h=d("I64"))).of_int32(e):void 0,draftId:j,status:(h||(h=d("I64"))).of_int32(m)})},"readwrite",void 0,void 0,f.id+":213").then(function(a){b.isAborted()&&(k.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),void i({draftId:a[0]})),k.addPoint(l+"_success"),l==="write_xma_data"&&k.endSuccess()})["catch"](function(a){k.endFail(l+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+a}}),c("FBLogger")("messenger_web_sharing").catching(a).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;b.addPoint("fetch_fb_og_data_start");e=(e=(e=d("ConstUriUtils").getUri(a))==null?void 0:e.getDomain())!=null?e:a;try{var f;b.addPoint("http_request_start");var g=(yield window.fetch(a,{credentials:"omit",referrerPolicy:"no-referrer"}));b.addPoint("http_response_end");if(!g.ok){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(g.status),xma_data_returned:"fallback"}});return o(e,a)}g=(yield g.text());var h=new DOMParser();h=h.parseFromString(g,"text/html");h.querySelector("parsererror")&&b.addPoint("html_parsererror");g=(g=h.querySelector('meta[property="og:image"]'))==null?void 0:g.getAttribute("content");f=(f=h.querySelector('meta[name="description"]'))==null?void 0:f.getAttribute("content");h=(h=h.querySelector('meta[property="og:title"]'))==null?void 0:h.getAttribute("content");if(g==null&&f==null&&h==null){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}});return o(e,a)}b.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}});return{dataType:c("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:f!=null?f:void 0,iframeMediaURL:g,thumbnail_url:g!=null?g:void 0,title:h!=null?h:e,url:a}}}catch(c){b.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}});return o(e,a)}});return l.apply(this,arguments)}function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e){e.addPoint("fetch_external_link_oembed_data_start");var f=d("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(b);b=b[0].entity.url;var g=null;if(f!=null){b=f.oEmbedUrl;try{e.addPoint("get_oembed_response_start"),g=(yield d("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:b,qplEvent:e,request:f.oEmbedRequest})),e.addPoint("get_oembed_response_success")}catch(a){e.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+a}}),e.addPoint("get_oembed_response_end"),c("FBLogger")("messenger_web_sharing").catching(a).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}f=(f=d("ConstUriUtils").getUri(b))==null?void 0:f.getDomain();if(g==null){e.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}});return o(f!=null?f:b,b)}e==null||e.addPoint("get_image_blob_response_start");var h=(yield d("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:e,xmaData:g})),i=null;if(h!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(h.type)){h=new File([h],"preview",{type:h.type});i=a.URL.createObjectURL(h)}e==null||e.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:i==null}});e.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}});return{dataType:c("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers["extends"]({iframeMediaURL:i},g,{title:(h=g.title)!=null?h:f,url:(e=g.url)!=null?e:b})}});return n.apply(this,arguments)}function o(a,b){return{dataType:c("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:a,url:b}}}g["default"]=e}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","react","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("justknobx")._("3119");function a(a){var b=a.editor,e=a.isPreviewThread,f=a.threadKey,g=a.threadType,h=j,k=c("useMAWFetchAndWriteLinkPreviewXMATableData")({threadKey:f,threadType:g}),l=c("useMAWDeleteLinkPreviewXMATableData")(g),m=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),n=i(function(a){e&&m!=null?m.current=a:d("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:l,fetchAndWriteLinkPreviewXMA:k,message:a,threadKey:f,threadType:g})},[l,k,e,m,f,g]);d("Int64Hooks").useEffectInt64(function(){b.registerUpdateListener(c("CometDebounce")(function(a){a=a.editorState;a=a.read(function(){return d("LexicalText").$rootTextContent()});if(c("isStringNullOrEmpty")(a)){n(a);return}n(a)},{wait:h}))},[h,b,n]);d("Int64Hooks").useEffectInt64(function(){var a=b.getEditorState().read(function(){return d("LexicalText").$rootTextContent()});n(a)},[b,n])}g["default"]=a}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=a.editor,e=a.isPreviewThread;e=e===void 0?!1:e;var f=a.isQuickchat;f=f===void 0?!1:f;var g=a.threadKey;a=a.threadType;var h=d("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),j=i(c("MWPreloadedText"));h=j.text!=null?j.text:h!=null?h.current:(j=d("MWPComposerDraftMessages").getDraftMessage(g))==null?void 0:j.messageText;c("useMWLSSaveDrafts")({editor:b,isPreviewThread:e,threadKey:g,threadType:a});c("usePrepopulateLexicalEditor")(b,f?void 0:h);return h}g["default"]=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useRef,k=250;function a(a,b){var e=j(null);i(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(f){f=f;if(d("MLCKeyBindingUtil").hasCommandModifier(f)&&c("gkx")("13931")&&!c("gkx")("23402"))return!1;if(f!=null&&!f.shiftKey&&!f.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(f))){f.preventDefault();var g=e.current;if(g!=null&&f.timeStamp-g<=k&&c("gkx")("15485")){e.current=f.timeStamp;return!0}a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();e.current=f.timeStamp;return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("useMWXLexicalHasText",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useEffect,k=c.useRef,l=c.useState;function m(a){return a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing()))}function n(a){var b=l(function(){return!m(a)}),c=b[0],d=b[1];j(function(){return a.registerUpdateListener(function(){d(!m(a))})},[a]);return c}function a(a){var b=a.editor;a=a.initialValue;var c=k(a);return{useHasText:i(function(){var a,d=k((a=c.current)!=null?a:!1);j(function(){d.current=!1},[]);return n(b)||d.current},[b])}}function b(a){var b=a.editor;a=a.initialValue;a=k(a);var c=k((a=a.current)!=null?a:!1);j(function(){c.current=!1},[]);return n(b)||c.current}g.useMWXLexicalHasText_DEPRECATED=a;g.useMWXLexicalHasText=b}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useMemo;function a(a,b,e){var f=b!=null?b:!1;i(function(){if(!f)return;var b=d("Run").onUnload(function(){return a(!1)});return function(){return b.remove()}},[f,a]);return j(function(){var b={contents:!1},d=c("debounce")(function(){if(!b.contents)return a(!1)},e|0),f=c("CometThrottle")(function(){return a(!0)},3e3,{leading:!0,trailing:!1}),g=function(){a(!1),b.contents=!0},h=function(){f();return d()};return[h,g]},[a,e])}g.useLatch=a}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=a.editor;a=a.onTypingStateChanged;a=d("MWXUseLatch").useLatch(a,!0,5e3);var c=a[0],e=a[1],f=j("");i(function(){var a=function(a){a=a.editorState.read(function(){return d("LexicalText").$rootTextContent()});if(a!==f.current){f.current=a;if(a==="")return e();else return c()}};return b.registerUpdateListener(a)},[c,e,b]);return{}}g["default"]=a}),98);
__d("useMWPComposerEditor",["I64","Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWFBLogger","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","cr:7101","emptyFunction","mwpLexicalCreateEditor","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i;f=h||d("react");var j=f.useContext,k=f.useEffect,l=f.useMemo,m=f.useRef;function a(a){return}var n=b("cr:7101")==null?a:b("cr:7101").useMWComposerKeyCommandFocusRegister,o=[],p=function(a){return a.read(function(){return d("LexicalText").$rootTextContent()})};function e(a){var b=a.customizedRanges,e=a.getTextFromEditorState,f=e===void 0?p:e;e=a.isPreviewThread;e=e===void 0?!1:e;var g=a.isSendDisabled;g=g===void 0?!1:g;var h=a.mediaStaging;h=h===void 0?o:h;var q=a.onSendMessage,r=a.onTypingStateChanged,s=a.threadKey,t=a.clearFormatAfterSend,u=a.isQuickchat;u=u===void 0?!1:u;var v=a.focusEditorDelayed,w=a.editorNodes,x=a.editorTheme,y=a.threadType,z=a.composerEntrypointForLogging;a=m(null);var A=l(function(){return c("mwpLexicalCreateEditor")({nodes:w,theme:x})},[w,x]);h=h.length>0;c("useLexicalInitializeEditor__DEPRECATED")(A);c("useMWPLexicalClearEditor")(A,t);c("useMWPComposerAutoFocus")({editor:A,focusEditorDelayed:v,hasUnsentAttachments:h,isPreviewThread:e,isQuickchat:u});t=c("useMWPComposerEditorDraftText")({editor:A,isPreviewThread:e,isQuickchat:u,threadKey:s,threadType:y});var B=d("useMWXLexicalHasText").useMWXLexicalHasText({editor:A,initialValue:t!=null&&t!==""}),C=B||h;v=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var D=v.hasContentRef;k(function(){if(D==null)return;D.current=B},[B,D]);c("useMWXLexicalOnTypingChanged")({editor:A,onTypingStateChanged:r});e=j(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var E=e.onMessageSendAttempt;u=c("useMWIsOffline")();y=c("useIsMessengerPWA")();var F=u&&y;t=d("Int64Hooks").useCallbackInt64(function(){var a;if(F)return;a=(a=d("MWPComposerDraftMessages").getDraftMessage(s))==null?void 0:a.id;d("MWPComposerDraftMessages").updateDraftMessage({message:null,threadKey:s});E==null||E(C);if(!C)return;d("MWChatMessagesOnChatTabLoadTracker").trackSendFor(s);d("MWFBLogger").MWLogger.tags(["MWPComposerEditor","Composer"]).debug("Calling onSendMessage");var e=b!=null?b(A,(i||(i=d("I64"))).to_string(s)):c("MWV2ChatComposerGetViewContent").getRanges(A),g=A.getEditorState();g=f(g);A.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND);q(g,e,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,z);A.focus()},[F,E,C,A,s,b,f,q,z]);h=g?c("emptyFunction"):t;c("useMWPLexicalCommitMessageOnEnter")(A,h);n(a.current);return{editor:A,editorElementRef:a,hasStuffToSend:C,sendMessage:h}}g["default"]=e}),98);
__d("MWMediaManagerFileSizeLimit",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=25;function a(a){return a?c("justknobx")._("3563"):h}g.getMWMaxAttachmentSizeInMB=a}),98);
__d("useFileDragEvents",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a,b,c){b===void 0&&(b=document.documentElement);var d=k(0),e=l(!1),f=e[0],g=e[1],h=i(function(b){g(!1);if((c==null||c(b))&&a!=null){b.preventDefault();var e=b.dataTransfer;if(e!=null){e=e.files;a(e,b)!==!1&&b.stopPropagation()}else b.stopPropagation();d.current=0}},[a,c]),m=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&(a.preventDefault(),d.current++,g(!0))},[c]),n=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;(c==null||c(a))&&b!=null&&--d.current===0&&g(!1)},[c]),o=i(function(a){var b;b=(b=a.dataTransfer)==null?void 0:b.files;a.dataTransfer!=null&&(a.dataTransfer.dropEffect="copy");b!=null&&a.preventDefault()},[]);j(function(){if(b!=null){b.addEventListener("drop",h,!0);b.addEventListener("dragenter",m,!0);b.addEventListener("dragleave",n,!0);b.addEventListener("dragover",o,!0);return function(){b.removeEventListener("drop",h,!0),b.removeEventListener("dragenter",m,!0),b.removeEventListener("dragleave",n,!0),b.removeEventListener("dragover",o,!0)}}},[m,n,o,h,b]);return f}g["default"]=a}),98);
__d("MWV2FileDropzone.react",["fbt","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMediaManagerFileSizeLimit","MWXTextPairing.react","cometIsMimeTypeForMedia","promiseDone","react","recoverableViolation","stylex","useFileDragEvents","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;e=b.createContext;var m=b.useCallback,n=b.useRef,o=e({current:{enabled:!0,handler:null}});function p(a){var b=a.children;a=a.fileUploadHandlerConfigRef;var c=o.Provider;return l.jsx(c,{value:a,children:b})}p.displayName=p.name+" [from "+f.id+"]";var q={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function r(a){if(a==null)return[];a=a.dataTransfer;return a==null?[]:a.types}function s(a){switch(a){case 0:return void 0;case 1:return h._(/*BTDS*/"Certain file types are unsupported in this chat.").toString();default:return h._(/*BTDS*/"Some files are unsupported and cannot be shared to this chat").toString()}}function t(a,b){var d=s(b);if(d==null)return;c("promiseDone")(a.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:d,errorTitleText:d})},"readwrite",void 0,void 0,f.id+":122"))}function u(a){a=a.type;return d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a)||d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a)?!0:a.startsWith("audio/")}var v=new Set(["text/plain","text/html","text/uri-list"]);function a(a){var b=a.children,e=a.getMaxAttachmentSizeInMBFunc;e=e===void 0?d("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:e;var f=a.isDisabled,g=a.isMediaOnly,k=a.thread;a=a.xstyle;var o=n({enabled:!1,handler:null}),s=n(null),w=(i||(i=c("useReStore")))(),x=k!=null?(d("MWCMThreadTypes.react").isBroadcastThread(k.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(k.threadType)||d("LSMessagingThreadTypeUtil").isAiBot(k.threadType))&&!d("LSThreadBitOffset").has(56,k):!1;k=k!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(k.threadType):!1;var y=f===!0||x;f=function(a){var b;return((b=o.current)==null?void 0:b.handler)==null?!1:!r(a).some(function(a){return v.has(a)})};f=c("useFileDragEvents")(function(){return!1},void 0,f);var z=m(function(a){var b;if(((b=o.current)==null?void 0:b.enabled)===!1)return;b=(b=o.current)==null?void 0:b.handler;if(b==null){if(!x){var d=o.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file";c("recoverableViolation")(d,"messenger_web_media")}return}d=Array.from(a);a=g?d.filter(u):d;d.length!==a.length&&t(w,d.length);!y&&a.length!==0&&b(a)},[g,y,x,w]);c("useFileDragEvents")(z,s.current,function(a){return!0});return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(q.root,a!=null?a:!1),{ref:s,children:[l.jsx(p,{fileUploadHandlerConfigRef:o,children:b}),!y&&f?l.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy x1vjfegm"},{children:l.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"max {fileSizeLimit} MB",[h._param("fileSizeLimit",String(e(k)))]),bodyColor:"secondary",headline:h._(/*BTDS*/"Drop files here"),level:4,textAlign:"center"})})):null]}))}a.displayName=a.name+" [from "+f.id+"]";g.mWV2FileDropzoneContext=o;g.MWV2FileDropzone=a}),226);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":22");return e==null?c("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(e=e==null?void 0:e.e2eeHdMediaEnabled)!=null?e:!1}g["default"]=a}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","useMWIsHDMediaEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext),e=c("useMWIsHDMediaEnabled")();j(function(){var c={enabled:!0,handler:function(b){return a(b,e)}};b.current=c;return function(){c.enabled=!1,c.handler=null}},[b,a,e])}g["default"]=a}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=b("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor();b=(h||(h=d("I64"))).to_int32(b!=null?b:(h||(h=d("I64"))).zero);var j=b===1||b===15;b=d("ReQLSuspense").useArray(function(){return j&&a!=null?d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a):d("ReQL").empty()},[e,a,j],f.id+":72");if(a==null)return null;if(j){b=b.map(function(a){return(h||(h=d("I64"))).to_string(a.contactId)}).filter(function(a){return a!==(h||(h=d("I64"))).to_string(g)})[0];return b}else return(h||(h=d("I64"))).to_string(a)}g.EventTypeEnum=e;g.useGetUniqueThreadID=a}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3905");b=d("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3476");b=d("FalcoLoggerInternal").create("messenger_inbox_tray_event",a);e=b;g["default"]=e}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function b(a,b){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION,b)}function e(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function h(a,b,e){var f=a.id,g=a.isOnline,h=a.messageThreadId,i=a.position,j=a.storyIds,k=a.surface;a=a.targetType;var l;if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)l="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)l="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)l="one_px_impression";else return;var m={event_type:l,surface:{entry_point:k.entry_point,major_surface:k.major_surface,minor_surface:k.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:a,user:{id:f}}};g!=null&&(m=babelHelpers["extends"]({},m,{target:babelHelpers["extends"]({},m.target,{presence:{status:g?1:0}})}));if((j==null?void 0:j.firstCardId)!=null&&(j==null?void 0:j.bucketId)!=null){l=atob(j.firstCardId);k=null;l!=null&&l.includes("S:_ISC:")&&(k=l.split("S:_ISC:")[1]);m=babelHelpers["extends"]({},m,{target:babelHelpers["extends"]({},m.target,{story:{bucket_id:(i=j.bucketId)!=null?i:null,first_card_id:k!=null?k:null}})})}b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?c("MessengerInboxTrayEventFalcoEvent").log(function(){return m}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?(m=babelHelpers["extends"]({},m,{target:babelHelpers["extends"]({},m.target,{button:e!=null?{type:e}:void 0,message_thread:h!=null?{consistent_thread_fbid:h}:void 0})}),c("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return m})):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&c("MessengerInboxTrayEventFalcoEvent").log(function(){return m})}g.logClickEvent=a;g.logConversionClickEvent=b;g.logImpressionEvent=e}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2305");b=d("FalcoLoggerInternal").create("messenger_sidebar_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2306");b=d("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2307");b=d("FalcoLoggerInternal").create("messenger_sidebar_impression_event",a);e=b;g["default"]=e}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";f={scrollMargin:-33};function a(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function b(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function e(a){h(a,d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function h(a,b){var e=a.id,f=a.isOnline,g=a.position,h=a.storyIds,i=a.surface;a=a.targetType;var j;if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)j="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)j="single_click";else if(b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)j="vpvd_impression";else return;var k={event_type:j,surface:{entry_point:i.entry_point,major_surface:i.major_surface,minor_surface:i.minor_surface},target:{ranking:{absolute_position:g!=null?g.toString():"-1"},type:a,user:{id:e}}};f!=null&&(k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{presence:{status:f?1:0}})}));if((h==null?void 0:h.firstCardId)!=null&&(h==null?void 0:h.bucketId)!=null){j=atob(h.firstCardId);i=null;j!=null&&j.includes("S:_ISC:")&&(i=j.split("S:_ISC:")[1]);k=babelHelpers["extends"]({},k,{target:babelHelpers["extends"]({},k.target,{story:{bucket_id:(g=h.bucketId)!=null?g:null,first_card_id:i!=null?i:null}})})}b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?c("MessengerSidebarClickEventFalcoEvent").log(function(){return k}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?c("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return k}):b===d("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&c("MessengerSidebarImpressionEventFalcoEvent").log(function(){return k})}g.IMPRESSION_LOG_OPTIONS=f;g.logClickEvent=a;g.logConversionClickEvent=b;g.logImpressionEvent=e}),98);
__d("useIGDChatTabsMessagingSource.react",["I64","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c=d("IGDChatTabsStateContext.react").useIGDChatTabsState();if(b==="ChatTab"){b=c==null?void 0:c.openedTabs.get((h||(h=d("I64"))).to_string(a));return(c=b==null?void 0:b.source)!=null?c:d("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.Unknown}return null}g["default"]=a}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="mw_sent_message";function j(){return c("justknobx")._("1630")}function a(){(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),i,String(Date.now()))}function b(){var a=(h||(h=c("WebStorage"))).getLocalStorage();return Date.now()-Number(a==null?void 0:a.getItem(i))<j()}g.sentMessage=a;g.hasSentMessagesRecently=b}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=e.isCommunityEvent,g=e.isMessageRequest,i=e.source;e=e.threadType;var j=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());d("MWChatInteraction").set(b,j);j={entrypoint:d("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(i),is_community_event:f===!0?"true":"false",is_message_request:g===!0?"true":"false",thread_type:e==null?"unknown":(h||(h=d("I64"))).to_string(e)};Object.entries(j).forEach(function(b){var c=b[0];b=b[1];a.addMetadata(c,String(b))});d("MessengerIntent").sentMessage();return a.onComplete(function(){delete d("MWChatInteraction").interactions[b]})}g.logSentHeroInteraction=a}),98);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","asyncToGeneratorRuntime","err","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){d("sendToSentQPLLogger").markSendToSentPoint(a,"received_successful_server_ack"),d("sendToSentQPLLogger").markSendToSentSuccess(a),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function k(a,b){d("sendToSentQPLLogger").markSendToSentFail(a,"send_message_server_error",c("err")("send_message_server_error")),d("MWChatInteraction").remove(d("MWChatInteraction").s2sKey(b))}function l(a){d("sendToSentQPLLogger").markSendToSentPoint(a,"sending_message")}function a(a){var c=a.db,e=a.isCommunityEvent,f=a.isMessageRequest,g=a.s2sInstanceKey,m=a.source,n=a.threadType,o=a.traceSendMessageAPI,p={isCommunityEvent:e,isMessageRequest:f,mwVersion:d("MWVersion").v2,source:m,threadType:n};return function(a){d("MWLSLogSend").logSentHeroInteraction(o,a,p);d("MWChatInteraction").set(d("MWChatInteraction").s2sKey(a),String(g));d("sendToSentQPLLogger").addSendToSentAnnotations(g,{bool:{subscription_points_gk:!0},string:{entrypoint:d("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(m),is_community_event:e===!0?"true":"false",is_message_request:f===!0?"true":"false",thread_type:n==null?"unknown":(h||(h=d("I64"))).to_string(n)}});var q=!1,r=d("ReQL").fromTableAscending(c.tables.messages.index("optimistic")).getKeyRange(a),s=d("ReQLSubscribe").subscribeToFirst(r,function(b){b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(2))?(q=!0,j(g,a),s()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(4))?(q=!0,k(g,a),s()):b!=null&&(h||(h=d("I64"))).equal(b.sendStatusV2,(i||(i=d("LSIntEnum"))).ofNumber(1))&&l(g)});window.setTimeout(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!q){var a=(yield d("ReQL").firstAsync(r));q||d("sendToSentQPLLogger").addSendToSentAnnotations(g,{string:{status_after_10s:a?""+(i||(i=d("LSIntEnum"))).toNumber(a.sendStatusV2):"none"}})}}),1e4);window.setTimeout(function(){s()},6e4)}}g["default"]=a}),98);
__d("useMWLSDefaultThreadSourceWithResetBasedOnThreadType",["LSThreadAttributionTypeUtil","MWGenAIUtils","react","useLSMessagingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useLSMessagingSource")();return i(function(b){return d("MWGenAIUtils").isMetaAIThread(b)?d("LSThreadAttributionTypeUtil").getSourceWithoutReset(b,a):d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(b,a)},[a])}g["default"]=a}),98);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","asyncToGeneratorRuntime","isInstamadillo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return b?i(a,b):c()}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(!c("isInstamadillo")())return{openEb:!1,pluginType:void 0};var e=(yield a.messages.index("messageId").get(b.messageId));if(!d("IGDInstamadilloUtils").isInstamadilloMessage(e))return{openEb:!1,pluginType:void 0};e=(yield a.e2ee_igMessageAuxiliaryInfo.get(b.messageId));a=Boolean(e==null?void 0:e.openEb);return{openEb:a,pluginType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO)}});return j.apply(this,arguments)}g.IGDGetMessagePluginInfo=a}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function a(a,b,e,f,g,j,k,l,m,n,o,p){var q=n!=null&&(h||(h=d("LSIntEnum"))).unwrapIntEnum(n)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO,r=q?1:0;i.onReady(function(c){return c.log(a,{actor:f,additionalTags:q?["armadillo_express"]:void 0,attachmentFbids:j,attachmentType:l,backend:r,ephemeralDurationInSec:p,hasReply:m,isInstamadilloTTLC:o,offlineThreadingId:g,sendType:0,source:k,threadKey:b,threadType:e})})}g.log=a}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","gkx","isMWBumpMessage","justknobx","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(k||d("react")).useContext;function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(l||(l=d("I64"))).minus_one,tags:b}))});return o.apply(this,arguments)}function a(a){var e=a.authorityLevel,g=a.disableMarkRead,k=a.ephemeralDurationInSec,o=a.onOptimisticMessageCreation,p=a.skipUrlPreviewGen,q=a.threadKey,r=a.threadType,s=d("MWPActor.react").useActor();a=m(d("MWPReplyContext.react").MWPReplyContext);var t=a.reply,u=c("useLSMessagingInitiatingSource")(),v=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return(t==null?void 0:t.messageId)==null?d("ReQL").empty():d("ReQL").fromTableAscending(v.tables.messages.index("messageId")).getKeyRange(t.messageId)},[t==null?void 0:t.messageId,v.tables.messages],f.id+":134");var w=c("isMWBumpMessage")(a==null?void 0:a.replyType)?a==null?void 0:a.replySourceId:t==null?void 0:t.messageId;return d("Int64Hooks").useCallbackInt64(function(a,f){var i=f.accessibilityLabel,m=f.afterSend,x=f.attributionAppId,y=f.dataclassParams,z=f.dataTraceId,A=f.externalAttachmentUrl,B=f.hotEmojiSize,C=f.logSendPoint,D=f.mentionData,E=f.messageText,F=f.messageTypeParams,G=f.multitabEnv,H=f.optimisticAttachmentPreview,I=f.platformToken,J=f.pluginType,K=f.profileRanges,L=f.richTextFormatType,M=f.s2sInstanceKey,N=f.setupS2SLogging,O=f.source,P=f.stickerID,Q=f.traceSendMessageAPI,R=f.transaction;return S(R);function S(a){return T.apply(this,arguments)}function T(){T=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var v=c("LSFactory")(f),S=c("gkx")("24135");yield n(f,(l||(l=d("I64"))).to_string(q),z);var T=F.hasAttachment;T=T===void 0?!1:T;var U=F.hasGif;U=U===void 0?!1:U;var V=F.hasHotEmoji;V=V===void 0?!1:V;var W=F.hasLinks;W=W===void 0?!1:W;var X=F.hasSticker;X=X===void 0?!1:X;var Y=F.hasText;Y=Y===void 0?!1:Y;var Z=(yield f.threads.get(q)),$=W?d("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(Z):d("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(Z);Z=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(f,t,function(){return(h||(h=b("Promise"))).resolve({openEb:$,pluginType:$?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):J})}));f=Z.openEb;Z=Z.pluginType;v=(yield c("LSOptimisticSendMessageV2StoredProcedure")(v,{dataclassParams:y!=null?JSON.stringify(y):void 0,extraSendMessageParams:d("LSShape").ofRecord({attribution_app_id:x,calculate_denormalizations:!1,data_trace_id:z!=null?z:void 0,ephemeral_duration_in_sec:k,external_attachment_url:A,hot_emoji_size:B,initiating_source:u,mark_read:g===!0?!1:(l||(l=d("I64"))).ge(e,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),mention_data:D,multitab_env:G,openEb:f,optimistic_attachment_preview:H,platform_token:I,plugin_type:Z,power_up_style:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),qpl_instance_key:M.toString(),reply_source_id:w,reply_source_type:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:L,skip_url_preview_gen:p,source:O,sticker_id:P,text_has_links:W&&S}),mailboxType:j.ofNumber(c("LSMailboxType").MESSENGER),metadataDataclass:c("justknobx")._("4710")?JSON.stringify({media_accessibility_metadata:{alt_text:U?i:null}}):null,senderId:s,text:E,threadKey:q,threadType:r}));C("create_optimistic_message_end");d("MWPSendMessageLogger").log(a,q,r,s,void 0,[],O,c("MessagingAttachmentType").NONE,t!=null,Z,$,k);if(!T||U||X||V){S=v[0];N(S);Q.addAnnotationBoolean("is_instamadillo_ttlc",$&&f===!0);d("sendToSentQPLLogger").addSendToSentAnnotations(M,{bool:{is_instamadillo_ttlc:$&&f===!0}})}o!=null&&o({TAG:0,hasLink:W,hasMention:K!=null&&K.length>0,isGIF:U,isReply:!!(t&&t.messageId!==""),isSticker:X,isText:Y,offlineThreadingId:v[0]});m!=null&&(yield m(R));return v});return T.apply(this,arguments)}},[q,t,k,u,g,e,w,p,s,r,o])}g["default"]=a}),98);
__d("useMWV2SendOpenMessageImpl",["useMWV2SendOpenMessageImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.disableMarkRead,d=a.ephemeralDurationInSec,e=a.onOptimisticMessageCreation,f=a.skipUrlPreviewGen;a=a.thread;return c("useMWV2SendOpenMessageImplShared")({authorityLevel:a.authorityLevel,disableMarkRead:b,ephemeralDurationInSec:d,onOptimisticMessageCreation:e,skipUrlPreviewGen:f,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=(h||(h=d("I64"))).to_int32(a);switch(a){case c("MessagingAttachmentType").NONE:return 1;case c("MessagingAttachmentType").STICKER:return 4;case c("MessagingAttachmentType").IMAGE:return 8;case c("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case c("MessagingAttachmentType").VIDEO:return 10;case c("MessagingAttachmentType").AUDIO:return 11;case c("MessagingAttachmentType").FILE:return 9;case c("MessagingAttachmentType").XMA:return 13;case c("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case c("MessagingAttachmentType").SELFIE_STICKER:return 22;case c("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}g.convertI64ToAttachmentType=a}),98);
__d("MessengerWebEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("230");b=d("FalcoLoggerInternal").create("messenger_web_events",a);e=b;g["default"]=e}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(h||(h=d("I64"))).zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:b,traceType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK)})}function a(a,b,e,f){return j(a,b).then(function(){return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:b,syncChannel:(h||(h=d("I64"))).neg_one,tags:h.to_string(e)+","+h.to_string(f)})})}g.logMediaSendStart=a}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","Promise","asyncToGeneratorRuntime","gkx","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c,d){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(i||(i=d("I64"))).of_int32(e)))});return k.apply(this,arguments)}function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){e!=null&&c("gkx")("23995")&&(yield c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:d("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:e,syncChannel:(i||(i=d("I64"))).minus_one,tags:b}))});return m.apply(this,arguments)}function a(a,b,c,d,e){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,k){var m=c("LSGenerateTraceId")(),n=k[0];n=d("MessagingLoggingUtils").convertI64ToAttachmentType(n.attachmentType);yield j(a,m,(i||(i=d("I64"))).of_int32(g.length),n);var o=0;n=g.map(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,g){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:b.attachment_type,inMessageIndex:(i||(i=d("I64"))).of_int32(g),isSecure:!1,offlineAttachmentId:b.attachment_fbid,offlineThreadingId:f,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})});g=k.find(function(a){return a.offlineAttachmentId===b.offline_attachment_id});if(g!=null){var h=g.fbid;h!=null&&(yield c("LSMarkSubJobCompletedV2StoredProcedure")(c("LSFactory")(a),{fbid:h,offlineAttachmentId:b.attachment_fbid}),yield d("MWPOpenComposerUtils").deleteMediaStaging(a,b.attachment_fbid),yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{attachmentFbid:(i||(i=d("I64"))).to_string(h)})}),o++)}c("gkx")("24136")&&(yield d("MWPOpenComposerUtils").updateAttachment(a,e,f,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{previewHeight:void 0,previewWidth:void 0})}))});return function(a,b){return g.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(n);yield d("MWPOpenComposerUtils").resumeSendJob(c("LSFactory")(a),f,m);yield l(a,i.to_string(e),m);yield c("updateAndFlushLSDataTrace")(a,m);return{sentWithAllFilesUploaded:o===g.length}});return n.apply(this,arguments)}g["default"]=a}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","Promise","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){c("promiseDone")(c("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:f}));f=e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield d("MWPOpenComposerUtils").updateMediaStaging(a,b.attachment_fbid,function(a){return babelHelpers["extends"]({},a,{isSent:!0})})});return function(a){return c.apply(this,arguments)}}());yield (h||(h=b("Promise"))).allSettled(f)});return i.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenStagedMedia",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","MessengerWebUXLogger","Promise","asyncToGeneratorRuntime","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function a(a,e,f,g){var i=d("MWPActor.react").useActor(),m=l(d("MWPReplyContext.react").MWPReplyContext),n=m.reply,o=c("useLSMessagingInitiatingSource")(),p=d("LSThreadBitOffset").has(40,f),q=c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(){var l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(l,m){var r=m.isFirstMessage;r=r===void 0?!1:r;var s=m.isFirstMessageText,t=m.mediaStagings,u=m.pluginType,v=m.s2sInstanceKey,w=m.sendFirstMessageSeparately;w=w===void 0?!1:w;var x=m.setupS2SLogging,y=m.source,z=m.traceSendMessageAPI;m=m.transaction;if(t.length===0)return;var A=!1;if(t.length===1){var B=t[0];(k||(k=d("I64"))).to_int32(B.attachmentType)===c("MessagingAttachmentType").IMAGE?A=d("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(f):(k||(k=d("I64"))).to_int32(B.attachmentType)===c("MessagingAttachmentType").VIDEO&&(A=d("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(f))}B=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(m,n,function(){return(h||(h=b("Promise"))).resolve({openEb:A,pluginType:A?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):u})}));var C=B.openEb;B=B.pluginType;var D=t[0];D=d("MessagingLoggingUtils").convertI64ToAttachmentType(D.attachmentType);var E=d("MWPComposerMediaUploadUtil").createPartitionedAttachments(t,p,g),F=!0;for(var G=0;G<E.length;G++)if(!r||!w||G===0&&r&&!s){var H=E[G],I=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(c("LSFactory")(m),{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray(H.map(d("LSShape").ofRecord)),ephemeral_duration_in_sec:a,external_attachment_url:void 0,initiating_source:o,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:B,reply_source_id:n==null?void 0:n.messageId,reply_source_type:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:n!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:y}),senderId:i,threadKey:f.threadKey,threadType:f.threadType}));I=I[0];G===0&&(x(I),z.addAnnotationBoolean("is_instamadillo_ttlc",A&&C===!0),d("sendToSentQPLLogger").addSendToSentAnnotations(v,{bool:{is_instamadillo_ttlc:A&&C===!0}}));yield m.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:o,markThreadRead:!1,messageId:void 0,offlineThreadingId:I,openEb:C,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(k||(k=d("I64"))).of_string(I),threadAttributionSource:y,threadKey:f.threadKey});e==null||e({TAG:2,numberOfAttachments:H.length,offlineThreadingId:I});if(B!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(B)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO)yield c("issueSendInstamadilloMediaMessage")(m,H,I);else{var J=(yield c("issueLSMediaSendJobs")(m,f.threadKey,I,H,t));F=F&&J.sentWithAllFilesUploaded}d("MWPSendMessageLogger").log(l,f.threadKey,f.threadType,i,I,H.map(function(a){return a.attachment_fbid}),y,D,n!=null,B,A,a)}p===!1&&(q==null||q({eventName:"media_collection_message_sent"}));J=(k||(k=d("I64"))).to_string(f.threadKey);I=d("LSMessagingThreadTypeUtil").isGroup(f.threadType)?[J,null]:[null,J];var K=I[0],L=I[1];c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:F?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:L,thread_fbid:K}})});return function(a,b){return l.apply(this,arguments)}}(),[n,p,f,a,o,i,e,q,g])}g["default"]=a}),98);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","asyncToGeneratorRuntime","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c,e){if(a==null)return;if(!a.startsWith("blob:"))return;var f={contents:function(){}};f.contents=d("ReQL").fromTableAscending(c.tables.attachments).getKeyRange(e).subscribe(function(c,d){if(d.operation==="put"){c=d.value;if(c.attachmentFbid!==b.toString())return;d=c.playableUrl;d!=null&&!d.startsWith("blob:")&&(f.contents(),URL.revokeObjectURL(a))}})}function a(a,b,c,d,e,f,g,h,i,k,l){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,j,k,l,m,n,o,p,q){yield c("LSInsertNewMediaSendStoredProcedure")(c("LSFactory")(a),{attachmentType:m.attachment_type,inMessageIndex:(h||(h=d("I64"))).zero,isSecure:!1,offlineAttachmentId:k,offlineThreadingId:l,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});a=function(a,g){if(g==null||g.length===0)return;var n=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("LSDatabaseSingletonLazyWrapper")());return a.runInTransaction(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("LSFactory")(b);yield c("LSMarkSubJobCompletedV2StoredProcedure")(b,{fbid:(h||(h=d("I64"))).of_string(g),offlineAttachmentId:k});yield d("MWPOpenComposerUtils").resumeSendJob(b,l,j);i(m.playable_url,g,a,e)});return function(a){return f.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":99")});return function(){return a.apply(this,arguments)}}();c("promiseDone")(n(),function(){p==null||p(a)})};var r=function(a,b){q==null||q((b=b.response.getErrorDescriptionString())!=null?b:"unknown_upload_failure",a)};yield d("MWPComposerMediaUploadUtil").startUpload(o,void 0,a,r,!0,[n.file],[k],void 0,void 0,n.waveformData,void 0,h.to_string(g))});return j.apply(this,arguments)}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MWPReplyContext.react","MessagingLoggingUtils","OfflineThreadingId","Promise","asyncToGeneratorRuntime","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useContext;function m(a,b,c,d){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){b!=null&&(yield d("MWMediaTraceHandler").logMediaSendStart(a,b,c,(k||(k=d("I64"))).of_int32(e)))});return n.apply(this,arguments)}function a(a){var e=a.ephemeralDurationInSec,f=a.onOptimisticMessageCreation,g=a.onUploadFailure,i=a.onUploadStart,n=a.onUploadSuccess,o=a.sendMessageLogger,p=a.skipUrlPreviewGen,q=a.threadKey,r=a.threadType,s=d("MWPActor.react").useActor();a=l(d("MWPReplyContext.react").MWPReplyContext);var t=a.reply,u=c("useLSMessagingInitiatingSource")();return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,l){var v=l.dataTraceId,w=l.pluginType,x=l.s2sInstanceKey,y=l.setupS2SLogging,z=l.source,A=l.traceSendMessageAPI,B=l.transaction;l=l.voiceClip;var C=c("LSFactory")(B),D=d("OfflineThreadingId").createOfflineThreadingID(),E=d("MWPComposerMediaUploadUtil").getAudioAttachment(D,l.file,l.duration,l.waveformData);yield m(B,v,(k||(k=d("I64"))).one,2);var F=(yield B.threads.get(q)),G=d("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(F);F=(yield d("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(B,t,function(){return(h||(h=b("Promise"))).resolve({openEb:G,pluginType:G?(j||(j=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):w})}));var H=F.openEb;F=F.pluginType;C=(yield c("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(C,{extraSendMessageParams:d("LSShape").ofRecord({attachments:c("LSVec").ofArray([d("LSShape").ofRecord(E)]),ephemeral_duration_in_sec:e,external_attachment_url:void 0,initiating_source:u,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:F,reply_source_id:t==null?void 0:t.messageId,reply_source_type:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:t!=null?(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:z}),senderId:s,threadKey:q,threadType:r}));C=C[0];y(C);A.addAnnotationBoolean("is_instamadillo_ttlc",G&&H===!0);d("sendToSentQPLLogger").addSendToSentAnnotations(x,{bool:{is_instamadillo_ttlc:G&&H===!0}});yield B.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:u,markThreadRead:!1,messageId:void 0,offlineThreadingId:C,openEb:H,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:p,taskId:k.of_string(C),threadAttributionSource:z,threadKey:q});f!=null&&f({TAG:1,offlineThreadingId:C});F!=null&&(j||(j=d("LSIntEnum"))).unwrapIntEnum(F)===c("LSPendingTasksPluginType").IGD_INSTAMADILLO?yield c("issueSendInstamadilloMediaMessage")(B,[E],C):yield c("issueLSAudioMediaSendJob")(B,q,s,v,D,C,E,l,i,n,g);o(a,{actor:s,attachmentFbids:[E.attachment_fbid],attachmentType:d("MessagingLoggingUtils").convertI64ToAttachmentType(E.attachment_type),hasReply:t!=null,isInstamadilloTTLC:H,key:q,offlineThreadingId:C,pluginType:F,source:z,type:r})});return function(b,c){return a.apply(this,arguments)}}(),[q,e,u,t,s,r,p,f,o,i,n,g])}g["default"]=a}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","useMWV2SendOpenVoiceClipImplShared"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.ephemeralDurationInSec,e=a.onOptimisticMessageCreation,f=a.onUploadFailure,g=a.onUploadStart,h=a.onUploadSuccess,i=a.skipUrlPreviewGen;a=a.thread;var j=d("Int64Hooks").useCallbackInt64(function(a,c){var e=c.actor,f=c.attachmentFbids,g=c.attachmentType,h=c.hasReply,i=c.isInstamadilloTTLC,j=c.key,k=c.offlineThreadingId,l=c.pluginType,m=c.source;c=c.type;e!=null&&d("MWPSendMessageLogger").log(a,j,c,e,k,f,m,g,h,l,i,b)},[b]);return c("useMWV2SendOpenVoiceClipImplShared")({ephemeralDurationInSec:b,onOptimisticMessageCreation:e,onUploadFailure:f,onUploadStart:g,onUploadSuccess:h,sendMessageLogger:j,skipUrlPreviewGen:i,threadKey:a.threadKey,threadType:a.threadType})}g["default"]=a}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWPReplyContext.react","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","asyncToGeneratorRuntime","react","sendToSentQPLLogger","useAsyncReStore","useMWLSDefaultThreadSourceWithResetBasedOnThreadType","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function a(a){var e=a.disableMarkRead,g=a.ephemeralDurationInSec,h=a.isIGDW,l=a.onOptimisticMessageCreation,m=a.onUploadFailure,n=a.onUploadStart,o=a.onUploadSuccess,p=a.pluginType,q=a.skipUrlPreviewGen,r=a.thread,s=c("useAsyncReStore")();a=k(d("MWPReplyContext.react").MWPReplyContext);var t=a.reply,u=c("useMWLSDefaultThreadSourceWithResetBasedOnThreadType")(),v=c("useMWV2SendOpenVoiceClip")({ephemeralDurationInSec:g,onOptimisticMessageCreation:l,onUploadFailure:m,onUploadStart:n,onUploadSuccess:o,skipUrlPreviewGen:q,thread:r}),w=c("useMWV2SendOpenStagedMedia")(g,l,r,h),x=c("useMWV2SendOpenMessageImpl")({disableMarkRead:e!=null?e:!1,ephemeralDurationInSec:g,onOptimisticMessageCreation:l,skipUrlPreviewGen:q,thread:r}),y=d("LSMessagingThreadTypeUtil").isMessageRequest(r);a=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var z=a.onMessageSendAttempt;return d("Int64Hooks").useCallbackInt64(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,h,k,l,m,n,o,q,A,B,C,D,E,F,G,H,I,J){A===void 0&&(A=!1);B===void 0&&(B=!1);var K=!1;z==null||z(!0);function L(a){C.addMarkerPoint(a,"AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(D,a)}var M=u(r.threadKey),N=c("LSGenerateTraceId")(),O={contents:1};E=r.eventStartTimestampMs!=null;G=r.threadType;var P=(yield s),Q=c("MWV2SetupS2SLoggingShared")({db:P,isCommunityEvent:E,isMessageRequest:y,s2sInstanceKey:D,source:(i||(i=d("LSIntEnum"))).unwrapIntEnum(M),threadType:G,traceSendMessageAPI:C});H=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(P.tables.media_staging).filter(function(a){return!a.isSent&&(j||(j=d("I64"))).equal(a.threadKey,r.threadKey)})));var R=d("MWSharedS2SBaseAnnotations").getMessageTypeParams({externalAttachmentUrl:l,hotEmojiSize:h,mediaStagings:H,messageText:a,reply:t,stickerId:g,threadType:r.threadType,voiceClip:n}),S=(yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(r,R,i.unwrapIntEnum(M))),T=(yield d("MultipleTabsLogger").hasMultipleTabs());return P.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(C,R,r);d("sendToSentQPLLogger").addSendToSentAnnotations(D,S);if(n!=null){(A===!1||B===!0)&&(yield v(P,{dataTraceId:N,pluginType:p,s2sInstanceKey:D,setupS2SLogging:Q,source:M,traceSendMessageAPI:C,transaction:b,voiceClip:n}));return}var c=R.hasGif;c=c===void 0?!1:c;var f=R.hasHotEmoji;f=f===void 0?!1:f;var i=R.hasSticker;i=i===void 0?!1:i;var s=R.hasText;s=s===void 0?!1:s;i||f?O.contents=4:c&&(O.contents=6);var t=e!=null?d("LSShape").ofRecord({mention_ids:e.map(function(a){return a.id}).join(","),mention_lengths:e.map(function(a){return String(a.length)}).join(","),mention_offsets:e.map(function(a){return String(a.offset)}).join(","),mention_types:e.length!==0?e.map(function(a){return a.type}).join(","):void 0}):void 0;L("create_optimistic_message_start");if(s||i||f||c){K=!0;if(A===!1||B===!0){yield x(P,{accessibilityLabel:J,afterSend:q,attributionAppId:k,dataclassParams:I,dataTraceId:N,externalAttachmentUrl:l,hotEmojiSize:h,logSendPoint:L,mentionData:t,messageText:a,messageTypeParams:R,multitabEnv:T,optimisticAttachmentPreview:m,platformToken:o,pluginType:p,profileRanges:e,richTextFormatType:F,s2sInstanceKey:D,setupS2SLogging:Q,source:M,stickerID:g,traceSendMessageAPI:C,transaction:b});if(A===!0)return}}else q!=null&&(yield q(b));!i&&!c&&!f&&(yield w(P,{isFirstMessage:B,isFirstMessageText:K,mediaStagings:yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.media_staging).filter(function(a){return!a.isSent&&(j||(j=d("I64"))).equal(a.threadKey,r.threadKey)})),pluginType:p,s2sInstanceKey:D,sendFirstMessageSeparately:A,setupS2SLogging:Q,source:M,traceSendMessageAPI:C,transaction:b}))});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":237")});return function(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){return a.apply(this,arguments)}}(),[z,u,r,s,y,t,v,x,w,p])}g["default"]=a}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactListConversionAttributionStore","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","qpl","react","sendToSentQPLLogger","useCometInteractionTracing","useIGDChatTabsMessagingSource.react","useMWLSAcceptMessageRequest","useMWV2SendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useContext,l=e.useMemo;function a(a){var e=a.afterSendMessage,f=a.checkWAStorageForLogging,g=a.disableMarkRead,h=a.ephemeralDurationInSec,m=a.isIGDW,n=a.onOptimisticMessageCreation,o=a.onUploadFailure,p=a.onUploadStart,q=a.onUploadSuccess,r=a.pluginType,s=a.skipUrlPreviewGen,t=a.thread,u=d("MWPActor.react").useActor(),v=d("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(t.threadKey,t.threadType);a=k(d("MWPReplyContext.react").MWPReplyContext);var w=a.clearReply,x=t.threadSubtype,y=l(function(){return{is_community_event:(t.eventStartTimestampMs!=null).toString(),is_cutover:(!1).toString(),is_secure:(!1).toString(),thread_id:(i||(i=d("I64"))).to_string(t.threadKey),thread_subtype:x!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(x)?(i||(i=d("I64"))).to_string(x):"",thread_type:i.to_string(t.threadType)}},[t,x]),z=c("useMWLSAcceptMessageRequest")(t.threadKey),A=c("useCometInteractionTracing")(c("qpl")._(30605384,"573"),"fast","INTERACTION",void 0,y),B=c("useMWV2SendOpenMessage")({disableMarkRead:g,ephemeralDurationInSec:h,isIGDW:m,onOptimisticMessageCreation:n,onUploadFailure:o,onUploadStart:p,onUploadSuccess:q,pluginType:r,skipUrlPreviewGen:s,thread:t}),C=c("MessengerWebUXLogger").useInteractionLogger(),D=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),E=c("getInstamadilloLoggingExtraData")(t),F=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),G=c("useIGDChatTabsMessagingSource.react")(t.threadKey);return d("Int64Hooks").useCallbackInt64(function(a,g,h,k,l,n,o,p,q,r,s,x,H,I,J,K,L,M){s===void 0&&(s=!1);x===void 0&&(x=!1);if(m===!0){H=F==="ChatTab"&&G!=null?babelHelpers["extends"]({},E,{messaging_source:String(G)}):E;C==null||C({eventName:"send_message",extraData:H,flowInstanceId:D})}var N=d("LSMessagingThreadTypeUtil").isMessageRequest(t);A(function(m){var A=d("sendToSentQPLLogger").markSendToSentStart(f);d("sendToSentQPLLogger").addSendToSentAnnotations(A,{string:y});c("promiseDone")(B(a,g,h,k,l,n,o,p,q,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;r==null||r();if(!d("LSMessagingThreadTypeUtil").isOneToOne(t.threadType))return;b=(b=(yield d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(t.threadKey),d("ReQL").fromTableAscending(a.contacts)).filter(function(a){a[0];a=a[1];return!(i||(i=d("I64"))).equal(a.id,u)}))))==null?void 0:b[1];if(b==null)return;!(i||(i=d("I64"))).to_float(b.contactViewerRelationship)!==c("LSContactViewerRelationship").CONTACT_OF_VIEWER&&(yield a.contacts.put(babelHelpers["extends"]({},b,{contactViewerRelationship:(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)})))});return function(b){return a.apply(this,arguments)}}(),s,x,m,A,void 0,I,J,K,L,M),function(){var a=d("LSContactListConversionAttributionStore").getAttribution(v);a!=null&&(a.surface.entry_point==="comet_home_sidebar"?d("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(a):a.surface.entry_point==="inbox_tray"&&d("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(a),d("LSContactListConversionAttributionStore").resetAttribution(v));e();w(t.threadKey,!1);N&&(z(),d("MessageRequestsLog").logActionConfirmed(t,1))})})},[z,m,t,A,F,G,E,C,D,f,y,B,u,e,w,v])}g["default"]=a}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=void 0:(b=a.item,d[2]=b.threadType)})},function(b){return d[6]=["typing","_",c.i64.to_string(a[0])].join(""),c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[6]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("is_group_thread",a[1]),d[4].set("is_typing",a[2]),d[4].set("attribution",c.i64.cast([0,0])),d[4].set("sync_group",d[0]),d[4].set("thread_type",d[2]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[6],c.i64.cast([0,3]),d[5])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure";a.__tables__=["threads","pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendTypingIndicator"),e.threadKey,e.isGroupThread,e.isTyping);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSTypingIndicatorSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","asyncToGeneratorRuntime","mwCMIsAnyCMThread","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if((j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(1))&&!(j||(j=d("I64"))).equal(e,g)){e=(yield (i||(i=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads,["typingIndicatorDisabled"]).getKeyRange(e)),d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(j||(j=d("I64"))).equal(b.contactId,g)}))]));a=e[0];e=e[1];a=a==null?void 0:a.typingIndicatorDisabled;a=a!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSTypingIndicatorSettingState").DISABLED),a):!1;return e!=null&&!a}else return!c("mwCMIsAnyCMThread")(f)});return m.apply(this,arguments)}function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(h){if(!(j||(j=d("I64"))).ge(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(l(b,a.threadKey,a.threadType,e).then(function(e){if(e){g==null||g({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return b.runInTransaction(function(b){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(b),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:h,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":134")}}))},[a.authorityLevel,a.threadKey,a.threadType,b,e,g])}g["default"]=a}),98);
__d("IGDComposer.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","DisappearingMessagesMode","I64","IGDAiAgentsUtils","IGDChatTabsEnv","IGDChatTabsStateContext.react","IGDComposerEditContainer.react","IGDComposerReplyView.react","IGDComposerView.react","IGDDMModeContextProvider","IGDEqualityUtils","IGDInstamadilloUtils","IGDSupportedFileTypes","IGDThreadlineContext","LSIntEnum","LSPendingTasksPluginType","MAWEditMessageContext.react","MWMediaManager","MWPReplyContext.react","PolarisUA","react","react-compiler-runtime","useIGDMediaMangerUploadFailedToast","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage","useOnTypingStateChanged","useStableCallback","useStableValue"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;b.useCallback;var m=b.useContext;b.useMemo;function n(a){var b=d("react-compiler-runtime").c(53),e=a.onSendMessage;a=a.thread;var f=m(d("MWPReplyContext.react").MWPReplyContext),g=f.clearReply,i=f.reply;f=m(d("MAWEditMessageContext.react").Context);var k=f.editMessageData,n=f.setEditMessageData;f=m(d("IGDThreadlineContext").IGDThreadlineContext);f=f.isThreadlineComposerFocused;var p=c("useIGDMediaMangerUploadFailedToast")(),q;b[0]!==p||b[1]!==a?(q={showUploadFailureToast:p,thread:a},b[0]=p,b[1]=a,b[2]=q):q=b[2];p=d("MWMediaManager").useMediaManager(q);q=p.handleFileSelect;var r=c("useOnTypingStateChanged")(a),s=a.threadSubtype,t;b[3]!==s?(t=d("IGDAiAgentsUtils").isAiThread(s),b[3]=s,b[4]=t):t=b[4];s=t;c("useMWV2FileDropzoneRegisterHandler")(q);b[5]!==p.mediaStaging||b[6]!==e||b[7]!==r||b[8]!==a.threadKey?(t={composerEntrypointForLogging:"IGDOpenComposer",isPreviewThread:!1,mediaStaging:p.mediaStaging,onSendMessage:e,onTypingStateChanged:r,threadKey:a.threadKey},b[5]=p.mediaStaging,b[6]=e,b[7]=r,b[8]=a.threadKey,b[9]=t):t=b[9];p=c("useMWPComposerEditor")(t);var u=p.editor;r=p.editorElementRef;t=p.hasStuffToSend;p=p.sendMessage;var v;b[10]!==u||b[11]!==e?(v=function(){for(var b=arguments.length,a=new Array(b),c=0;c<b;c++)a[c]=arguments[c];var d=a;e.apply(void 0,d);u.focus(o)},b[10]=u,b[11]=e,b[12]=v):v=b[12];v=v;var w=a.threadKey,x=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch(),y=d("IGDChatTabsEnv").useIsChatTabsDisplay(),z;b[13]!==g||b[14]!==x||b[15]!==k||b[16]!==y||b[17]!==i||b[18]!==n||b[19]!==w?(z=function(){if(!i&&!k)if(y)x==null||x({threadKey:(j||(j=d("I64"))).to_string(w),type:"close_tab"});else return;k?n(null):i&&g(w,!0)},b[13]=g,b[14]=x,b[15]=k,b[16]=y,b[17]=i,b[18]=n,b[19]=w,b[20]=z):z=b[20];z=z;var A;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(A={key:c("CometKeys").ESCAPE},b[21]=A):A=b[21];var B;b[22]!==k||b[23]!==y||b[24]!==i?(B=!i&&y&&h._(/*BTDS*/"Close chat tab")||i&&h._(/*BTDS*/"Cancel reply")||k&&h._(/*BTDS*/"Cancel edit")||"",b[22]=k,b[23]=y,b[24]=i,b[25]=B):B=b[25];b[26]!==z||b[27]!==B?(A=[{command:A,description:B,handler:z,triggerFromInputs:!0}],b[26]=z,b[27]=B,b[28]=A):A=b[28];z=A;B=z;b[29]!==f||b[30]!==i||b[31]!==a?(A=i!=null&&!f?l.jsx(c("IGDComposerReplyView.react"),{messageId:i.messageId,messageTimestamp:i.timestampMs,thread:a}):null,b[29]=f,b[30]=i,b[31]=a,b[32]=A):A=b[32];b[33]!==k||b[34]!==a?(z=k!=null&&l.jsx(c("IGDComposerEditContainer.react"),{editMessageData:k,thread:a}),b[33]=k,b[34]=a,b[35]=z):z=b[35];var C;b[36]!==k||b[37]!==u||b[38]!==r||b[39]!==t||b[40]!==s||b[41]!==f||b[42]!==q||b[43]!==v||b[44]!==i||b[45]!==p||b[46]!==a?(C=k==null?l.jsx(c("IGDComposerView.react"),{attachmentsSupported:i==null||f,editor:u,editorElementRef:r,emojisSupported:!d("PolarisUA").isMobile()&&!s,hasStuffToSend:t,onAttachmentsAdded:q,onSendMessage:v,policyProduct:"messaging_lightswitch",sendMessage:p,supportedFileTypes:d("IGDSupportedFileTypes").getIGDSupportedFileTypes(d("PolarisUA").isMobile()),surface:"mwp_igd_composer",thread:a}):null,b[36]=k,b[37]=u,b[38]=r,b[39]=t,b[40]=s,b[41]=f,b[42]=q,b[43]=v,b[44]=i,b[45]=p,b[46]=a,b[47]=C):C=b[47];b[48]!==B||b[49]!==z||b[50]!==C||b[51]!==A?(r=l.jsx("div",{children:l.jsxs(c("CometComponentWithKeyCommands.react"),{commandConfigs:B,children:[A,z,C]})}),b[48]=B,b[49]=z,b[50]=C,b[51]=A,b[52]=r):r=b[52];return r}function o(){}function a(a){var b=d("react-compiler-runtime").c(19),e=a.afterSendMessage;a=a.thread;var f=m(d("IGDDMModeContextProvider").IGDDMModeContext),g=f.dmMode;f=f.lastSetTtlSec;var h;b[0]!==a?(h=d("IGDInstamadilloUtils").isInstamadilloTransportEnabled(a)?(k||(k=d("LSIntEnum"))).ofNumber(c("LSPendingTasksPluginType").IGD_INSTAMADILLO):void 0,b[0]=a,b[1]=h):h=b[1];h=h;var i;b[2]!==g||b[3]!==f?(i=g===c("DisappearingMessagesMode").ON&&f!=null?(j||(j=d("I64"))).of_int32(f):void 0,b[2]=g,b[3]=f,b[4]=i):i=b[4];g=p(a,e,h,i);b[5]!==a.authorityLevel||b[6]!==a.capabilities||b[7]!==a.capabilities2||b[8]!==a.capabilities3||b[9]!==a.capabilities4||b[10]!==a.capabilities5||b[11]!==a.consistentThreadFbid||b[12]!==a.threadKey||b[13]!==a.threadSubtype||b[14]!==a.threadType?(f={authorityLevel:a.authorityLevel,capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,consistentThreadFbid:a.consistentThreadFbid,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},b[5]=a.authorityLevel,b[6]=a.capabilities,b[7]=a.capabilities2,b[8]=a.capabilities3,b[9]=a.capabilities4,b[10]=a.capabilities5,b[11]=a.consistentThreadFbid,b[12]=a.threadKey,b[13]=a.threadSubtype,b[14]=a.threadType,b[15]=f):f=b[15];e=d("useStableValue").useStableValue(f,d("IGDEqualityUtils").shallowEqualI64);b[16]!==g||b[17]!==e?(h=l.jsx(n,{onSendMessage:g,thread:e}),b[16]=g,b[17]=e,b[18]=h):h=b[18];i=h;return i}function p(a,b,e,f){var g=d("react-compiler-runtime").c(5),h;g[0]!==b||g[1]!==f||g[2]!==e||g[3]!==a?(h={afterSendMessage:b,ephemeralDurationInSec:f,isIGDW:!0,pluginType:e,skipUrlPreviewGen:!1,thread:a},g[0]=b,g[1]=f,g[2]=e,g[3]=a,g[4]=h):h=g[4];b=c("useMWV2OnSendOpenMessage")(h);return c("useStableCallback")(b)}g["default"]=a}),226);
__d("IGDDisappearingMessagesBlockedComposer.react",["fbt","MWXComposerBanner.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.extraLoggingData;a=a.loggingEventName;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Disappearing messages aren't available on Instagram.com yet"),b[0]=f):f=b[0];f=f;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"To send and receive new messages in this chat, use the Instagram app."),b[1]=g):g=b[1];g=g;var i;b[2]!==e||b[3]!==a?(i={eventName:a,extraData:e},b[2]=e,b[3]=a,b[4]=i):i=b[4];e=c("MessengerWebUXLogger").useImpressionLoggerRef(i);b[5]!==e?(a=j.jsx(c("MWXComposerBanner.react"),{bodyText:g,headerText:f,ref:e}),b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("XInstagramHelpDotComContentControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{cms_id}/{?cms_title}/",Object.freeze({region_hint:[],expand_folders:[],force_new_ighc:!1}),void 0);b=a;g["default"]=b}),98);
__d("IGDReachableInviteBanner.react",["fbt","FBLogger","I64","IGDInviteModelUtils","Link.react","MWPActor.react","MWXComposerBanner.react","MessengerWebUXLogger","ReQL","ReQLSuspense","XInstagramHelpDotComContentControllerRouteBuilder","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.loggingEventName,g=a.threadKey,k=(i||(i=c("useReStore")))(),m=d("MWPActor.react").useActor();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(k.tables.participants).getKeyRange(g).filter(function(a){a=a.contactId;return!(j||(j=d("I64"))).equal(a,m)}),d("ReQL").fromTableAscending(k.tables.contacts))},[k.tables.contacts,k.tables.participants,g,m],f.id+":36"))!=null?a:[null,null];a=a[1];var n;b[0]!==e?(n={eventName:e},b[0]=e,b[1]=n):n=b[1];e=c("MessengerWebUXLogger").useImpressionLoggerRef(n);if(a==null){c("FBLogger")("igd_web").mustfix("Contact data is null in IGDReachableInviteBanner");return null}if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){n=(n=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"477434105621119"}).setDomain("help.instagram.com"))==null||(n=n.setProtocol("https"))==null?void 0:n.toString();b[2]=n}else n=b[2];n=n;var o;b[3]!==a.name||b[4]!==a.secondaryName?(o=h._(/*BTDS*/"Invite {name} ({secondaryName}) to chat",[h._param("name",a.name),h._param("secondaryName",a.secondaryName)]),b[3]=a.name,b[4]=a.secondaryName,b[5]=o):o=b[5];a=o;b[6]!==n?(o=h._(/*BTDS*/"You can only send one message in this invite. Remember to follow our {link} and be respectful when messaging others for the first time.",[h._param("link",l.jsx(c("Link.react"),{href:n,children:"Community Standards"}))]),b[6]=n,b[7]=o):o=b[7];n=o;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"You can send one message in this request. Once they accept, you can send more messages."),b[8]=o):o=b[8];o=o;var p=d("IGDInviteModelUtils").shouldUseInviteModelV2();o=p?o:n;n=p?void 0:a;b[9]!==e||b[10]!==o||b[11]!==n?(p=l.jsx(c("MWXComposerBanner.react"),{bodyText:o,headerText:n,ref:e}),b[9]=e,b[10]=o,b[11]=n,b[12]=p):p=b[12];return p}g["default"]=a}),226);
__d("IGDTLCBlockedComposer.react",["fbt","IGDThreadListNewMessageLoggingDataContext","MWXComposerBanner.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.extraLoggingData;a=a.loggingEventName;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"End-to-end encrypted messages aren't available on Instagram.com yet"),b[0]=f):f=b[0];f=f;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"To send and receive new messages in this chat, use the Instagram app."),b[1]=g):g=b[1];g=g;var i=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),k;b[2]!==e||b[3]!==i||b[4]!==a?(k={eventName:a,extraData:e,flowInstanceId:i},b[2]=e,b[3]=i,b[4]=a,b[5]=k):k=b[5];e=c("MessengerWebUXLogger").useImpressionLoggerRef(k);b[6]!==e?(i=j.jsx(c("MWXComposerBanner.react"),{bodyText:g,headerText:f,ref:e}),b[6]=e,b[7]=i):i=b[7];return i}g["default"]=a}),226);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("MWPartnershipThreadUnavailableComposer.react",["fbt","MWXComposerBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Creator can\u2019t receive partnership messages right now.");function a(){return j.jsx(c("MWXComposerBanner.react"),{bodyText:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",babelHelpers["extends"]({className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno"},{children:j.jsx(c("MDSTextPairing.react"),{headline:h._(/*BTDS*/"Something isn't working."),headlineColor:"secondary",level:4,meta:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._(/*BTDS*/"This may be because of a technical error we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("usePrecompileURLMatcher",["URLMatcher","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=!1;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=[],a[0]=b):b=a[0];i(k,b)}function k(){if(j)return;j=!0;c("URLMatcher").compilePermissiveHostPathMatcher()}g["default"]=a}),98);
__d("IGDComposerCommon.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","I64","IGDComposer.react","IGDDisappearingMessagesBlockedComposer.react","IGDInstamadilloUtils","IGDInviteModelUtils","IGDReachableInviteBanner.react","IGDTLCBlockedComposer.react","JSResourceForInteraction","LSContactBitOffset","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSNullstateCTAType","MWCMThreadTypes.react","MWPartnershipThreadUnavailableComposer.react","MWV2ErrorComposer.react","ReQL","ReQLSuspense","ThreadStatus","WebUXLoggingSurfaceContextProvider","getInstamadilloLoggingExtraData","isFeatureLimitEnabled","lazyLoadComponent","react","react-compiler-runtime","useContactReachabilityStatus","useIsReadOnlyFeatureLimited","usePrecompileURLMatcher","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDFeatureLimitsBlockedComposer.react").__setRef("IGDComposerCommon.react")),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("IGDComposerCommon.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("IGDComposerCommon.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDComposerRestricted.react").__setRef("IGDComposerCommon.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDUnavailableComposer.react").__setRef("IGDComposerCommon.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDBlockedUserComposer.react").__setRef("IGDComposerCommon.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDChannelEndedComposer.react").__setRef("IGDComposerCommon.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDInviteSentComposer.react").__setRef("IGDComposerCommon.react"));function u(a){var b=d("react-compiler-runtime").c(3);a=a.height;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=l.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}function v(a){var b=d("react-compiler-runtime").c(9),e=a.afterSendMessage,f=a.showReachableInviteBanner;a=a.thread;var g;b[0]!==f||b[1]!==a?(g=f&&l.jsx(c("IGDReachableInviteBanner.react"),{loggingEventName:"igd_invite_model_reachable_banner",threadKey:a.threadKey}),b[0]=f,b[1]=a,b[2]=g):g=b[2];b[3]!==e||b[4]!==a?(f=l.jsx(c("IGDComposer.react"),{afterSendMessage:e,thread:a}),b[3]=e,b[4]=a,b[5]=f):f=b[5];b[6]!==g||b[7]!==f?(e=l.jsx(c("CometErrorBoundary.react"),{fallback:w,children:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsxs(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_chat_composer",children:[g,f]})})}),b[6]=g,b[7]=f,b[8]=e):e=b[8];return e}function w(){return l.jsx(c("MWV2ErrorComposer.react"),{})}w.displayName=w.name+" [from "+f.id+"]";function x(a){var b=d("react-compiler-runtime").c(8),e=a.afterSendMessage;a=a.thread;var f=a.cannotReplyReason==="viewer_not_subscribed"||a.cannotReplyReason==="read_only",g=a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED)),h=a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype),i=a.cannotReplyReason==="partnership_thread_disabled_for_creator";if(f){b[0]!==a?(f=l.jsx(n,{thread:a}),b[0]=a,b[1]=f):f=b[1];return f}else if(h&&g){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(s,{}),b[2]=f):f=b[2];return f}else if(i){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWPartnershipThreadUnavailableComposer.react"),{}),b[3]=h):h=b[3];return h}else if(a.cannotReplyReason!=null){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(o,{}),b[4]=g):g=b[4];return g}b[5]!==e||b[6]!==a?(f=l.jsx(v,{afterSendMessage:e,showReachableInviteBanner:!1,thread:a}),b[5]=e,b[6]=a,b[7]=f):f=b[7];return f}function y(a){var b=d("react-compiler-runtime").c(25),e=a.afterSendMessage,f=a.otherUser;a=a.thread;var g=!(j||(j=d("I64"))).equal(f.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)),h=d("LSContactBitOffset").has(0,f),i=d("LSContactBitOffset").has(1,f);h=!h||!i;i=f.blockedSinceTimestampMs!=null?!1:h;h=f.contactReachabilityStatusType;var m;b[0]!==h?(m=d("IGDInviteModelUtils").shouldShowTextOnlyComposerWithBanner(h),b[0]=h,b[1]=m):m=b[1];m=m;var n=d("IGDInviteModelUtils").shouldShowBlockComposer(h),o=d("IGDInviteModelUtils").shouldShowTextOnlyComposer(h);h=h!=null?(j||(j=d("I64"))).equal((k||(k=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").REACHABLE),h)||m||o||n:!0;o=d("LSContactBitOffset").has(66,f);var s=d("IGDInstamadilloUtils").isInstamadilloCutover(a),w=d("IGDInstamadilloUtils").isDMHardblockedEnabled(a),x;b[2]!==a?(x=c("getInstamadilloLoggingExtraData")(a),b[2]=a,b[3]=x):x=b[3];x=x;if(h)if(g){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(u,{height:189}),b[4]=h):h=b[4];b[5]!==f||b[6]!==a?(g=l.jsx(c("CometPlaceholder.react"),{fallback:h,children:l.jsx(r,{contact:f,thread:a})}),b[5]=f,b[6]=a,b[7]=g):g=b[7];return g}else if(o){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(u,{height:128}),b[8]=h):h=b[8];b[9]!==f||b[10]!==a?(g=l.jsx(c("CometPlaceholder.react"),{fallback:h,children:l.jsx(p,{contact:f,thread:a})}),b[9]=f,b[10]=a,b[11]=g):g=b[11];return g}else if(i){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(q,{}),b[12]=o):o=b[12];return o}else if(s){b[13]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(u,{height:128}),b[13]=h):h=b[13];b[14]!==x?(f=l.jsx(c("CometPlaceholder.react"),{fallback:h,children:l.jsx(c("IGDTLCBlockedComposer.react"),{extraLoggingData:x,loggingEventName:"igd_fallback_thread_disabled"})}),b[14]=x,b[15]=f):f=b[15];return f}else if(w){b[16]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(u,{height:128}),b[16]=g):g=b[16];b[17]!==x?(i=l.jsx(c("CometPlaceholder.react"),{fallback:g,children:l.jsx(c("IGDDisappearingMessagesBlockedComposer.react"),{extraLoggingData:x,loggingEventName:"igd_fallback_thread_disabled"})}),b[17]=x,b[18]=i):i=b[18];return i}else if(n&&(d("IGDInviteModelUtils").shouldUseInviteModelV2()||d("IGDInviteModelUtils").shouldUseInviteModel())){b[19]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(t,{loggingEventName:"igd_invite_model_invite_sent"}),b[19]=o):o=b[19];return o}else{b[20]!==e||b[21]!==m||b[22]!==a?(s=l.jsx(v,{afterSendMessage:e,showReachableInviteBanner:m,thread:a}),b[20]=e,b[21]=m,b[22]=a,b[23]=s):s=b[23];return s}else{b[24]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(q,{}),b[24]=h):h=b[24];return h}}function z(a){var b=d("react-compiler-runtime").c(17),e=a.afterSendMessage,g=a.hasActivity,i=a.thread,n=(h||(h=c("useReStore")))();b[0]!==n.tables.thread_nullstate||b[1]!==i.threadKey?(a=function(){return d("ReQL").fromTableAscending(n.tables.thread_nullstate).getKeyRange(i.threadKey)},b[0]=n.tables.thread_nullstate,b[1]=i.threadKey,b[2]=a):a=b[2];var o;b[3]!==n||b[4]!==i.threadKey?(o=[n,i.threadKey],b[3]=n,b[4]=i.threadKey,b[5]=o):o=b[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":402");b[6]!==a?(o=a!=null?(j||(j=d("I64"))).equal(a.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED)):!1,b[6]=a,b[7]=o):o=b[7];a=o;o=g;g=d("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType);g=c("useIsReadOnlyFeatureLimited")()&&(!g||c("isFeatureLimitEnabled")());var p=d("useContactReachabilityStatus").useOtherUser(n,i.threadKey,i.threadType),q;b[8]!==e||b[9]!==a||b[10]!==o||b[11]!==g||b[12]!==p||b[13]!==i?(q=a&&!o?null:g?l.jsx(m,{}):d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType)?p!=null?l.jsx(y,{afterSendMessage:e,otherUser:p[1],thread:i}):c("FBLogger")("igd_web").mustfix("Missing contact row"):l.jsx(x,{afterSendMessage:e,thread:i}),b[8]=e,b[9]=a,b[10]=o,b[11]=g,b[12]=p,b[13]=i,b[14]=q):q=b[14];b[15]!==q?(e=l.jsx(l.Fragment,{children:q}),b[15]=q,b[16]=e):e=b[16];return e}function a(a){var b=d("react-compiler-runtime").c(10),e=a.afterSendMessage,g=a.thread,i=(h||(h=c("useReStore")))();c("usePrecompileURLMatcher")();b[0]!==i.tables.threads||b[1]!==g.threadKey?(a=function(){return d("ReQL").fromTableAscending(i.tables.threads,["lastActivityTimestampMs"]).getKeyRange(g.threadKey).map(B)},b[0]=i.tables.threads,b[1]=g.threadKey,b[2]=a):a=b[2];var k;b[3]!==i||b[4]!==g.threadKey?(k=[i,g.threadKey],b[3]=i,b[4]=g.threadKey,b[5]=k):k=b[5];a=d("ReQLSuspense").useFirst(a,k,f.id+":481");k=a!=null?!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).zero):!0;b[6]!==e||b[7]!==k||b[8]!==g?(a=l.jsx(c("CometErrorBoundary.react"),{fallback:A,children:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(z,{afterSendMessage:e,hasActivity:k,thread:g})})}),b[6]=e,b[7]=k,b[8]=g,b[9]=a):a=b[9];return a}function A(){return l.jsx(c("MWV2ErrorComposer.react"),{})}A.displayName=A.name+" [from "+f.id+"]";function B(a){return a.lastActivityTimestampMs}g.IGDComposerCommonPlaceholder=u;g.IGDComposerCommon=a}),98);
__d("IGDComposerRichContentButton.react",["cr:9575","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(3);a=a.onSendMessage;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=b("cr:9575"),c[0]=e):e=c[0];e=e;c[1]!==a?(e=i.jsx(e,{onSendMessage:a}),c[1]=a,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b=a.connectionStatus;a=a.renderWrapper;if(b==="Connected")return null;else if(b==="Disconnected")return a(h._(/*BTDS*/"No internet connection"));else if(b==="Connecting")return a(h._(/*BTDS*/"Connecting..."));else return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){a=a.renderWrapper;var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(b.tables.connectivity_status).map(function(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"})},[b],f.id+":54");return m.jsx(n,{connectionStatus:e!=null?e:"Connected",renderWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDConnectionStatusCard.react",["CometPlaceholder.react","IGDSText.react","MWPChatConnectionStatusCard.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx("div",babelHelpers["extends"]({className:"xwwskcc x1q0q8m5 xso031l x1lliihq xz9dl7a xsag5q8 x2b8uid"},{children:i.jsx(c("IGDSText.react"),{color:"secondaryText",children:a})}))}j.displayName=j.name+" [from "+f.id+"]";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:j})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("IGDSFillOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M9 14H2a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-7a1 1 0 0 0-1-1Zm12.999-6H16V2a1 1 0 0 0-2 0v7a1 1 0 0 0 1 1h6.999a1 1 0 0 0 0-2Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDNavigateBackToChatTabsButton.react",["fbt","IGDNavigation","IGDSFillOutline24Icon.react","IGDSIconButton.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||c("react"),l=(i||(i=d("react"))).useCallback;function a(a){var b=a["data-testid"],e=a.source,f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),g=c("MessengerWebUXLogger").useInteractionLogger();b=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"igd_navigate_back_to_chat_tabs",extraData:{source:e},flowInstanceId:f});a=c("useRoutePassthroughProps")();var i=d("IGDNavigation").useIGDNavigation(),j=a==null?void 0:a.entryPointUrl;a=l(function(){g==null||g({eventName:"igd_navigate_back_to_chat_tabs_clicked",extraData:{source:e},flowInstanceId:f}),j!=null&&i.goToPageWithUrl(String(j))},[j,f,g,i,e]);return k.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,innerRef:b,onClick:a,children:k.jsx(c("IGDSFillOutline24Icon.react"),{alt:h._(/*BTDS*/"Go back"),color:"ig-primary-text"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDNullStateHeader.react",["IGDInboxHeaderOffMsysContainer.react","IGDNavigateBackToChatTabsButton.react","IGDSBox.react","react","react-compiler-runtime","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(){var a=d("react-compiler-runtime").c(1),b=c("useRoutePassthroughProps")();b=b!=null&&b.entryPoint==="igdChatTabsThreadList";if(!b)return;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("IGDInboxHeaderOffMsysContainer.react"),{children:i.jsx(c("IGDSBox.react"),{direction:"row",flex:"grow",justifyContent:"end",children:i.jsx(c("IGDNavigateBackToChatTabsButton.react"),{"data-testid":void 0,source:"thread_list"})})}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("IGDDefaultNullState.react",["fbt","CometTransientDialogProvider.react","IGDBaseNullState.react","IGDChatTabsEnv","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","IGDEntryPoints","IGDNullStateHeader.react","IGDSButton.react","IGDSDialogPlaceholder.react","IGDThreadListNewMessageDialogEntrypointProvider.react","JSResourceForInteraction","react","react-compiler-runtime","useIGDSLazyDialog","useOpenOrCreateThreadFromIGDCandidate","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function k(){var a=d("react-compiler-runtime").c(12),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("IGDThreadListNewMessageDialog.react").__setRef("IGDDefaultNullState.react"),a[0]=b):b=a[0];b=b;var e=c("useOpenOrCreateThreadFromIGDCandidate")(),f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Your messages"),a[1]=f):f=a[1];f=f;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Send a message to start a chat."),a[2]=g):g=a[2];g=g;b=c("useIGDSLazyDialog")(b,l);var i=b[0],k=d("IGDChatTabsEnv").useIsChatTabsDisplay(),m=d("IGDChatTabsStateContext.react").useIGDChatTabsDispatch();a[3]!==m||a[4]!==k||a[5]!==e||a[6]!==i?(b=function(){if(k){m==null||m({type:"reset_state"});m==null||m({type:"open_view",view:d("IGDChatTabsStateTypes").IGDChatTabsView.ChatTabsOmnipickerView});return}var a=c("uuidv4")();i({flowInstanceId:a,onSubmit:e})},a[3]=m,a[4]=k,a[5]=e,a[6]=i,a[7]=b):b=a[7];b=b;var n=d("IGDEntryPoints").IGDEntryPoints.PRIMARY_FOLDER_NULL_STATE,o;a[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx(c("IGDNullStateHeader.react"),{}),a[8]=o):o=a[8];var p;a[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Send message"),a[9]=p):p=a[9];a[10]!==b?(o=j.jsxs(j.Fragment,{children:[o,j.jsx(c("IGDBaseNullState.react"),{descriptionText:g,titleText:f,children:j.jsx(d("IGDThreadListNewMessageDialogEntrypointProvider.react").IGDThreadListNewMessageDialogEntrypointProvider,{entrypoint:n,children:j.jsx(c("IGDSButton.react"),{display:"block",label:p,onClick:b})})})]}),a[10]=b,a[11]=o):o=a[11];return o}function l(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}l.displayName=l.name+" [from "+f.id+"]";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("CometTransientDialogProvider.react"),{children:j.jsx(k,{})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("IGDDeleteThreadComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(9),e=a.onDelete,f=a.thread,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("IGDChatSettingsDeleteThreadDialog.react").__setRef("IGDDeleteThreadComposerBannerButton.react"),b[0]=g):g=b[0];g=c("useIGDSLazyDialog")(g);var i=g[0];b[1]!==e||b[2]!==a.onClick||b[3]!==i||b[4]!==f?(g=function(){var b;b=(b=a.onClick)!=null?b:l;i({onDelete:e,thread:f},k);return b()},b[1]=e,b[2]=a.onClick,b[3]=i,b[4]=f,b[5]=g):g=b[5];g=g;var m;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Delete"),b[6]=m):m=b[6];b[7]!==g?(m=j.jsx(c("IGDSButton.react"),{"data-testid":void 0,display:"block",fullWidth:!0,label:m,onClick:g,role:"button",variant:"destructive_link_deprecated"}),b[7]=g,b[8]=m):m=b[8];return m}function k(){}function l(){}g["default"]=a}),226);
__d("IGDDeleteOpenThreadComposerBannerButton.react",["FBLogger","IGDConfirmDeleteOpenMessageRequestLogger","IGDDeleteThreadComposerBannerButton.react","IGDOpenDeleteOpenMessageRequestDialogLogger","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSMessagingThreadTypeUtil","MWLSThread","MWPBumpEntityKey","MessengerWebUXLogger","asyncToGeneratorRuntime","getInstamadilloLoggingExtraData","promiseDone","react","react-compiler-runtime","useAsyncReStore","useIGDDeleteOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(25),f=a.thread;e[0]!==f?(a=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(f),e[0]=f,e[1]=a):a=e[1];var g=a,h=c("useIGDDeleteOpenThread")(f.threadKey),j=c("useAsyncReStore")(),k=c("MessengerWebUXLogger").useInteractionLogger(),l=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();e[2]!==f?(a=c("getInstamadilloLoggingExtraData")(f),e[2]=f,e[3]=a):a=e[3];var m=a,n;e[4]!==j||e[5]!==l||e[6]!==m||e[7]!==g||e[8]!==k||e[9]!==f.threadKey?(a=function(){c("promiseDone")(j.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","delete_thread");a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("IGDOpenDeleteOpenMessageRequestDialogLogger").logOpenDeleteOpenMessageRequestDialog(a):c("FBLogger")("igd_web").warn("thread is empty to log");k==null||k({eventName:"thread_delete_attempt",extraData:babelHelpers["extends"]({},m,{is_request:String(g)}),flowInstanceId:l})});return function(b){return a.apply(this,arguments)}}()))},n=[j,f.threadKey,k,m,g,l],e[4]=j,e[5]=l,e[6]=m,e[7]=g,e[8]=k,e[9]=f.threadKey,e[10]=a,e[11]=n):(a=e[10],n=e[11]);a=d("Int64Hooks").useCallbackInt64(a,n);var o;e[12]!==j||e[13]!==h||e[14]!==l||e[15]!==m||e[16]!==g||e[17]!==k||e[18]!==f.threadKey?(n=function(){c("promiseDone")(j.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){h();a=(yield d("MWLSThread").getThreadAsync(a,f.threadKey));a?d("IGDConfirmDeleteOpenMessageRequestLogger").logConfirmDeleteOpenMessageRequest(a):c("FBLogger")("igd_web").warn("thread is empty to log")});return function(b){return a.apply(this,arguments)}}())),k==null||k({eventName:"thread_delete_confirmed",extraData:babelHelpers["extends"]({},m,{is_request:String(g)}),flowInstanceId:l})},o=[j,h,l,m,g,k,f.threadKey],e[12]=j,e[13]=h,e[14]=l,e[15]=m,e[16]=g,e[17]=k,e[18]=f.threadKey,e[19]=n,e[20]=o):(n=e[19],o=e[20]);n=d("Int64Hooks").useCallbackInt64(n,o);e[21]!==a||e[22]!==n||e[23]!==f?(o=i.jsx(c("IGDDeleteThreadComposerBannerButton.react"),{onClick:a,onDelete:n,thread:f}),e[21]=a,e[22]=n,e[23]=f,e[24]=o):o=e[24];return o}g["default"]=a}),98);
__d("IGDEBRestoreError",[],(function(a,b,c,d,e,f){"use strict";b={DECRYPT_ERROR:"igd_eb_restore_error_decrypt_error"};function a(a){return"[UNRECOVERABLE_PROTOBUF_CORRUPTION_WARNING] "+a}f.IGD_EB_RESTORE_ERROR=b;f.formatUnrecoverableProtobufCorruptionWarning=a}),66);
__d("IGDEBRestoreUtils",["FBLogger","I64","WALongInt"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a.metadataDataclass==null)return null;try{return JSON.parse(a.metadataDataclass)}catch(a){c("FBLogger")("igd_web").catching(a).warn("Failed to parse the message metadata.")}return null}function b(a){a=(a=a.add)==null?void 0:a.content;var b=(a==null?void 0:a.media)!=null;a=(a==null?void 0:a.collection)!=null;return!(b||a)}function i(a){return(h||(h=d("I64"))).of_string(d("WALongInt").longIntToDecimalString(a))}function e(a){return a.sort(function(a,b){a=(a=a.metadata)==null?void 0:a.timestampMs;b=(b=b.metadata)==null?void 0:b.timestampMs;if(a==null||b==null)return 0;a=i(a);b=i(b);return(h||(h=d("I64"))).compare(a,b)})}function f(a){a=(a=a.add)==null?void 0:a.content;if(a!=null&&a.adminMessage)return"adminMessage";if(a!=null&&a.collection)return"collection";if(a!=null&&a.like)return"like";if(a!=null&&a.link)return"link";if(a!=null&&a.media)return"media";if(a!=null&&a.placeholder)return"placeholder";if(a!=null&&a.receiverFetchXma)return"receiverFetchXma";return a!=null&&a.text?"text":""}function j(a){a=(a=a.supplement)==null?void 0:a.content;if(a!=null&&a.contentView)return"contentView";if(a!=null&&a.editText)return"editText";if(a!=null&&a.mediaReaction)return"mediaReaction";if(a!=null&&a.originalTransportPayload)return"originalTransportPayload";return a!=null&&a.reaction?"reaction":""}function k(a){a=(a=a.add)==null?void 0:a.metadata;var b=[];(a==null?void 0:a.ephemeralityParams)!=null&&b.push("ephemeralityParams");(a==null?void 0:a.forwardingParams)!=null&&b.push("forwardingParams");(a==null?void 0:a.privateReplyInfo)!=null&&b.push("privateReplyInfo");(a==null?void 0:a.repliedToMessage)!=null&&b.push("repliedToMessage");(a==null?void 0:a.sendSilently)!=null&&b.push("sendSilently");return b}function l(a){return{previewHeight:a.height!=null?(h||(h=d("I64"))).of_float(a.height):a.height,previewWidth:a.width!=null?(h||(h=d("I64"))).of_float(a.width):a.width}}g.getMessageMetadata=a;g.isMessageSupportedForEBRestore=b;g.longIntToI64=i;g.sortBackupPayloads=e;g.getToplevelMessageType=f;g.getSupplementalType=j;g.getToplevelMessageMetadata=k;g.getPreviewSize=l}),98);
__d("LSDecryptProtobufStoredProcedure",["LSDecryptProtobuf","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSDecryptProtobuf"),e.encryptedProtobuf,e.encryptionVersion,e.actThreadId,e.epochKeys);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("IGDEBMessageProtobuf",["FBLogger","I64","IGDEBRestoreError","IGDEBRestoreUtils","InstamadilloTransportPayload.pb","LSBase64Decode","LSDecryptProtobufStoredProcedure","LSFactory","LSShape","LSVec","ReQL","WAArmadilloBackupMessage.pb","asyncToGeneratorRuntime","decodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield k(a,b));if(a==null)return null;b=a.supplementalProtobufs;a=a.toplevelProtobuf;if(!b||!a)throw c("FBLogger")("igd_web").mustfixThrow("supplementalProtobufs or toplevelProtobuf is null",d("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);b=b.map(j);d("IGDEBRestoreUtils").sortBackupPayloads(b);return{supplementalBackupPayloads:b,toplevelBackupPayload:j(a)}});return i.apply(this,arguments)}function j(a){a=d("decodeProtobuf").decodeProtobufWithUnknowns(d("WAArmadilloBackupMessage.pb").BackupMessageSpec,a);return babelHelpers["extends"]({},a,{payload:d("decodeProtobuf").decodeProtobufWithUnknowns(d("InstamadilloTransportPayload.pb").TransportPayloadSpec,a.encryptedTransportMessage)})}function k(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.is_open_eb,f=b.supplemental_payloads,g=b.toplevel_payload;if(Boolean(e))return{supplementalProtobufs:f.map(function(a){return d("LSBase64Decode").decode(a.encrypted_supplemental_payload.encrypted_payload)}).filter(Boolean),toplevelProtobuf:d("LSBase64Decode").decode(g.encrypted_payload)};e=(yield o(a));if(!e)return null;f=(yield m(a));e=f.epochAnonIdBlob;f=f.epochRootKeyBlob;a=(yield c("LSDecryptProtobufStoredProcedure")(c("LSFactory")(a),{actThreadId:b.thread_id,encryptedProtobuf:g.encrypted_payload,encryptionVersion:(h||(h=d("I64"))).of_int32(g.encryption_version),epochKeys:c("LSVec").ofArray([d("LSShape").ofRecord({epoch_anon_id:e,epoch_root_key:f})])}));b=a[0];g=a[1];if(g!=null){e=d("LSShape").toRecord(g);f=e.error_message;a=e.stored_procedure;throw c("FBLogger")("igd_web").mustfixThrow(a+": "+f,d("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR)}if(b==null)throw c("FBLogger")("igd_web").mustfixThrow("decryptedProtobuf is null",d("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);return{supplementalProtobufs:[],toplevelProtobuf:b}});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_epochs)));if(a==null)throw c("FBLogger")("igd_web").mustfixThrow("No epochs found",d("IGDEBRestoreError").IGD_EB_RESTORE_ERROR.DECRYPT_ERROR);return a});return n.apply(this,arguments)}function o(a){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.secure_encrypted_backups_client_state)));return!!a});return p.apply(this,arguments)}g.getIGDEBMessageBackupPayloads=a;g.isEBClientSetup=o}),98);
__d("PolarisEncryptedBackupsQPLEvents",["qpl"],(function(a,b,c,d,e,f,g){"use strict";b=(a=c("qpl"))._(832770348,"1880");d=a._(741085455,"166");e=a._(741087294,"2028");f=a._(521479842,"2163");c=a._(521482969,"1519");g.RestoreBackupQplEvent=b;g.SetupBackupQplEvent=d;g.SettingsQplEvent=e;g.InstamadilloDYIQplEvent=f;g.InstamadilloMessageRestoreQplEvent=c}),98);
__d("IGDEBRestoreLogging",["ExecutionEnvironment","FBLogger","IGDEBRestoreUtils","MAWQplProxy","MWPBumpEntityKey","PolarisEncryptedBackupsQPLEvents","QPLUserFlow","QPLUtils","WAExceededStorageQuota","shouldUseMAWSharedWorker"],(function(a,b,c,d,e,f,g){"use strict";var h,i="igd_eb_restore_message",j="start",k="fail",l="success";function a(a,b){var e=(h||(h=c("ExecutionEnvironment"))).isInWorker,f=d("QPLUtils").deriveInstanceKey(a);b&&(e?c("FBLogger")("igd_web").warn("IGDEBRestoreLogging should start on the main thread"):(d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,j),c("QPLUserFlow").start(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{isDev:0,useSharedWorker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},string:{messageId:a}},instanceKey:f})));var g=function(a){c("QPLUserFlow").addAnnotations(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{instanceKey:f})};b=function(a){g(m(a))};a=function(a,b){b&&g(b),c("QPLUserFlow").addPoint(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{instanceKey:f})};var n=function(a){c("QPLUserFlow").endCancel(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()},string:{cancelReason:a}},instanceKey:f})},o=function(a,b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,k),c("QPLUserFlow").endFailure(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{annotations:babelHelpers["extends"]({},b,{bool:babelHelpers["extends"]({},b==null?void 0:b.bool,{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()})}),instanceKey:f})},p=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,l),c("QPLUserFlow").endSuccess(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{annotations:{bool:{exceededStorageQuota:d("WAExceededStorageQuota").getExceededStorageQuota()}},instanceKey:f})},q=function(a){d("MAWQplProxy").sendQPLAnnotationsThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,f)},r={addPoint:function(a,b){d("MAWQplProxy").sendQplPointThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,{annotations:b,instanceKey:f})},annotate:q,annotateMessagePayloads:function(a){q(m(a))},endCancel:function(a){d("MAWQplProxy").sendQPLCancelThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,{string:{cancelReason:a}},f)},endFail:function(a,b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,k),d("MAWQplProxy").sendQPLFailThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,a,b,f)},endSuccess:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId(i,l),d("MAWQplProxy").sendQPLSuccessThroughBridge(d("PolarisEncryptedBackupsQPLEvents").InstamadilloMessageRestoreQplEvent,void 0,f)}};return e?r:{addPoint:a,annotate:g,annotateMessagePayloads:b,endCancel:n,endFail:o,endSuccess:p}}function m(a){var b=a.supplementalBackupPayloads;a=a.toplevelBackupPayload;return{string:{toplevelMessageType:d("IGDEBRestoreUtils").getToplevelMessageType(a.payload)},string_array:{supplementalTypes:Array.from(new Set(b.map(function(a){return d("IGDEBRestoreUtils").getSupplementalType(a.payload)}))),toplevelMessageMetadata:d("IGDEBRestoreUtils").getToplevelMessageMetadata(a.payload)}}}g.IGDEBRestoreLogging=a}),98);
__d("IGDEBRestoreMessageById",["FBLogger","IGDEBMessageProtobuf","IGDEBRestoreLogging","IGDEBRestoreUtils","asyncToGeneratorRuntime","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var g=c("qex")._("670");if(!Boolean(g))return;yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(yield a.e2ee_ebMessageRestoreTasks.get(e));if(f==null)return;b=(b=f.backupPayloads)==null?void 0:b.toplevelBackupPayload.payload;b=b!=null?d("IGDEBRestoreUtils").isMessageSupportedForEBRestore(b):!0;if(!b)return;b=(yield a.e2ee_igMessageAuxiliaryInfo.get(e));b=b==null?void 0:b.openEb;if(!Boolean(b)){var g=(yield d("IGDEBMessageProtobuf").isEBClientSetup(a));if(!g)return}if(f.restorable)return;try{g=d("IGDEBRestoreLogging").IGDEBRestoreLogging(e,!0);g.annotate({bool:{onDemandRestore:!0,openEb:Boolean(b)},"int":{tryCount:f.tryCount}});f.backupPayloads&&g.annotateMessagePayloads(f.backupPayloads)}catch(a){c("FBLogger")("igd_web").catching(a).mustfix("restore logging failed to start before on-demand restore")}yield a.e2ee_ebMessageRestoreTasks.put(babelHelpers["extends"]({},f,{restorable:!0}))});return function(b){return a.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":30")});return h.apply(this,arguments)}g["default"]=a}),98);
__d("IGDEmojiButtonLazyLoadPopoverTrigger.react",["fbt","FDSPopoverLoadingState.react","IGDSBox.react","IGDSFace2OutlineIcon.react","IGDSIconButton.react","IGDSLazyPopoverTrigger.react","JSResourceForInteraction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={button:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonContainer:{alignSelf:"xpvyfi4",$$css:!0}},l=c("JSResourceForInteraction")("IGDComposerEmojiPicker.react").__setRef("IGDEmojiButtonLazyLoadPopoverTrigger.react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.logClickEvent,f=a.logImpressionEventRef,g=a.onSelect;a=a.threadKey;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("FDSPopoverLoadingState.react"),{withArrow:!0}),b[0]=i):i=b[0];var m;b[1]!==g||b[2]!==a?(m={onSelect:g,showPopoverArrow:!0,threadKey:a},b[1]=g,b[2]=a,b[3]=m):m=b[3];b[4]!==e||b[5]!==f?(g=function(a,b){return j.jsx(c("IGDSBox.react"),{containerRef:f,xstyle:k.buttonContainer,children:j.jsx(c("IGDSIconButton.react"),{"data-testid":void 0,innerRef:a,onClick:function(){b(),e()},xstyle:k.button,children:j.jsx(c("IGDSFace2OutlineIcon.react"),{alt:h._(/*BTDS*/"Choose an emoji").toString(),color:"ig-primary-text"})})})},b[4]=e,b[5]=f,b[6]=g):g=b[6];b[7]!==m||b[8]!==g?(a=j.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"start",fallback:i,popoverProps:m,popoverResource:l,position:"above",children:g}),b[7]=m,b[8]=g,b[9]=a):a=b[9];return a}g["default"]=a}),226);
__d("MWMessageEditContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=c.useState,m={setShowEdits:function(){},showEdits:!1},n=i.createContext();function a(a){var b=a.children;a=a.value;a=a===void 0?m:a;a=l((a=a==null?void 0:a.showEdits)!=null?a:!1);var c=a[0],d=a[1];a=k(function(){return{setShowEdits:d,showEdits:c}},[c]);return i.jsx(n.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(n)}g.MWMessageEditContextProvider=a;g.useMWMessageEditContext=b}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","QPLUserFlow","qpl","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.hasPadding;a=a.separatorStyle;var e=c("MessengerWebUXLogger").useInteractionLogger(),f=d("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:function(a){},showEdits:!1},g=f.setShowEdits,i=f.showEdits;function k(){i||(c("QPLUserFlow").start(c("qpl")._(1056849214,"1777")),e==null||e({eventName:"edit_message_history"})),g(!i)}f=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"edit_eyebrow_impression"});var l=i?h._(/*BTDS*/"Hide edits"):h._(/*BTDS*/"Edited"),m=i?h._(/*BTDS*/"Hide edits"):h._(/*BTDS*/"View edits");return j.jsxs(j.Fragment,{children:[a!=null&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:m,position:"above",tooltip:m,children:j.jsx(c("MWXLink.react"),{"aria-expanded":i,"aria-label":l,color_DEPRECATED:d("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:k,ref:f,role:"button",style:babelHelpers["extends"]({color:"var(--mwp-primary-theme-color)"},b===!0&&{paddingTop:6}),weight_DEPRECATED:"medium",children:j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:l})})})]})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.enableEditHistory;b=b===void 0?!0:b;var d=a.hasPadding;a=a.separatorStyle;return b?j.jsx(k,{hasPadding:d,separatorStyle:a}):j.jsx(c("MWEditedEyebrowLabel.react"),{separatorStyle:a})}a.displayName=a.name+" [from "+f.id+"]";g.MWEditedEyebrowWithHistory=k;g.MWEditedEyebrow=a}),226);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(j||d("react")).useMemo;function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a,b,e){var g=(i||(i=c("useReStore")))(),j=a.messageId,p=a.threadKey,q=c("mwpMessageHasAttachment")(a),r=d("ReQLSuspense").useFirst(function(){if(q)return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(p,j);else return d("ReQL").empty()},[g,j,p,q],f.id+":63");return m(function(){if(b)if(r!=null)if(n(r))return h._(/*BTDS*/"You forwarded a link");else if(o(r))return h._(/*BTDS*/"You forwarded an image");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"You forwarded a video");else return h._(/*BTDS*/"You forwarded a message");else return h._(/*BTDS*/"You forwarded a message");else if(r!=null)if(e!=null)if(n(r))return h._(/*BTDS*/"{name} forwarded a link",[h._param("name",e)]);else if(o(r))return h._(/*BTDS*/"{name} forwarded an image",[h._param("name",e)]);else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"{name} forwarded a video",[h._param("name",e)]);else return h._(/*BTDS*/"{name} forwarded a message",[h._param("name",e)]);else if(n(r))return h._(/*BTDS*/"Forwarded a link");else if(o(r))return h._(/*BTDS*/"Forwarded an image");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"Forwarded a video");else return h._(/*BTDS*/"Forwarded a message");else if(e!=null)return h._(/*BTDS*/"{name} forwarded a message",[h._param("name",e)]);else return h._(/*BTDS*/"Forwarded a message")},[b,r,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return p(a,b,c)}g.useTitle=a}),226);
__d("IGDForwardedContent.react",["IGDSText.react","MWEditedEyebrow.react","MWPForwardedContent","isMWEditedMessage","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={separator:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.message;a=a.outgoing;var f=d("MWPForwardedContent").useTitle(e,a),g;b[0]!==e?(g=c("isMWEditedMessage")(e),b[0]=e,b[1]=g):g=b[1];e=g;b[2]!==a?(g={0:{className:"x889kno x1g0dm76"},1:{className:"x889kno x1icxu4v"}}[!!a<<0],b[2]=a,b[3]=g):g=b[3];b[4]!==e?(a=e&&i.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{separatorStyle:j.separator}),b[4]=e,b[5]=a):a=b[5];b[6]!==a||b[7]!==f?(e=i.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:[f,a]}),b[6]=a,b[7]=f,b[8]=e):e=b[8];b[9]!==g||b[10]!==e?(a=i.jsx("div",babelHelpers["extends"]({},g,{children:e})),b[9]=g,b[10]=e,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("IGDGetHashtagRanges.react",["PolarisIGHashtagRegex","PolarisLinkBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return[];a=d("PolarisIGHashtagRegex").matchHashtags(a);return a.map(function(a){var b=a.endIndex,c=a.hashtag;a=a.startIndex;return{entity:{__typename:"Hashtag",uri:d("PolarisLinkBuilder").buildTagLink(c)},length:b-a,offset:a}})}g.getHashtagRanges=a}),98);
__d("IGDHiddenMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSEyeOffOutlineIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Hidden requests"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"These are message requests that may be offensive or unwanted."),a[1]=e):e=a[1];e=e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDBaseNullState.react"),{descriptionText:e,icon:j.jsx("div",babelHelpers["extends"]({className:"xskfcea x15l7z82 x1rx6pd xc5vvuh x1u0suui xlekzc6 x1tovxde x1tk7qwc x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x9f619 xjp8j0k x1qim8zg x13oubkp xz7312c"},{children:j.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:"",color:"ig-primary-text",size:48})})),titleText:b}),a[2]=e):e=a[2];return e}g["default"]=a}),226);
__d("IGDHotlikeEmoji.react",["IGDSHeartPanoFilledIcon.react","PolarisDirectStrings","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("IGDSHeartPanoFilledIcon.react"),{alt:d("PolarisDirectStrings").LIKE_BUTTON_ALT_TEXT,color:"ig-badge",size:44}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("IGDSGenAiPanoFilled24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M12.54 7c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3ZM8.5 23a1 1 0 0 1-.912-.59l-1.707-3.793a.992.992 0 0 0-.498-.498L1.59 16.412a1 1 0 0 1 0-1.824l3.793-1.707a.994.994 0 0 0 .498-.498L7.588 8.59a1 1 0 0 1 1.824 0l1.707 3.793a.99.99 0 0 0 .498.498l3.793 1.707a1 1 0 0 1 0 1.824l-3.793 1.707a.988.988 0 0 0-.498.498L9.412 22.41A1 1 0 0 1 8.5 23Zm13.344-9.572a1.15 1.15 0 0 1-.34-.052l-6.192-1.921a1.156 1.156 0 0 1-.441-1.95l4.76-4.402V5.1a1.157 1.157 0 0 1 1.909.594l1.432 6.323c.09.401-.04.824-.342 1.103a1.16 1.16 0 0 1-.786.306Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDInboxGenAIStarIcon.react",["fbt","IGDSBox.react","IGDSGenAiPanoFilled24Icon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("IGDSBox.react"),{marginStart:1,children:j.jsx(c("IGDSGenAiPanoFilled24Icon.react"),{alt:h._(/*BTDS*/"Star shapped icon for AI characters"),color:"ig-secondary-icon",size:12})}),a[0]=b):b=a[0];return b}g["default"]=a}),226);
__d("IGDInstamadilloLockIcon.react",["I64","IGDSIconButton.react","JSResourceForInteraction","ReQL","ReQLSuspense","gkx","react","react-compiler-runtime","useIGDSLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||c("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.isSecure,g=a.message;a=a.outgoing;if(!f||!c("gkx")("24015"))return e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 x1q0g3np"},b[0]=f):f=b[0];var h;b[1]!==g||b[2]!==a?(h=a?k.jsx(l,{message:g,outgoing:a}):null,b[1]=g,b[2]=a,b[3]=h):h=b[3];var i;b[4]!==g||b[5]!==a?(i=a?null:k.jsx(l,{message:g,outgoing:a}),b[4]=g,b[5]=a,b[6]=i):i=b[6];b[7]!==e||b[8]!==h||b[9]!==i?(g=k.jsxs("div",babelHelpers["extends"]({},f,{children:[h,e,i]})),b[7]=e,b[8]=h,b[9]=i,b[10]=g):g=b[10];return g}function l(a){var b=d("react-compiler-runtime").c(32),e=a.message;a=a.outgoing;var g=(j||(j=c("useReStore")))(),i;b[0]!==g.tables.e2ee_igMessageAuxiliaryInfo||b[1]!==e.messageId?(i=function(){return d("ReQL").fromTableAscending(g.tables.e2ee_igMessageAuxiliaryInfo).getKeyRange(e.messageId)},b[0]=g.tables.e2ee_igMessageAuxiliaryInfo,b[1]=e.messageId,b[2]=i):i=b[2];var l;b[3]!==g||b[4]!==e.messageId?(l=[g,e.messageId],b[3]=g,b[4]=e.messageId,b[5]=l):l=b[5];i=d("ReQLSuspense").useFirst(i,l,f.id+":72");b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l=c("JSResourceForInteraction")("IGDMessageInspectMessageDialog.react").__setRef("IGDInstamadilloLockIcon.react"),b[6]=l):l=b[6];l=c("useIGDSLazyDialog")(l);var m=l[0];b[7]!==e||b[8]!==m?(l=function(){m({message:e})},b[7]=e,b[8]=m,b[9]=l):l=b[9];l=l;if(i==null){var n=a?0:"4px",o=a?"4px":0,p;b[10]!==n||b[11]!==o?(p=k.jsx("div",{style:{paddingLeft:n,paddingRight:o},children:"\u2753"}),b[10]=n,b[11]=o,b[12]=p):p=b[12];b[13]!==l||b[14]!==p?(n=k.jsx(c("IGDSIconButton.react"),{onClick:l,padding:0,children:p}),b[13]=l,b[14]=p,b[15]=n):n=b[15];return n}o=(h||(h=d("I64"))).to_int32(e.displayedContentTypes)===131072;p=h.to_int32(e.displayedContentTypes)===0;b[16]!==i["final"]||b[17]!==p||b[18]!==o?(n=i["final"]||o||p?void 0:"x1q3qbx4 xa4qsjk xau8ic4",b[16]=i["final"],b[17]=p,b[18]=o,b[19]=n):n=b[19];p=a?0:"4px";o=a?"4px":0;b[20]!==p||b[21]!==o?(a={paddingLeft:p,paddingRight:o},b[20]=p,b[21]=o,b[22]=a):a=b[22];b[23]!==i.openEb?(p=Boolean(i.openEb)?k.jsx(k.Fragment,{children:"\ud83d\udd13"}):k.jsx(k.Fragment,{children:"\ud83d\udd0f"}),b[23]=i.openEb,b[24]=p):p=b[24];b[25]!==n||b[26]!==a||b[27]!==p?(o=k.jsx("div",{className:n,style:a,children:p}),b[25]=n,b[26]=a,b[27]=p,b[28]=o):o=b[28];b[29]!==l||b[30]!==o?(i=k.jsx(c("IGDSIconButton.react"),{onClick:l,padding:0,children:o}),b[29]=l,b[30]=o,b[31]=i):i=b[31];return i}g["default"]=a}),98);
__d("IGDLeaveGroupComposerBannerButton.react",["fbt","IGDSButton.react","JSResourceForInteraction","MWPBumpEntityKey","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(7);a=a.thread;var e=a;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("IGDChatSettingsLeaveThreadDialog.react").__setRef("IGDLeaveGroupComposerBannerButton.react"),b[0]=a):a=b[0];a=c("useIGDSLazyDialog")(a);var f=a[0];b[1]!==f||b[2]!==e?(a=function(){f({thread:e},k);return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("igd.composer_banner","leave_chat")},b[1]=f,b[2]=e,b[3]=a):a=b[3];a=a;var g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Leave"),b[4]=g):g=b[4];b[5]!==a?(g=j.jsx(c("IGDSButton.react"),{display:"block",fullWidth:!0,label:g,onClick:a,role:"button",variant:"destructive_link_deprecated"}),b[5]=a,b[6]=g):g=b[6];return g}function k(){}g["default"]=a}),226);
__d("IGDMessageErrorBubble.react",["fbt","IGDChatBubble.react","IGDSBox.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(10);a=a.isOutgoing;var e=a?"end":"start",f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={padding:"2px 4px"},b[0]=f):f=b[0];var g=a?"white":"primary",i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Error displaying this message"),b[1]=i):i=b[1];b[2]!==g?(f=j.jsx("div",{style:f,children:j.jsx(c("MWXText.react"),{color:g,type:"body3",children:i})}),b[2]=g,b[3]=f):f=b[3];b[4]!==a||b[5]!==f?(i=j.jsx(c("IGDSBox.react"),{children:j.jsx(c("IGDChatBubble.react"),{connectBottom:!1,connectTop:!1,outgoing:a,precedesXMA:!1,children:f})}),b[4]=a,b[5]=f,b[6]=i):i=b[6];b[7]!==e||b[8]!==i?(g=j.jsx(c("IGDSBox.react"),{alignItems:e,margin:1,children:i}),b[7]=e,b[8]=i,b[9]=g):g=b[9];return g}g["default"]=a}),226);
__d("IGDMessageSendErrorStatus.react",["fbt","IGDSCircleXOutlineIcon.react","IGDThreadListNewMessageLoggingDataContext","MWLSThread","MessengerWebUXLogger","getInstamadilloLoggingExtraData","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9);a=a.threadKey;var e=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();a=d("MWLSThread").useThread(a);var f;b[0]!==a?(f=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a={eventName:"message_send_error_status",extraData:f,flowInstanceId:e},b[2]=e,b[3]=f,b[4]=a):a=b[4];e=c("MessengerWebUXLogger").useImpressionLoggerRef(a);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 xdt5ytf x13a6bvl x1djpfga x1n2onr6"},b[5]=f):f=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("IGDSCircleXOutlineIcon.react"),{alt:h._(/*BTDS*/"Failed to send"),color:"ig-error-or-destructive","data-testid":void 0,size:12}),b[6]=a):a=b[6];b[7]!==e?(f=j.jsx("div",babelHelpers["extends"]({},f,{ref:e,children:a})),b[7]=e,b[8]=f):f=b[8];return f}g["default"]=a}),226);
__d("IGDMessageSendingStatus.react",["fbt","CometScreenReaderText.react","IGDSMessagesOutlineIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(3),b,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k x1n2onr6"},e=j.jsx(c("IGDSMessagesOutlineIcon.react"),{alt:"IGD message sending status icon",color:"ig-secondary-text","data-testid":void 0,size:12}),a[0]=b,a[1]=e):(b=a[0],e=a[1]);a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs("div",babelHelpers["extends"]({},b,{children:[e,j.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Sending")})]})),a[2]=b):b=a[2];return b}g["default"]=a}),226);
__d("IGDMessageGutterItem.react",["I64","IGDMessageSendErrorStatus.react","IGDMessageSendingStatus.react","LSIntEnum","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.message;var e=a.sendStatusV2,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 x1iyjqo2 xs83m0k x1kky2od"},b[0]=f):f=b[0];var g;b[1]!==a.threadKey||b[2]!==e?(g=(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(1))?k.jsx(c("IGDMessageSendingStatus.react"),{}):(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(4))?k.jsx(c("IGDMessageSendErrorStatus.react"),{threadKey:a.threadKey}):null,b[1]=a.threadKey,b[2]=e,b[3]=g):g=b[3];b[4]!==g?(a=k.jsx("div",babelHelpers["extends"]({},f,{children:g})),b[4]=g,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MessageProfileRangeTypeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="ai")return"ai";else if(a==="c")return"cc";else if(a==="cu")return"cu";else return"n"}f.ofString=a}),66);
__d("XCometVanityURLControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MWV2ChatTextParserUtils",["CurrentEnvironment","EmojiRenderer","EmoticonRenderer","I64","IGDWebUtils","LSContactTypeExact","LSIntEnum","MWChatTextFormattingUtils","MWLSContactTypeExactUtils","MessageProfileRangeTypeUtils","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),c=d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}});b=b.concat(c).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var e={contents:0},f={contents:0};c=b.some(function(b){e.contents===b.offset?(e.contents=e.contents+b.length|0,f.contents=e.contents):f.contents=b.offset;var c=a.substring(e.contents,f.contents);e.contents=b.offset+b.length|0;return k.test(c)===!1});b=e.contents!==a.length&&!k.test(a.substring(f.contents));if(c)return!1;else return!b}function b(a,b,e,f){b===void 0&&(b=!1);e===void 0&&(e=!1);f===void 0&&(f=!1);var g=c("getURLRanges")(a),h=[];a=d("MWChatTextFormattingUtils").getFormattingRanges(a,b,e,f);g.forEach(function(a){var b=a.entity.url;b=b.startsWith("https://m.me/j/")||c("CurrentEnvironment").facebookdotcom&&b.startsWith("https://www.messenger.com/channel/");b={entity:{__typename:b?"MessengerLink":"Link",target:"blank",uri:a.entity.url},length:a.length,offset:a.offset};h.push(b)});return h.concat(a)}function l(a,b){b===void 0&&(b=!1);if(c("gkx")("23433"))return(b?"/e2ee/t/":"/t/")+a;else return(b?"/messages/e2ee/t/":"/messages/t/")+a}function m(a,b){try{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange((h||(h=d("I64"))).of_string(b)),f.id+":132")}catch(b){a=void 0}if(a==null)return l(b);var e=a.contactTypeExact;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils").isIgContact(e))return l(b);e=a.secondaryName;if(e!=null)return"https://www.instagram.com/"+e+"/";else return l(b)}function e(a,b,c,e,f,g,i,k){b=b.split(",");var n=c.split(","),o=e.split(","),p=f.split(",");return b.reduce(function(b,c,e){var f=d("MessageProfileRangeTypeUtils").ofString(p[e]);if(n[e]==null||o[e]==null)return b;var q=Number(n[e]);e=Number(o[e]);var r=(j||(j=d("UnicodeUtils"))).strlen(g.slice(0,e));r=e-r;e=e-r;if(f==="t"||f==="a"){r=k&&i!=null?(h||(h=d("I64"))).to_string(i):c;d("IGDWebUtils").isOnInstagramWeb()?b.push({entity:{__typename:"Command"},length:q,offset:e}):b.push({entity:{__typename:k?"Thread":"Profile",id:c,uri:l(r,k)},length:q,offset:e})}else f==="p"?b.push({entity:{__typename:"Profile",id:c,uri:m(a,c)},length:q,offset:e}):f==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:(h||(h=d("I64"))).of_string(c)},length:q,offset:e}):f==="s"||f==="cu"?b.push({entity:{__typename:"Command"},length:q,offset:e}):f==="ai"&&b.push({entity:{__typename:"Ai"},length:q,offset:e});return b},[])}g.isEmojiOnlyMessage=a;g.findRanges=b;g.findRangesForMentions=e}),98);
__d("SupportAIMessengerParticipantUtils",["I64","SupportAISitevarConfig"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return c("SupportAISitevarConfig").support_ai_bot_id!=null&&(h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).of_string(c("SupportAISitevarConfig").support_ai_bot_id))}function a(a){return i(a.senderId)}g.isSupportAIParticipant=i;g.isMessageFromSupportAIBot=a}),98);
__d("MWV2ChatTextUtils",["AdsAIMessengerUtils","AdsMessengerContext.react","LSMessagingThreadTypeUtil","MWGenAIUtils","MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","SupportAIMessengerParticipantUtils","gkx","justknobx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function k(a){return a.replace(/[\u202a\u202b\u202c\u202d\u202e\u2066\u2067\u2068\u2069\u2029]/g,"")}function a(a,b){if(b.length===0)return a;var c=0,d="";b.forEach(function(b){var e=b.offset;b=b.length;d+=a.substring(c,e);b=e+b;d+="\u2066"+k(a.substring(e,b))+"\u2069";c=b});c<a.length&&(d+=a.substring(c));return d}function l(a,b,c,e,f){var g=b.mentionIds,h=b.mentionLengths,i=b.mentionOffsets;b=b.mentionTypes;return g!=null&&h!=null&&i!=null&&b!=null?d("MWV2ChatTextParserUtils").findRangesForMentions(a,g,h,i,b,c,e,f):[]}function m(a,b,c){if(a==null)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d}});else return[]}function b(a,b,e,f){var g=(h||(h=c("useReStore")))(),i=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),k=i.visibleMessage;i=d("AdsMessengerContext.react").useAdsMessengerContext();i=i.isMessengerInAds;var n=!1,o=!1;d("AdsAIMessengerUtils").isMessageFromAdsAIBot(b)||i&&c("gkx")("444")?(n=!0,o=!c("gkx")("3883")):c("justknobx")._("1449")&&d("SupportAIMessengerParticipantUtils").isMessageFromSupportAIBot(b)?n=!0:o=d("MWGenAIUtils").isMetaAIThread(b.senderId);var p=f!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(f)&&d("LSMessagingThreadTypeUtil").isGroup(f);return j(function(){return a==null||d("MWV2ChatTextParserUtils").isEmojiOnlyMessage(a)?[]:l(g,{mentionIds:b.mentionIds,mentionLengths:b.mentionLengths,mentionOffsets:b.mentionOffsets,mentionTypes:b.mentionTypes},a,e,p).concat(d("MWV2ChatTextParserUtils").findRanges(a,n,o)).concat(m(k==null?void 0:k,a,b.messageId))},[a,b.mentionIds,b.mentionLengths,b.mentionOffsets,b.mentionTypes,b.messageId,g,k,n,o,e,p])}g.getRTLOMitigatedText=a;g.useRanges=b}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.outgoing,e=a.text,f=a.xstyle,g=a.ranges,h=a.renderers;a=a.transforms;return e==null?null:i.jsx(c("MWXText.react"),{color:b?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[j.regular,b?j.outgoing:j.incoming,f],children:i.jsx(c("MWXMessageTextWithEntities.react"),{ranges:g,renderers:h,text:e,transforms:a!=null?a:d("MWChatTextTransform").textTransforms,withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageListText.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageBlockQuote.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=a.hasBlockQuoteStyle;b=b===void 0?!1:b;var e=a.message,f=a.xstyleForForwarded,g=a.xstyleForText,h=a.outgoing,l=a.ranges,m=a.renderers,n=a.text;a=a.transforms;if(n==null)return null;e=e.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(e.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));l=k.jsx(c("MWXMessageBaseMessageListText.react"),{outgoing:h,ranges:l,renderers:m,text:n,transforms:a!=null?a:d("MWChatTextTransform").textTransforms,xstyle:g});return e||b===!0?k.jsx(c("MWXMessageBlockQuote.react"),{outgoing:h,xstyle:f,children:l}):l}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageTableFocusTable.react",["fbt","CometKeys","FocusTable.react","emptyFunction"],(function(a,b,c,d,e,f,g,h){"use strict";var i="messages_table";a=function(a,b,c){return c.getAttribute("data-scope")===i};b=d("FocusTable.react").createFocusTable(a);f={key:(e=c("CometKeys")).UP};d={key:e.DOWN};var j={key:e.LEFT};e={key:e.RIGHT};c=[{command:f,description:h._(/*BTDS*/"Previous item"),handler:f=c("emptyFunction")},{command:d,description:h._(/*BTDS*/"Next item"),handler:f},{command:j,description:h._(/*BTDS*/"Next item"),handler:f},{command:e,description:h._(/*BTDS*/"Previous item"),handler:f}];g.scopeID=i;g.scopeQuery=a;g.FocusTable=b;g.commandConfigs=c}),226);
__d("MWMessageCellFocusTable.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","FocusTable.react","MWMessageTableFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b=d("FocusTable.react").createFocusTable(d("focusScopeQueries").tabbableScopeQuery);var k={key:c("CometKeys").ESCAPE},l={key:c("CometKeys").ENTER},m={key:c("CometKeys").SPACE},n=h._(/*BTDS*/"Exit focus region"),o=h._(/*BTDS*/"Enter focus region");function a(a){var b=a.children,e=a.onEnter,f=a.onEscape;a=a.onSpace;var g=[];f!=null&&g.push({command:k,description:n,handler:f});e!=null&&g.push({command:l,description:o,handler:e});a!=null&&g.push({command:m,description:o,handler:a});return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:d("MWMessageTableFocusTable.react").commandConfigs.concat(g),xstyle:!1,children:b})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.FocusTable=b;g.keyCommands=e}),226);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a==null)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("getMAWLinkEntityRenderer.react",["E2EEMessagingLinkContext.react","MWMessageCellFocusTable.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.encryptedLink,e=a.target,f=a.testid,g=a.xstyle;return function(a,f){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",{role:"gridcell",children:i.jsx(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:b,children:i.jsx(c("MWXLink.react"),{encryptedLink:b,href:f.uri,target:e,testid:void 0,xstyle_DEPRECATED:g,children:a})})})})}}g["default"]=a}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),e=b.disableLinks;return function(b,d,f,g){return c("gkx")("24165")&&e?void 0:[f,c("getMAWLinkEntityRenderer.react")({encryptedLink:a,target:g,testid:d,xstyle:b})]}}g["default"]=a}),98);
__d("useIGDTextRenderers",["MWChatTextFormatting","MWMessageCellFocusTable.react","PolarisUA","react","react-compiler-runtime","useMWPCombineTextRenderers","useMWPLinkRendererFactory"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={bold:{fontWeight:"x1s688f",$$css:!0},link:{color:"x7l2uk3",textDecoration:"x1bvjpef",":visited_color":"x17kgsl5",$$css:!0},regularIncoming:{color:"xzsf02u",":visited_color":"x17kgsl5",$$css:!0},regularOutgoing:{color:"x14ctfv",":visited_color":"x17kgsl5",$$css:!0},textPrecedesXMA:{color:"x5n08af",":visited_color":"x17kgsl5",$$css:!0}},k=["Ai",function(a){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",babelHelpers["extends"]({className:"x1s688f"},{role:"gridcell",children:a}))})}],l=["Command",function(a){return i.jsx(d("MWMessageCellFocusTable.react").FocusTable[2],{children:i.jsx("span",babelHelpers["extends"]({className:"x1s688f"},{role:"gridcell",children:a}))})}];function a(a,b,e,f){var g=d("react-compiler-runtime").c(18);b=c("useMWPLinkRendererFactory")(b);f=e&&f?j.textPrecedesXMA:e?j.regularOutgoing:j.regularIncoming;var h=d("PolarisUA").isMobile()?"_self":"_blank",i;g[0]!==b?(i=b([j.link],"ig_chat_message_regular_link","Link",h),g[0]=b,g[1]=i):i=g[1];var m;g[2]!==b||g[3]!==f?(m=b([j.bold,f],"ig_profile_link","Profile",h),g[2]=b,g[3]=f,g[4]=m):m=g[4];g[5]!==b||g[6]!==f?(h=b([j.bold,f],"ig_chat_message_regular_hashtag","Hashtag",h),g[5]=b,g[6]=f,g[7]=h):h=g[7];g[8]!==i||g[9]!==m||g[10]!==h?(b=[i,m,h,k,l],g[8]=i,g[9]=m,g[10]=h,g[11]=b):b=g[11];f=b;i=c("useMWPCombineTextRenderers")(f);if(g[12]!==a||g[13]!==i||g[14]!==e){m=babelHelpers["extends"]({},i);if(a===!0){h=e?d("MWChatTextFormatting").messageRenderer:d("MWChatTextFormatting").messageIncomingRenderer;g[16]!==h?(b=[h],g[16]=h,g[17]=b):b=g[17];m.MessengerTextFormatting=b}g[12]=a;g[13]=i;g[14]=e;g[15]=m}else m=g[15];f=m;return f}g["default"]=a}),98);
__d("IGDMessageListText.react",["IGDGetHashtagRanges.react","MWV2ChatTextUtils","MWXMessageListText.react","react","react-compiler-runtime","useIGDTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.enableMessengerTextFormatting,f=a.isSecureMessage,g=a.message,h=a.outgoing;a=a.precedesXMA;e=c("useIGDTextRenderers")(e,f,h,a);f=d("IGDGetHashtagRanges.react").getHashtagRanges(g.text);f=d("MWV2ChatTextUtils").useRanges(g.text,g).concat(f);a=a?!1:h;b[0]!==g||b[1]!==f||b[2]!==e||b[3]!==a?(h=i.jsx(c("MWXMessageListText.react"),{message:g,outgoing:a,ranges:f,renderers:e,text:g.text}),b[0]=g,b[1]=f,b[2]=e,b[3]=a,b[4]=h):h=b[4];return h}g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=k.toArray(b).filter(Boolean);return b.length===0?null:j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.container,a),{role:"none",children:[b.map(function(a,b){return j.createElement("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.items,d),{key:""+b,role:"none"}),a)}),e?null:j.jsx("div",babelHelpers["extends"]({className:"x1ohifd9 x1c4vz4f xs83m0k"},{role:"none"}))]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.filter(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.forEach(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[1]=d[5])})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",a[0]),d[3].set("message_id",a[1]),d[3].set("reaction_fbid",a[2]),d[3].set("cursor",a[3]),d[3].set("sync_group",d[1]),d[4]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueReactionsV2DetailsUsersListFetchStoredProcedure";a.__tables__=["reactions_v2_details_ranges_v2__generated","threads"];e.exports=a}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueReactionsV2DetailsUsersListFetch"),e.threadId,e.messageId,e.reactionFbid,e.nextPageCursor);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWMultiReactConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;b=20;c=3;d=9;e=180;var g=2;f.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=a;f.CM_MAX_REACTION_EMOJIS_ALLOWED=b;f.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=c;f.SPACING_PER_COUNT_CHARACTER=d;f.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=e;f.REACTION_BUTTON_BUBBLE_EASE_FACTOR=g}),66);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(b);e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":30"))!=null?e:{};var j=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(j!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(j)))return;if(i)return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWXDialogLoadingState.react",["cr:9909"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9909")}),98);
__d("useMWXLazyDialog",["MWXDialogLoadingState.react","react","tracePolicyFromResource","useBaseLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react"),j=function(a){return i.jsx(c("MWXDialogLoadingState.react"),{onClose:a})};function a(a,b,d){var e=c("tracePolicyFromResource")("mwp.dialog",a);return c("useBaseLazyDialog")(a,b!=null?b:j,e,d)}g["default"]=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef,s=m.useState,t=c("gkx")("24166")?d("MWChatReactionsUtils").heartType2:d("MWChatReactionsUtils").heartType1;function a(a){var b=(i||(i=c("useReStore")))(),e=p(d("ReQLSuspense").useArray(function(){if(a==null)return d("ReQL").empty();var c=a.messageId,e=a.threadKey;return d("ReQL").fromTableAscending(b.tables.reactions).getKeyRange(e,c).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:t,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[a,b.tables.reactions],f.id+":64"));return e}function b(a){var b=(i||(i=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){if(a==null)return d("ReQL").empty();var c=a.messageId,e=a.threadKey;return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(e,c)},[a,b],f.id+":91");return e}function e(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},[b,g,e],f.id+":107");return a}function u(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._(/*BTDS*/"_j{\"*\":\"{number} reactions with {the comma separated list of emojis used to react on this message}; see who reacted to this.\",\"_1\":\"1 reaction with {the comma separated list of emojis used to react on this message}; see who reacted to this.\"}",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function v(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function w(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,t=g.messageId,w=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var x=a.setFocused,y=a.setIsDialogOpened,z=(i||(i=c("useReStore")))();a=s(!1);var A=a[0],B=a[1];a=function(){B(function(a){return!a})};var C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(w),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w),E=d("MWLSThread").useThread(w,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType)}),F=D?d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,G=c("useIsReactionDialogEnabled")(w),H=r(new Map()),I=n(function(){C&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(z,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:w})},"issueReactionsV2DetailsUsersListFetch").then(function(){return H.current.forEach(function(a){return a()})}))},[z,C,g.messageId,w]),J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(z.tables.reactions_v2).getKeyRange(w,t).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(z.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":226");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[z,w,t,p],f.id+":220");d("MWReactionUtils").useSortReactionsForBroadcastChat(J,w);var K=Array.from(new Set(J.map(function(a){return(a=a.reactionLiteral)!=null?a:""})));E=D&&E===!0?K:K.slice(0,F);K=m!=null&&C?v(E):v(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,F));E=m!=null&&C?(j||(j=d("I64"))).to_int32(J.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;F=u(K,E);m=r(null);J=q(function(){return e!=null?e:C?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,C]);var L=q(function(){return{message:g,onLoadComplete:function(a){H.current.set(a,a);return function(){H.current["delete"](a)}},thread:{threadKey:w}}},[g,w]),M=n(function(){y(function(){return!1}),x(function(){return!0})},[x,y]);J=c("useMWXLazyDialog")(J);var N=J[0],O=n(function(a){y(function(){return!0}),N(babelHelpers["extends"]({},L,{initialTab:a}),M),h==null||h(),I()},[L,M,h,y,N,I]);J={eventName:"open_message_reactions_dialog",threadKey:w};return D||!G?b(K,E,k,g,w,O,A,a):l.jsx(c("MWXPressable.react"),{"aria-label":F,loggingEvent:J,onPress:function(){return O()},overlayDisabled:!0,ref:m,children:b(K,E,k,g,w,O,!1,c("emptyFunction"))})}w.displayName=w.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=w}),226);
__d("isKeyActivation",["Keys"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0,d=a.charCode;a=a.keyCode;d!=null&&d!==0?b=d:a!=null&&a!==0&&(b=a);return[c("Keys").RETURN,c("Keys").SPACE].includes(b)}g["default"]=a}),98);
__d("KeyActivationToClickHOC.react",["isKeyActivation","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b;return b=function(b){function d(a){var d;d=b.call(this,a)||this;d.$2=function(a){var b;b=(b=d.props.isKeyActivation)!=null?b:c("isKeyActivation");b(a)&&(a.preventDefault(),a.stopPropagation(),d.$1&&d.$1.click())};d.$3=function(a){d.$1=a};d.$1=null;return d}babelHelpers.inheritsLoose(d,b);var e=d.prototype;e.render=function(){return i.jsx(a,babelHelpers["extends"]({keyActivationToClickEvent:this.$2,keyActivationToClickRef:this.$3},this.props))};return d}(i.Component),b.displayName="KeyActivationToClickHOC",b}g["default"]=a}),98);
__d("ShimButton.react",["KeyActivationToClickHOC.react","emptyFunction","prop-types","react"],(function(a,b,c,d,e,f){var g=["children","form","inline","keyActivationToClickEvent","keyActivationToClickRef","onRef","pressed","role"],h,i=h||b("react");a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$1=function(a){b.props.keyActivationToClickRef(a),b.props.onRef(a)},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.render=function(){var a=this.props,b=a.children,c=a.form,d=a.inline,e=a.keyActivationToClickEvent;a.keyActivationToClickRef;a.onRef;var f=a.pressed,h=a.role;a=babelHelpers.objectWithoutPropertiesLoose(a,g);d=d?"span":"div";c==="link"&&(d="a");c={onKeyDown:e};return i.jsx(d,babelHelpers["extends"]({},a,{"aria-pressed":f,ref:this.$1,role:h!=null?h:"button"},c,{children:b}))};return b}(i.Component);a.defaultProps={form:"none",inline:!1,keyActivationToClickEvent:b("emptyFunction"),keyActivationToClickRef:b("emptyFunction"),onClick:b("emptyFunction"),onRef:b("emptyFunction"),tabIndex:"0"};a.propTypes={children:b("prop-types").any,form:b("prop-types").oneOf(["none","link"]),inline:b("prop-types").bool,tabIndex:b("prop-types").oneOf(["-1","0",-1,0]),onClick:b("prop-types").func,onRef:b("prop-types").func};c=b("KeyActivationToClickHOC.react")(a);f["default"]=c}),66);
__d("useIGDBroadcastChannelReactionsFooterButtonClickLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(3),f=d("MWLSThread").useThread(a,i);f=f!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f);var g=c("useIGDBroadcastChannelLogger")(a);e[0]!==g||e[1]!==b?(a=function(){c("promiseDone")(g(babelHelpers["extends"]({},d("IGDBroadcastChannelLoggingShapes").REACTIONS_FOOTER_BUTTON_CLICK_SHAPE,{extra:{mid:b}})))},e[0]=g,e[1]=b,e[2]=a):a=e[2];e=a;return f?e:c("emptyFunction")}function i(a){return a.threadSubtype}g["default"]=a}),98);
__d("IGDMessageRowFooter.react",["IGDSEmoji.react","IGDSingleAvatar.react","JSResourceForInteraction","MWPActor.react","MWPMessageFooter.react","MWPMessageReactions.react","ReQL","ReQLSuspense","ShimButton.react","getLSMediaContactProfilePictureUrl","intlSummarizeNumber","mwv2MessageIsEmojiOnly","promiseDone","react","react-compiler-runtime","requireDeferred","stylex","useIGDBroadcastChannelReactionsFooterButtonClickLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("requireDeferred")("MWLogMessageAction").__setRef("IGDMessageRowFooter.react"),m=c("JSResourceForInteraction")("IGDBroadcastChannelReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),n=c("JSResourceForInteraction")("IGDReactionsDialog.react").__setRef("IGDMessageRowFooter.react"),o={footerContainer:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},footerContainerOutgoing:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0},reactionPillEmoji:{alignItems:"x6s0dn4",display:"x78zum5",fontSize:"x1pg5gke",height:"x1v9usgg",justifyContent:"xl56j7k",marginInlineStart:"xwklpps",marginInlineEnd:"xnnr8r",textAlign:"x2b8uid",width:"x6jxa94",$$css:!0},singleReaction:{marginInlineEnd:"xnnr8r",$$css:!0},translate:{transform:"x1wx64ow",$$css:!0},translateEmojiOnly:{transform:"x2hkv1k",$$css:!0},translateReset:{transform:"x1c1b4dv",$$css:!0}};function p(a){var b=d("react-compiler-runtime").c(11),e=a.reaction,g=(h||(h=c("useReStore")))();b[0]!==g.tables.contacts||b[1]!==e.actorId?(a=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(e.actorId)},b[0]=g.tables.contacts,b[1]=e.actorId,b[2]=a):a=b[2];var i;b[3]!==g||b[4]!==e.actorId?(i=[g,e.actorId],b[3]=g,b[4]=e.actorId,b[5]=i):i=b[5];a=d("ReQLSuspense").useFirst(a,i,f.id+":105");b[6]!==a?(i=a!=null?c("getLSMediaContactProfilePictureUrl")(a):"/images/chat/webrtc/no_profile_pic.png",b[6]=a,b[7]=i):i=b[7];i=i;if(a!=null){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xwklpps xnnr8r"},b[8]=a):a=b[8];b[9]!==i?(a=k.jsx("div",babelHelpers["extends"]({},a,{role:"none",children:k.jsx(c("IGDSingleAvatar.react"),{size:"micro",src:i})})),b[9]=i,b[10]=a):a=b[10];return a}else return null}function q(a){var b=d("react-compiler-runtime").c(18),e=a.count,f=a.emojis,g=a.reactions,h=a.shouldShowAvatarForSingleReaction,j=g.length===1;if(b[0]!==f||b[1]!==j||b[2]!==h){b[4]!==j||b[5]!==h?(a=function(a,b){return k.createElement("span",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([o.reactionPillEmoji,j&&!h?o.singleReaction:!1]),{key:String(b)}),k.jsx(c("IGDSEmoji.react"),{emoji:a.join("")}))},b[4]=j,b[5]=h,b[6]=a):a=b[6];a=f.map(a);b[0]=f;b[1]=j;b[2]=h;b[3]=a}else a=b[3];f=a;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x19g9edo x1yhmmig xpcrz0c xyb01ml x1vpptxl xqbdsaf xpf24wh x14a4ghu x1a4jp9x x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1gnnqk1 x9f619 x78zum5 x1q0g3np x17rw0jw xl56j7k xo5v014 x25sj25 x1icxu4v"},b[7]=a):a=b[7];var l;b[8]!==j||b[9]!==g[0]||b[10]!==h?(l=j&&h?k.jsx(p,{reaction:g[0]}):null,b[8]=j,b[9]=g[0],b[10]=h,b[11]=l):l=b[11];b[12]!==e?(g=e>1?k.jsx("div",babelHelpers["extends"]({className:"x5n08af x1f6kntn xwklpps xnnr8r"},{role:"none",children:c("intlSummarizeNumber")(e)})):null,b[12]=e,b[13]=g):g=b[13];b[14]!==f||b[15]!==l||b[16]!==g?(e=k.jsxs("div",babelHelpers["extends"]({},a,{role:"none",children:[f,l,g]})),b[14]=f,b[15]=l,b[16]=g,b[17]=e):e=b[17];return e}function a(a){var b=d("react-compiler-runtime").c(16),e=a.hasReactions,f=a.isGroupThread,g=a.message,i=a.outgoing,j=a.reactions,p=a.reactionsV2;a=a.resetReactionTranslateStyle;var r=d("MWPActor.react").useActor(),s=(h||(h=c("useReStore")))(),t=p!=null&&p.length>0,u=c("useIGDBroadcastChannelReactionsFooterButtonClickLogger")(g.threadKey,g.messageId),v=c("mwv2MessageIsEmojiOnly")(g.text,!1);a=a===!0?o.translateReset:v?o.translateEmojiOnly:o.translate;v=i?o.footerContainerOutgoing:o.footerContainer;var w;b[0]!==r||b[1]!==s||b[2]!==e||b[3]!==f||b[4]!==u||b[5]!==g||b[6]!==i||b[7]!==j||b[8]!==p||b[9]!==t?(w=e?k.jsx(c("ShimButton.react"),{children:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{dialogResource:t?m:n,message:g,onPress:function(){l.onReady(function(a){return c("promiseDone")(a.log(s,g.messageId,g.threadKey,"direct_click","view_message_reactions",void 0,void 0,void 0,g.senderId,void 0,r))}),u()},outgoing:i,reactions:j,reactionsV2:t?p:void 0,shouldUseVariant16ForReactionsV2:t,children:function(a,b,c){return k.jsx(q,{count:b,emojis:a,reactions:c,shouldShowAvatarForSingleReaction:t?!1:f})}})}):null,b[0]=r,b[1]=s,b[2]=e,b[3]=f,b[4]=u,b[5]=g,b[6]=i,b[7]=j,b[8]=p,b[9]=t,b[10]=w):w=b[10];b[11]!==i||b[12]!==a||b[13]!==v||b[14]!==w?(e=k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{itemsXstyle:a,outgoing:i,xstyle:v,children:w}),b[11]=i,b[12]=a,b[13]=v,b[14]=w,b[15]=e):e=b[15];return e}g["default"]=a}),98);
__d("IGDRepliedEphemeralMessage.react",["EphemeralMediaViewMode","IGDChatImage.react","IGDChatVideo.react","IGDRavenMessage.react","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=340*.6,l=236*.6;function a(a){var b=d("react-compiler-runtime").c(10),e=a.attachment,f=a.message;a=a.outgoing;if(e.ephemeralMediaViewMode!=null){var g=(i||(i=d("LSIntEnum"))).unwrapIntEnum(e.ephemeralMediaViewMode);if(g===c("EphemeralMediaViewMode").PERMANENT)switch((i||(i=d("LSIntEnum"))).toNumber(e.attachmentType)){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:b[0]!==e||b[1]!==f||b[2]!==a?(g=j.jsx(c("IGDChatImage.react"),{attachment:e,connectBottom:!1,connectTop:!1,isReplyMessage:!0,maxHeight:k,maxWidth:l,mediaRenderQpl:null,message:f,outgoing:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:b[4]!==e||b[5]!==f||b[6]!==a?(g=j.jsx(c("IGDChatVideo.react"),{attachment:e,connectTop:!1,maxHeight:k,maxWidth:l,mediaRenderQpl:null,message:f,outgoing:a}),b[4]=e,b[5]=f,b[6]=a,b[7]=g):g=b[7];return g}}b[8]!==e?(f=j.jsx(c("IGDRavenMessage.react"),{attachment:e,connectBottom:!1,connectTop:!1,outgoing:!0}),b[8]=e,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("IGDRepliedUtils",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;b=100;function a(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)}g.REPLIED_STICKER_SIZE=b;g.orderByUserSelection=a}),98);
__d("IGDRepliedXMAAttachment.react",["BaseImage.react","BaseTheme.react","IGDSText.react","IGDXMAAttachmentItemPreview.react","LSMediaUrlAttachment","MWPBaseXMAAttachment.react","MWPXMAIconParser","react","react-compiler-runtime","useXMAPreviewIconDecorator.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo,k={headerImage:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",marginTop:"x9otpla",marginBottom:"x1wsgfga",marginInlineEnd:"xbelrpt",marginInlineStart:"x165d6jo",objectFit:"xl1xv1r",$$css:!0}};b={"mwp-xma-message-bubble-max-width":"200px"};var l={dark:b,light:b,type:"VARIABLES"};e={"mwp-xma-message-bubble-max-width":"100px"};var m={dark:e,light:e,type:"VARIABLES"};function n(a){return j(function(){var b=d("MWPXMAIconParser").parse(d("LSMediaUrlAttachment").headerImageUrl(a));b=typeof b==="string"?b:null;var c=a.headerTitle;if(b!=null||c!=null)return{imageUrl:b,title:c}},[a])}function o(a){var b=d("react-compiler-runtime").c(2),c=d("LSMediaUrlAttachment").previewUrl(a);a=d("LSMediaUrlAttachment").playableUrl(a);c=c!=null||a!=null;a=p;b[0]!==c?(a={getPreviewImageUrlXMA:a,hasPreview:c},b[0]=c,b[1]=a):a=b[1];return a}function p(a,b){return d("LSMediaUrlAttachment").previewUrl(a)}function a(a){var b=d("react-compiler-runtime").c(15),e=a.attachment,f=a.mediaRenderQpl,g=c("useXMAPreviewIconDecorator.react")(e.previewImageDecorationType),h=n(e);a=o(e);var j=a.getPreviewImageUrlXMA,p=a.hasPreview,q=g!=null,r=h!=null&&!p;a=r?l:m;var s;b[0]!==e||b[1]!==j||b[2]!==q||b[3]!==p||b[4]!==h||b[5]!==g||b[6]!==r||b[7]!==f?(s=function(a){switch(a.layoutType){case"vertical":return i.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x6ikm8r x10wlt62 x19g9edo"},1:{className:"x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x6ikm8r x10wlt62 x19g9edo x1n2onr6"}}[!!p<<0],{children:[(r||q)&&i.jsx("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 x78zum5 x13a6bvl xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1vjfegm"},1:{className:"x6s0dn4 x78zum5 x13a6bvl xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1vjfegm xtijo5x x1o0tod x10l6tqk x13vifvy"}}[!!p<<0],{children:r&&i.jsxs(i.Fragment,{children:[(h==null?void 0:h.imageUrl)!=null&&i.jsx(c("BaseImage.react"),{height:20,src:h.imageUrl,width:20,xstyle:k.headerImage}),(h==null?void 0:h.title)!=null&&i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"body",children:h.title})]})})),i.jsx("div",babelHelpers["extends"]({className:"x1ey2m1c xtijo5x x1o0tod xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x10l6tqk x1vjfegm"},{children:g})),p&&a.preview!=null&&i.jsxs(i.Fragment,{children:[i.jsx(c("IGDXMAAttachmentItemPreview.react"),{attachment:e,attachmentItem:a.preview,getPreviewImageUrlXMA:j,mediaRenderQpl:f,size:"small"}),q&&i.jsx("div",{className:"xnp7tpx x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy"})]})]}));case"centered":return"centered";case"horizontal":return"horizontal";case"expired":case"placeholder":return null}},b[0]=e,b[1]=j,b[2]=q,b[3]=p,b[4]=h,b[5]=g,b[6]=r,b[7]=f,b[8]=s):s=b[8];var t;b[9]!==e||b[10]!==s?(t=i.jsx(c("MWPBaseXMAAttachment.react"),{attachment:e,connectBottom:!1,connectTop:!1,hasText:!1,renderLayout:s}),b[9]=e,b[10]=s,b[11]=t):t=b[11];b[12]!==a||b[13]!==t?(s=i.jsx(c("BaseTheme.react"),{config:a,children:t}),b[12]=a,b[13]=t,b[14]=s):s=b[14];return s}g["default"]=a}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.children,d=a.fontStyle;d=d===void 0?"normal":d;a=a.outgoing;return j.jsxs(c("MWXMessageBubble.react"),{align:a?"right":"left",color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[j.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Original message:")}),j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:j.jsx("div",babelHelpers["extends"]({},{0:{className:"x1mzt3pk x1l90r2v x1iorvi4"},1:{className:"x1mzt3pk x1l90r2v x1iorvi4 x1k4tb9n"}}[!!(d==="italic")<<0],{"data-testid":void 0,children:b}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon_DEPRECATED.react","MWXMessageReplyBubble.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function a(a){var b=a.mediaRenderQpl;a=a.outgoing;l(function(){b==null||b.addPoint("render-replies-attachment")},[b]);var e=h._(/*BTDS*/"Attachment");return k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:k.jsxs("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5"},{children:[e,k.jsx("span",babelHelpers["extends"]({className:"x1lliihq x13fj5qh"},{children:k.jsx(c("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})}))]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedAttachment.react",["I64","IGDAttachmentUtil","IGDPlaceholderMessage.react","IGDRepliedEphemeralMessage.react","IGDRepliedUtils","IGDRepliedXMAAttachment.react","IGDSticker.react","LSIntEnum","MWRepliesAttachment.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.isSecureMessage,g=a.mediaRenderQpl,k=a.message;a=a.outgoing;var m=(h||(h=c("useReStore")))(),n=k==null?void 0:k.replySourceId,o=k==null?void 0:k.threadKey,p,q;b[0]!==m||b[1]!==n||b[2]!==o?(p=function(){return n!=null&&o!=null?d("ReQL").fromTableAscending(m.tables.attachments).getKeyRange(o,n):d("ReQL").empty()},q=[m,n,o],b[0]=m,b[1]=n,b[2]=o,b[3]=p,b[4]=q):(p=b[3],q=b[4]);p=Array.from(d("ReQLSuspense").useArray(p,q,f.id+":49")).sort(d("IGDRepliedUtils").orderByUserSelection);q=p.length;if(q===0||k==null)return null;else if(q>1){b[5]!==e||b[6]!==g||b[7]!==k||b[8]!==a?(q=l.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:e,mediaRenderQpl:g,message:k,outgoing:a}),b[5]=e,b[6]=g,b[7]=k,b[8]=a,b[9]=q):q=b[9];return q}else{q=p[0];if((i||(i=d("I64"))).equal(q.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))if(d("IGDAttachmentUtil").isUnsupportedXma(q,void 0,void 0,k)){p=d("IGDAttachmentUtil").getUnsupportedXmaType(q);p!=null&&(p="replied_xma_"+p);return l.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:g,outgoing:a,unsupportedType:p})}else if(d("IGDAttachmentUtil").isStickerXMA(q))return l.jsx(c("IGDSticker.react"),{attachment:q,stickerSize:d("IGDRepliedUtils").REPLIED_STICKER_SIZE});else return l.jsx(c("IGDRepliedXMAAttachment.react"),{attachment:q,mediaRenderQpl:g});else if((i||(i=d("I64"))).equal(q.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE))||(i||(i=d("I64"))).equal(q.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)))return l.jsx(c("IGDRepliedEphemeralMessage.react"),{attachment:q,message:k,outgoing:a});else if((i||(i=d("I64"))).equal(q.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))){b[10]!==q?(p=l.jsx(c("IGDSticker.react"),{attachment:q,stickerSize:d("IGDRepliedUtils").REPLIED_STICKER_SIZE}),b[10]=q,b[11]=p):p=b[11];return p}else{b[12]!==e||b[13]!==k||b[14]!==a?(g=l.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:e,mediaRenderQpl:null,message:k,outgoing:a}),b[12]=e,b[13]=k,b[14]=a,b[15]=g):g=b[15];return g}}}g["default"]=a}),98);
__d("IGDRepliedMessageBubble.react",["fbt","CometScreenReaderText.react","I64","MWXMessageBubble.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={content:{color:"x5n08af",fontSize:"x1f6kntn",lineHeight:"x1btupbp",overflowWrap:"x1mzt3pk",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.message;a=a.xstyle;var g=f.replyToUserId;f=g!=null?(k||(k=d("I64"))).equal(f.senderId,g):!1;g=f?"right":"left";b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Original message:")}),b[0]=f):f=b[0];var j;b[1]!==a?(j=(i||(i=c("stylex"))).props(m.content,a),b[1]=a,b[2]=j):j=b[2];b[3]!==e||b[4]!==j?(a=l.jsx("div",babelHelpers["extends"]({},j,{children:e})),b[3]=e,b[4]=j,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(e=l.jsxs(c("MWXMessageBubble.react"),{align:g,color:"incoming",connectBottom:!1,connectTop:!1,precedesXMA:!1,children:[f,a]}),b[6]=g,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("IGDRepliedCollection.react",["fbt","IGDAttachmentUtil","IGDChatImage.react","IGDChatVideo.react","IGDMediaGrid.react","IGDRepliedMessageBubble.react","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","useIGDGetAttachments","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._(/*BTDS*/"Media collection"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.message,g=a.outgoing,h=e.replySourceId,j=e.replySourceTimestampMs,n=e.threadKey,o=(i||(i=c("useReStore")))();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={eventName:"media_collection_replied_rendered"},b[0]=a):a=b[0];a=c("MessengerWebUXLogger").useImpressionLoggerRef(a);var p,q;b[1]!==o||b[2]!==h||b[3]!==j||b[4]!==n?(p=function(){return h!=null&&n!=null&&j!=null?d("ReQL").fromTableAscending(o.tables.messages).getKeyRange(n,j,h):d("ReQL").empty()},q=[o,n,h,j],b[1]=o,b[2]=h,b[3]=j,b[4]=n,b[5]=p,b[6]=q):(p=b[5],q=b[6]);var r=d("ReQLSuspense").useFirst(p,q,f.id+":52");p=d("useIGDGetAttachments").useIGDGetAttachments(r);b[7]!==p||b[8]!==a||b[9]!==e||b[10]!==r||b[11]!==g?(q=p!=null?k.jsx(c("IGDMediaGrid.react"),{attachments:p,connectBottom:!1,connectTop:!1,isReply:!1,logImpressionEventRef:a,onRenderMedia:function(a){if(d("IGDAttachmentUtil").isImageAttachment(a))return k.jsx(c("IGDChatImage.react"),{attachment:a,connectTop:!1,inGrid:!0,isReplyMessage:!0,mediaRenderQpl:null,message:e,outgoing:g,repliedMessage:r});return d("IGDAttachmentUtil").isVideoAttachment(a)?k.jsx(c("IGDChatVideo.react"),{attachment:a,connectTop:!1,inGrid:!0,isReplyMessage:!0,mediaRenderQpl:null,message:e,outgoing:g,repliedMessage:r}):null},outgoing:g}):k.jsx(c("IGDRepliedMessageBubble.react"),{message:e,xstyle:m.italic,children:l}),b[7]=p,b[8]=a,b[9]=e,b[10]=r,b[11]=g,b[12]=q):q=b[12];return q}g["default"]=a}),226);
__d("IGDRepliedMedia.react",["fbt","I64","IGDChatImage.react","IGDRepliedMessageBubble.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._(/*BTDS*/"Photo"),n={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),e=a.message;a=a.outgoing;var g=e.replyAttachmentId,h=e.replySourceId,k=e.threadKey,o=(i||(i=c("useReStore")))(),p,q;b[0]!==o||b[1]!==g||b[2]!==h||b[3]!==k?(p=function(){return h!=null&&g!=null?d("ReQL").fromTableAscending(o.tables.attachments).getKeyRange(k,h,(j||(j=d("I64"))).to_string(g)):d("ReQL").empty()},q=[o,k,h,g],b[0]=o,b[1]=g,b[2]=h,b[3]=k,b[4]=p,b[5]=q):(p=b[4],q=b[5]);p=d("ReQLSuspense").useFirst(p,q,f.id+":45");b[6]!==p||b[7]!==e||b[8]!==a?(q=p!=null?l.jsx(c("IGDChatImage.react"),{attachment:p,connectBottom:!1,connectTop:!1,isReplyMessage:!0,maxHeight:204,maxWidth:141.6,mediaRenderQpl:null,message:e,outgoing:a}):l.jsx(c("IGDRepliedMessageBubble.react"),{message:e,xstyle:n.italic,children:m}),b[6]=p,b[7]=e,b[8]=a,b[9]=q):q=b[9];return q}g["default"]=a}),226);
__d("IGDRepliedPostXMAAttachment.react",["fbt","IGDRepliedMessageBubble.react","IGDRepliedUtils","IGDXMAAttachment.react","LSMediaUrlAttachment","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._(/*BTDS*/"Photo"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message;a=a.outgoing;e=e===void 0?!1:e;var j=(i||(i=c("useReStore")))(),q=h.replySourceId,r=h.threadKey,s,t;b[0]!==j||b[1]!==q||b[2]!==r?(s=function(){return q!=null?d("ReQL").fromTableAscending(j.tables.attachments).getKeyRange(r,q):d("ReQL").empty()},t=[j,q,r],b[0]=j,b[1]=q,b[2]=r,b[3]=s,b[4]=t):(s=b[3],t=b[4]);s=Array.from(d("ReQLSuspense").useArray(s,t,f.id+":53")).sort(d("IGDRepliedUtils").orderByUserSelection);t=s.length;if(t===0)return null;else if(t>1){b[5]!==e||b[6]!==g||b[7]!==h||b[8]!==a?(t=k.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:e,mediaRenderQpl:g,message:h,outgoing:a}),b[5]=e,b[6]=g,b[7]=h,b[8]=a,b[9]=t):t=b[9];return t}e=s[0];b[10]!==e||b[11]!==g||b[12]!==h||b[13]!==a?(t=e!=null?k.jsx(c("IGDXMAAttachment.react"),{attachment:e,connectBottom:!1,connectTop:!1,getFaviconUrlXMA:p,getHeaderImageUrlXMA:o,getPreviewImageUrlXMA:n,mediaRenderQpl:g,message:h,outgoing:a}):k.jsx(c("IGDRepliedMessageBubble.react"),{message:h,xstyle:m.italic,children:l}),b[10]=e,b[11]=g,b[12]=h,b[13]=a,b[14]=t):t=b[14];return t}function n(a){return d("LSMediaUrlAttachment").previewUrl(a)}function o(a){return d("LSMediaUrlAttachment").headerImageUrl(a)}function p(a){return d("LSMediaUrlAttachment").faviconUrl(a)}g["default"]=a}),226);
__d("IGDRepliedSticker.react",["fbt","CometPlaceholder.react","I64","IGDRepliedUtils","IGDSticker.react","MWRepliesAttachment.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.isSecureMessage,g=a.mediaRenderQpl,k=a.message;a=a.outgoing;e=e===void 0?!1:e;var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Sticker"),b[0]=m):m=b[0];m=m;var n=(i||(i=c("useReStore")))(),o;b[1]!==n||b[2]!==k.replyAttachmentId||b[3]!==k.replySourceId||b[4]!==k.threadKey?(o=function(){var a=k.replyAttachmentId,b=k.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(k.threadKey,b,(j||(j=d("I64"))).to_string(a)):d("ReQL").empty()},b[1]=n,b[2]=k.replyAttachmentId,b[3]=k.replySourceId,b[4]=k.threadKey,b[5]=o):o=b[5];var p;b[6]!==n||b[7]!==k?(p=[n,k],b[6]=n,b[7]=k,b[8]=p):p=b[8];o=d("ReQLSuspense").useFirst(o,p,f.id+":42");if(o==null){b[9]!==a?(p=l.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:m}),b[9]=a,b[10]=p):p=b[10];return p}b[11]!==e||b[12]!==g||b[13]!==k||b[14]!==a?(m=l.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:e,mediaRenderQpl:g,message:k,outgoing:a}),b[11]=e,b[12]=g,b[13]=k,b[14]=a,b[15]=m):m=b[15];b[16]!==o?(p=l.jsx(c("IGDSticker.react"),{attachment:o,stickerSize:d("IGDRepliedUtils").REPLIED_STICKER_SIZE}),b[16]=o,b[17]=p):p=b[17];b[18]!==m||b[19]!==p?(e=l.jsx(c("CometPlaceholder.react"),{fallback:m,children:p}),b[18]=m,b[19]=p,b[20]=e):e=b[20];return e}g["default"]=a}),226);
__d("IGDRepliedText.react",["CometTextWithEntities.react","IGDChatEmoji.react","IGDRepliedMessageBubble.react","MWChatTextTransform","mwv2MessageIsEmojiOnly","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.message;a=a.text;var f;b[0]!==e||b[1]!==a?(f=c("mwv2MessageIsEmojiOnly")(a,!1)?i.jsx(c("IGDChatEmoji.react"),{text:a}):i.jsx(c("IGDRepliedMessageBubble.react"),{message:e,children:i.jsx(c("CometTextWithEntities.react"),{maxLength:120,text:a,transforms:d("MWChatTextTransform").textTransforms,truncationStyle:"ellipsis-only",withParagraphs:!1})}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("IGDRepliedVideo.react",["I64","IGDChatVideo.react","MWRepliesAttachment.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.isSecureMessage,g=a.mediaRenderQpl,j=a.message;a=a.outgoing;e=e===void 0?!1:e;var l=j.replyAttachmentId,m=j.replySourceId,n=j.threadKey,o=(h||(h=c("useReStore")))(),p,q;b[0]!==o||b[1]!==l||b[2]!==m||b[3]!==n?(p=function(){return m!=null&&l!=null?d("ReQL").fromTableAscending(o.tables.attachments).getKeyRange(n,m,(i||(i=d("I64"))).to_string(l)):d("ReQL").empty()},q=[o,l,m,n],b[0]=o,b[1]=l,b[2]=m,b[3]=n,b[4]=p,b[5]=q):(p=b[4],q=b[5]);p=d("ReQLSuspense").useFirst(p,q,f.id+":37");b[6]!==p||b[7]!==e||b[8]!==g||b[9]!==j||b[10]!==a?(q=p!=null?k.jsx(c("IGDChatVideo.react"),{attachment:p,connectTop:!1,maxHeight:204,maxWidth:141.6,mediaRenderQpl:g,message:j,outgoing:!1}):k.jsx(c("MWRepliesAttachment.react"),{isSecureMessage:e,mediaRenderQpl:g,message:j,outgoing:a}),b[6]=p,b[7]=e,b[8]=g,b[9]=j,b[10]=a,b[11]=q):q=b[11];return q}g["default"]=a}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(152,a)}));return a}g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9897254837006123"}),null);
__d("MWChannelPromptContributionsDialogQuery$Parameters",["MWChannelPromptContributionsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChannelPromptContributionsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChannelPromptContributionsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChannelPromptContributionsDialog.entrypoint",["JSResourceForInteraction","MWChannelPromptContributionsDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{myQueryRef:{options:{fetchPolicy:"store-and-network"},parameters:b("MWChannelPromptContributionsDialogQuery$Parameters"),variables:{count:20,data:{prompt_id:a.promptId}}}}}},root:c("JSResourceForInteraction")("MWChannelPromptContributionsDialog.react").__setRef("MWChannelPromptContributionsDialog.entrypoint")};g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogContainer.react",["CometHideLayerOnEscape.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 xcrg951 x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6"},{ref:a,children:b}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconDots3Vertical",["MWXSvgIcon","SVGIcon","cr:22300","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22300")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChannelPromptContributionsDialogFallback.react",["fbt","MWChannelPromptContributionsDialogContainer.react","MWXCircleButton.react","MWXGlimmer.react","MWXIconCross","MWXIconDots3Vertical","MWXRow.react","MWXRowItem.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={promptTitle:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x10w6t97",width:"xdzyupr",$$css:!0}};function a(a){a=a.onClose;return j.jsx(c("MWChannelPromptContributionsDialogContainer.react"),{onClose:a,children:j.jsxs(c("MWXRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{disabled:!0,icon:c("MWXIconDots3Vertical"),label:h._(/*BTDS*/"Prompt options"),size:28})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.promptTitle})}),j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"Close"),onPress:a,size:28})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWDidQueryPromptsNux",[],(function(a,b,c,d,e,f){"use strict";var g=!1;function a(){g=!0}function b(){return g}f.markDidQueryPromptsNux=a;f.getDidQueryPromptsNux=b}),66);
__d("MDSColumnContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSColumnItemContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isFirst:!1,isLast:!1});g["default"]=b}),98);
__d("MDSColumnItem.react",["BaseView.react","CometErrorBoundary.react","CometPlaceholder.react","MDSColumnContext","MDSColumnItemContext","isIE11OrGreater","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["align","children","expanding","fallback","paddingHorizontal","paddingTop","paddingVertical","placeholder","verticalAlign"],j=["fallback"],k=["placeholder"],l,m,n=m||(m=d("react")),o=m.useContext,p={divider:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},firstChildDisplay:{display:"x1s85apg",$$css:!0},firstChildMargin:{marginTop:"xdj266r",$$css:!0},lastChildMargin:{marginBottom:"xat24cr",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},q={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},r={4:{paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0},8:{paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,$$css:!0},12:{paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0},16:{paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0},20:{paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0}},s={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0},24:{paddingTop:"x1p5oq8j",$$css:!0},40:{paddingTop:"x13zrc24",$$css:!0}},t={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0},24:{paddingTop:"x1p5oq8j",paddingBottom:"xwxc41k",$$css:!0},40:{paddingTop:"x13zrc24",paddingBottom:"x1t1ogtf",$$css:!0}},u={4:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0},8:{marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0},12:{marginTop:"x1k70j0n",marginBottom:"xzueoph",$$css:!0},16:{marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",$$css:!0},20:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},24:{marginTop:"x14vqqas",marginBottom:"xod5an3",$$css:!0},32:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",$$css:!0},40:{marginTop:"x1sy10c2",marginBottom:"xieb3on",$$css:!0}},v={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}},w={4:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,$$css:!0},8:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,$$css:!0},12:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,$$css:!0},16:{marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0},20:{marginInlineStart:"xqsn43r",marginInlineEnd:"x3aesyq",marginLeft:null,marginRight:null,$$css:!0}};function x(a){var b,d,e,f,g=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);b=(b=o(c("MDSColumnContext")))!=null?b:{};var m=a.align;d=m===void 0?(d=b.align)!=null?d:"stretch":m;m=a.children;var y=a.expanding;y=y===void 0?!1:y;var z=a.fallback,A=a.paddingHorizontal;e=A===void 0?(e=b.paddingHorizontal)!=null?e:0:A;A=a.paddingTop;var B=a.paddingVertical;B=B===void 0?0:B;var C=a.placeholder,D=a.verticalAlign;D=D===void 0?"top":D;var E=babelHelpers.objectWithoutPropertiesLoose(a,i),F=o(c("MDSColumnItemContext")),G=F.isFirst;F=F.isLast;var H=(l||(l=c("stylex"))).compose(a.xstyle);f=n.jsxs(n.Fragment,{children:[b.hasDividers===!0&&n.jsx(c("BaseView.react"),{role:"separator",xstyle:[p.divider,w[(f=b.paddingHorizontal)!=null?f:0],G&&p.firstChildDisplay]}),n.jsx(c("BaseView.react"),babelHelpers["extends"]({},E,{ref:g,xstyle:[p.root,y&&[p.expanding,c("isIE11OrGreater")&&p.expandingIE11],d!=="stretch"&&q[d],D!=="top"&&v[D],r[e],t[B],A!=null&&s[A],b.spacing!=null&&[u[b.spacing],H.marginTop==null&&G&&p.firstChildMargin,H.marginBottom==null&&F&&p.lastChildMargin],a.xstyle],children:n.jsx(c("MDSColumnContext").Provider,{value:null,children:m})}))]});if(z!==void 0){a.fallback;var I=babelHelpers.objectWithoutPropertiesLoose(a,j);z===null?f=n.jsx(c("CometErrorBoundary.react"),{children:f}):f=n.jsx(c("CometErrorBoundary.react"),{fallback:function(a,b){return n.jsx(x,babelHelpers["extends"]({},I,{ref:g,children:typeof z==="function"?z(a,b):z}))},children:f})}if(C!==void 0){a.placeholder;E=babelHelpers.objectWithoutPropertiesLoose(a,k);f=n.jsx(c("CometPlaceholder.react"),{fallback:C!=null?n.jsx(x,babelHelpers["extends"]({},E,{ref:g,children:C})):null,children:f})}return f}x.displayName=x.name+" [from "+f.id+"]";a=x;g["default"]=a}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"],i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useMemo,m={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},n={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},o={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},p={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function a(a){var b=a.ref,d=a.align,e=d===void 0?null:d;d=a.children;var f=a.expanding;f=f===void 0?!1:f;var g=a.hasDividers,i=g===void 0?!1:g;g=a.paddingHorizontal;var q=g===void 0?null:g;g=a.paddingTop;var r=a.paddingVertical;r=r===void 0?0:r;var s=a.spacing,t=s===void 0?null:s;s=a.verticalAlign;s=s===void 0?"top":s;var v=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var w=k(c("MDSColumnContext")),x=l(function(){return{align:e,hasDividers:i,paddingHorizontal:q,spacing:t}},[e,i,q,t]);a=j.jsx(c("BaseView.react"),babelHelpers["extends"]({},a,{ref:b,xstyle:[m.root,f===!0&&[m.expanding,c("isIE11OrGreater")&&m.expandingIE11],o[r],g!=null&&n[g],v],children:j.jsx(c("BaseView.react"),{xstyle:[m.inner,s!=="top"&&p[s]],children:j.jsx(c("MDSColumnContext").Provider,{value:x,children:u(d)})})}));return w!=null?j.jsx(c("MDSColumnItem.react"),{expanding:f!=null?f:void 0,children:a}):a}a.displayName=a.name+" [from "+f.id+"]";e=a;var q={isFirst:!0,isLast:!1},r={isFirst:!1,isLast:!0},s={isFirst:!0,isLast:!0},t={isFirst:!1,isLast:!1};function u(a){return j.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?s:e?q:d?r:t;return j.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=e}),98);
__d("MDSGlimmer.react",["cr:10389","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(b("cr:10389"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSRowContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(null);g["default"]=b}),98);
__d("MDSRowItem.react",["BaseRowItem.react","CometErrorBoundary.react","CometPlaceholder.react","MDSRowContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["fallback","placeholder"],j=["children","placeholder"],k=["fallback"],l,m=l||(l=d("react")),n=l.useContext,o={4:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0},8:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},12:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},16:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},24:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},32:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}},p={4:{paddingBottom:"x1120s5i",paddingTop:"x1nn3v0j",$$css:!0},8:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},12:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},16:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},24:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},32:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0}};function q(a){var b,d=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);b=(b=n(c("MDSRowContext")))!=null?b:{};var e=b.spacingHorizontal;b=b.spacingVertical;var f=a.fallback,g=a.placeholder,l=babelHelpers.objectWithoutPropertiesLoose(a,i);if(g!==void 0){var r=a.children;a.placeholder;var s=babelHelpers.objectWithoutPropertiesLoose(a,j);return m.jsx(q,babelHelpers["extends"]({},s,{ref:d,role:"status",children:m.jsx(c("CometPlaceholder.react"),{fallback:g!=null?g:null,children:r})}))}if(f!==void 0){a.fallback;var t=babelHelpers.objectWithoutPropertiesLoose(a,k);return f===null?m.jsx(c("CometErrorBoundary.react"),{children:m.jsx(q,babelHelpers["extends"]({},t,{ref:d}))}):m.jsx(c("CometErrorBoundary.react"),{fallback:function(a,b){return m.jsx(q,babelHelpers["extends"]({},t,{ref:d,children:typeof f==="function"?f(a,b):f}))},children:m.jsx(q,babelHelpers["extends"]({},t,{ref:d}))})}return m.jsx(c("BaseRowItem.react"),babelHelpers["extends"]({},l,{ref:d,useDeprecatedStyles:l.useDeprecatedStyles,xstyle:[o[e],p[b],l.xstyle],children:m.jsx(c("MDSRowContext").Provider,{value:null,children:l.children})}))}q.displayName=q.name+" [from "+f.id+"]";a=q;g["default"]=a}),98);
__d("MDSRow.react",["BaseRow.react","MDSColumnContext","MDSColumnItem.react","MDSRowContext","MDSRowItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["children","paddingHorizontal","paddingVertical","paddingTop","spacing","spacingHorizontal","spacingVertical","xstyle"],j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useMemo,n={0:{$$css:!0},4:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0},8:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xmzvs34",$$css:!0},10:{paddingInlineEnd:"x2vl965",paddingInlineStart:"xe2zdcy",$$css:!0},12:{paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",$$css:!0},16:{paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",$$css:!0}},o={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},10:{paddingTop:"x889kno",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},p={0:{$$css:!0},4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},8:{paddingBottom:"xwib8y2",paddingTop:"x1y1aw1k",$$css:!0},10:{paddingBottom:"x1a8lsjc",paddingTop:"x889kno",$$css:!0},12:{paddingBottom:"xsag5q8",paddingTop:"xz9dl7a",$$css:!0},16:{paddingBottom:"x1l90r2v",paddingTop:"xyamay9",$$css:!0},20:{paddingBottom:"xx6bls6",paddingTop:"x1cnzs8",$$css:!0}},q={0:{$$css:!0},4:{marginInlineEnd:"x11lt19s",marginInlineStart:"xe9ewy2",$$css:!0},8:{marginInlineEnd:"x1lxpwgx",marginInlineStart:"x165d6jo",$$css:!0},10:{marginInlineEnd:"xv9t0rm",marginInlineStart:"x137kccz",$$css:!0},12:{marginInlineEnd:"x1ws5yxj",marginInlineStart:"xw01apr",$$css:!0},16:{marginInlineEnd:"x1w5wx5t",marginInlineStart:"x1qfufaz",$$css:!0},24:{marginInlineEnd:"xbcz3fp",marginInlineStart:"x18xomjl",$$css:!0},32:{marginInlineEnd:"xd9ej83",marginInlineStart:"x162z183",$$css:!0}},r={0:{$$css:!0},4:{marginBottom:"xmgb6t1",marginTop:"x1kgmq87",$$css:!0},8:{marginBottom:"x4vbgl9",marginTop:"x1rdy4ex",$$css:!0},10:{marginBottom:"xz62fqu",marginTop:"x16ldp7u",$$css:!0},12:{marginBottom:"x4cne27",marginTop:"xifccgj",$$css:!0},16:{marginBottom:"x1wsgfga",marginTop:"x9otpla",$$css:!0},24:{marginBottom:"xh3wvx0",marginTop:"x7wgvq7",$$css:!0},32:{marginBottom:"x1oo3vh0",marginTop:"xwya9rg",$$css:!0}};function a(a){var b,d=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var e=l(c("MDSColumnContext")),f=l(c("MDSRowContext")),g=(e==null?void 0:e.paddingHorizontal)!=null?0:12,j=(e==null?void 0:e.spacing)!=null?0:16,s=a.children,t=a.paddingHorizontal;g=t===void 0?g:t;t=a.paddingVertical;t=t===void 0?0:t;var u=a.paddingTop;b=u===void 0?(b=a.paddingVertical)!=null?b:j:u;j=a.spacing;u=j===void 0?12:j;j=a.spacingHorizontal;var v=j===void 0?u:j;j=a.spacingVertical;var w=j===void 0?u:j;u=a.xstyle;j=babelHelpers.objectWithoutPropertiesLoose(a,i);a=m(function(){return{spacingHorizontal:v,spacingVertical:w}},[v,w]);d=k.jsx(c("BaseRow.react"),babelHelpers["extends"]({},j,{ref:d,xstyle:[n[g],p[t],b!=null&&o[b],q[v],r[w],u],children:k.jsx(c("MDSRowContext").Provider,{value:a,children:s})}));if(f!=null)return k.jsx(c("MDSRowItem.react"),{expanding:j.expanding,children:d});return e!=null?k.jsx(c("MDSColumnItem.react"),{expanding:j.expanding,children:d}):d}a.displayName=a.name+" [from "+f.id+"]";e=a;g["default"]=e}),98);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.onClose;a=a.visibilityRef;return i.jsx(c("CometHideLayerOnEscape.react"),{onHide:d,children:i.jsx("div",babelHelpers["extends"]({className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs"},{ref:a,children:i.jsx(c("CometTheme.react"),{style:{display:"contents"},theme:"dark",children:b})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","FDSCrossFilled16Icon","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon_DEPRECATED.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b;a=a.onClose;return k.jsxs(c("MWRollcallContributionsDialogContainer.react"),{onClose:a,children:[k.jsxs(c("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[k.jsx(b=c("MDSRowItem.react"),{children:k.jsx(c("MWXIcon_DEPRECATED.react"),{"aria-label":h._(/*BTDS*/"Close"),icon:c("FDSCrossFilled16Icon"),onPress:a,size:20})}),k.jsx(b,{children:k.jsx(a=c("MDSGlimmer.react"),{index:0,xstyle:l.rollcallTitle})}),k.jsx(b,{children:k.jsx(c("MWXIcon_DEPRECATED.react"),{"aria-label":h._(/*BTDS*/"Rollcall options"),disabled:!0,icon:d("fbicon")._(i("816819"),16),size:20})})]}),k.jsx(c("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:k.jsxs(c("MDSColumnItem.react"),{children:[k.jsxs(c("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:l.contributionHeader,children:[k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profilePicture})}),k.jsx(b,{children:k.jsx(a,{index:0,xstyle:l.profileName})})]}),k.jsx(a,{index:0,xstyle:l.contributionMedia})]})})]})}a.displayName=a.name+" [from "+f.id+"]";var l={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x10w6t97",width:"xdzyupr",$$css:!0}};g["default"]=a}),226);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127406705,"1680"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127406705,"1680"),"fail to load roll call information")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:d,entry_point:a,source_type:b}}})}g.endSuccessXMACtaClickQplLogging=a;g.endFailureXMACtaClickQplLogging=b;g.startXMACtaClickQplLogging=d}),98);
__d("RollcallXmaViewerQplLogging",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("QPLUserFlow").endSuccess(c("qpl")._(127403136,"1137"))}function b(){c("QPLUserFlow").endFailure(c("qpl")._(127403136,"1137"),"error while doing actions in Rollcall viewer.")}function d(a,b,d){c("QPLUserFlow").start(c("qpl")._(127403136,"1137"),{annotations:{bool:{is_viewer_contribute:b},"int":{total_media_items:a},string:{source_type:d}}})}function e(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"added_reaction")}function f(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"unsend_contribution")}function h(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reset_prompt")}function i(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_prompt")}function j(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"report_contribution")}function k(){c("QPLUserFlow").addPoint(c("qpl")._(127403136,"1137"),"reply_contribution")}g.endSuccessXMARollCallViewerQplLogging=a;g.endFailureXMARollCallViewerQplLogging=b;g.startXMARollCallViewerQplLogging=d;g.addReactionRollCallViewerQplPoint=e;g.unsendContributionRollCallViewerQplPoint=f;g.resetPromptRollCallViewerQplPoint=h;g.reportPromptRollCallViewerQplPoint=i;g.reportContributionRollCallViewerQplPoint=j;g.replyContributionRollCallViewerQplPoint=k}),98);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24318405161090869"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c=[{kind:"Literal",name:"supported",value:"TDHjT"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useRollcallContributionsXMAActionHandlerQuery",fragmentName:"CometQuickPromotionMessengerWebPromptsNuxDialogRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebPromptsRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"TDHjT")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChannelPromptContributionsDialog.entrypoint","MWChannelPromptContributionsDialogFallback.react","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","mwCMIsAnyCMThread","promiseDone","react","useMWXEntryPointDialog","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useState;function o(){var a=d("CometRelay").useRelayEnvironment();return function(){return d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()}}function a(){var a=n((j||(j=d("I64"))).zero),b=a[0],e=a[1];a=n("");var f=a[0],g=a[1];a=n(j.zero);var h=a[0],i=a[1];a=n(null);var p=a[0],q=a[1];a=n(null);var r=a[0],s=a[1],t=c("usePrevious")(b),u=c("usePrevious")(h);a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),function(a){return k.jsx(c("MWRollcallContributionsDialogFallback.react"),{onClose:a})});var v=a[0];a=c("useMWXEntryPointDialog")(c("MWChannelPromptContributionsDialog.entrypoint"),{promptId:j.to_string(h)},void 0,function(a){return k.jsx(c("MWChannelPromptContributionsDialogFallback.react"),{onClose:a})});var w=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCommunityMessagingPromptsNUXQuickPromotion.react").__setRef("useRollcallContributionsXMAActionHandler"));var x=a[0],y=o();a=d("MWLSThread").useThread(b,function(a){return a.threadType});var z=a!==void 0&&c("mwCMIsAnyCMThread")(a),A=a!==void 0&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);m(function(){z!=null&&!(j||(j=d("I64"))).is_zero(b)&&!(j||(j=d("I64"))).is_zero(h)&&t!==b&&u!==h&&(d("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",z?"cm_thread":"friends_family_thread","open_viewer"),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),A?(w({rollCallId:h,threadKey:b,xmaMessageId:f},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),i(j.zero),q(null)}),c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:305,source:157,surface:7,thread_id:(j||(j=d("I64"))).to_string(b)}})):v({ctaType:r,rollCallId:h,scrollToContributionMessageId:p,threadKey:b},function(){d("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),e((j||(j=d("I64"))).zero),g(""),i(j.zero),q(null)}),c("promiseDone")(y(),function(a){var b;a=a==null||(b=a.viewer)==null||(b=b.eligible_promotions)==null||(b=b.nodes)==null||(b=b.find(function(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}))==null||(b=b.comet_qp_sections)==null?void 0:b.renderer_strategy;a&&x({asCreator:!1,rendererStrategy:a})}))},[z,u,t,h,w,b,p,y,x,r,v,f,A]);return l(function(a,b,c,d,f){g(f),e(b),i(a),q(c),s(d)},[])}g.useRollcallContributionsXMAActionHandler=a}),98);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWPBumpEntityKey","MWXPressable.react","gkx","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.mediaRenderQpl,h=a.message,m=a.outgoing,n=a.renderAttachment,o=a.renderCollection,p=a.renderExpiredMessage,q=a.renderGIF,r=a.renderMedia,s=a.renderPost,t=a.renderRaven,u=a.renderRemovedMessage,v=a.renderRollcallContribution,w=a.renderSticker,x=a.renderStory,y=a.renderTextMessage,z=a.renderUnavailableMessage,A=a.renderUnavailableStory;a=a.renderVideo;var B=h.replyAttachmentId,C=h.replyAttachmentPlaintextHash,D=h.replyAttachmentType,E=h.replyMessageText,F=h.replySourceTypeV2,G=h.replyStatus,H=F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)),I=F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY));C=B!=null||H||C!=null&&c("gkx")("15418");if(I)A!=null?I=k.jsx(A,{outgoing:m}):I=null;else if(D!=null&&C&&(!e||G!=null&&!(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))))((i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&H?I=k.jsx(x,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):B!=null?(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&n!=null?E!=null&&E!==""?I=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:E}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))?I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?r!=null?I=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))?v!=null?I=k.jsx(v,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?o!=null?I=k.jsx(o,{message:h,outgoing:m}):r!=null?I=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?I=k.jsx(a,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))?q!=null?I=k.jsx(q,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").THIRD_PARTY_STICKER))?w!=null?I=k.jsx(w,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))?I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):s!=null?I=k.jsx(s,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=c("recoverableViolation")("Unknown attachment type: "+(i||(i=d("I64"))).to_string(D),"messenger_comet"):(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&w!=null?I=k.jsx(w,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=null;else if(F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&E!=null&&E!==""){C=(i||(i=d("I64"))).of_float(Date.now());e=h.replyMediaExpirationTimestampMs;H=e!=null&&(i||(i=d("I64"))).gt(C,e)&&!(i||(i=d("I64"))).equal(e,(i||(i=d("I64"))).zero);H?I=null:I=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:E})}else B!=null?r!=null?I=k.jsx(r,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D!=null&&(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&t!=null?I=k.jsx(t,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))?u!=null?I=k.jsx(u,{outgoing:m}):I=null:G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED))?p!=null?I=k.jsx(p,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=null:G!=null&&(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?z!=null?I=k.jsx(z,{outgoing:m}):I=null:E!=null&&F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?E!==""?I=k.jsx(y,{isSecureMessage:f,message:h,outgoing:m,text:E}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):D!=null&&(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))?A!=null?I=k.jsx(A,{outgoing:m}):I=k.jsx(n,{isSecureMessage:f,mediaRenderQpl:g,message:h,outgoing:m}):I=null;x=k.jsx("div",babelHelpers["extends"]({className:"x193iq5w x1n2onr6 x1vjfegm"},{children:I}));var J=h.replySourceTimestampMs,K=h.replySourceId,L=c("useMWJumpToMessage")("Reply");v=D!=null&&((i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(D,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var M=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();o=c("useIsRollcallEnabled")(h.threadKey);a=(j||(j=d("LSIntEnum"))).equal(h.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(j||(j=d("LSIntEnum"))).equal(h.replyAttachmentId,0);if(K!=null&&J!=null&&b&&!a){q=function(){d("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),L(K,J)};if(v&&o){var N=(i||(i=d("I64"))).of_string((s=h.replyAttachmentExtra)!=null?s:"0"),O=h.threadKey,P=(w=h.replySourceId)!=null?w:null;q=function(){d("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),M(N,O,P,null,h.messageId)}}return k.jsx(c("MWXPressable.react"),{onPress:q,overlayDisabled:!0,xstyle:function(){return[l.pressable]},children:x})}else return x}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=a.mediaRenderQpl;a=a.outgoing;k(function(){b==null||b.addPoint("render-replies-expired"),b==null||b.endSuccess()},[b]);var d=h._(/*BTDS*/"Message expired");return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.outgoing;var b=h._(/*BTDS*/"Message removed");return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9834610223284602"}),null);
__d("MWAnimatedImageControlsUtilCometSettingsQuery.graphql",["MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoSettings",kind:"LinkedField",name:"video_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"autoplay_setting_www",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWAnimatedImageControlsUtilCometSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWAnimatedImageControlsUtilCometSettingsQuery",selections:a},params:{id:b("MWAnimatedImageControlsUtilCometSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWAnimatedImageControlsUtilCometSettingsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9439828062807168"}),null);
__d("MWAnimatedImageControlsUtilMWSettingsQuery.graphql",["MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"msgr_gif_autoplay",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWAnimatedImageControlsUtilMWSettingsQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWAnimatedImageControlsUtilMWSettingsQuery",selections:a},params:{id:b("MWAnimatedImageControlsUtilMWSettingsQuery_facebookRelayOperation"),metadata:{},name:"MWAnimatedImageControlsUtilMWSettingsQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWAnimatedImageControlsUtil",["$InternalEnum","CometRelay","MWAnimatedImageControlsUtilCometSettingsQuery.graphql","MWAnimatedImageControlsUtilMWSettingsQuery.graphql","MetaConfig","asyncToGeneratorRuntime","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=j||d("react");var k=e.useEffect,l=e.useState,m=b("$InternalEnum").Mirrored(["NOT_FETCHED_YET","OFF","ON"]);function a(){var a=d("CometRelay").useRelayEnvironment(),b=l(null),e=b[0],f=b[1],g=c("gkx")("20836");k(function(){g||c("promiseDone")(n(a).then(f))},[a,g]);if(g)return m.ON;switch(e){case null:return m.NOT_FETCHED_YET;case!0:return m.ON;case!1:return m.OFF;default:return m.NOT_FETCHED_YET}}function n(a){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=c("MetaConfig")._("37");if(e){var f;e=(yield d("CometRelay").fetchQuery(a,h!==void 0?h:h=b("MWAnimatedImageControlsUtilMWSettingsQuery.graphql"),{}).toPromise());return(e==null||(f=e.viewer)==null?void 0:f.msgr_gif_autoplay)==="ON"}else{var g;e=(yield d("CometRelay").fetchQuery(a,i!==void 0?i:i=b("MWAnimatedImageControlsUtilCometSettingsQuery.graphql"),{}).toPromise());a=e==null||(g=e.viewer)==null||(g=g.video_settings)==null?void 0:g.autoplay_setting_www;if(a==="on")return!0;else return!1}});return o.apply(this,arguments)}g.MWAutoplayAnimationsSetting=m;g.useGetMessengerAutoplaySetting=a}),98);
__d("useGetMediaGroupStyles",["MWLSThreadDisplayContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=180,k=120;function a(a,b){var c=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",e=null,f=null;b===2&&c?e="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1isuwpm xq1dxzn":b===2&&!c?e="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1en3kgc xafpxmx":b===3&&c?e="x78zum5 xdt5ytf x6ikm8r x10wlt62 xu3xrit xq1dxzn":b===3&&!c?e="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1egiwwb xafpxmx":b===4&&c?e="x78zum5 xdt5ytf x6ikm8r x10wlt62 x89wwaf xh6lk7j xdj266r":b===4&&!c&&(e="x78zum5 xdt5ytf x6ikm8r x10wlt62 x1gyaxfs xt4sqew xdj266r");c?f="x6s0dn4 x1exxf4d xpv9jar x1nb4dca x1nmn18 xpilrb4 x1lun4ml x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x78zum5 xl56j7k x6ikm8r x10wlt62 x10l6tqk x1wkxgih x1mu601j x2aouup xi3av73 x1i9suas xygnafs":f="x6s0dn4 x1exxf4d xpv9jar x1nb4dca x1nmn18 xpilrb4 x1lun4ml x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x78zum5 x1b51vyi xl56j7k x19aweqf x1e4dklr x1shn012 xfb3i0g x6ikm8r x10wlt62 x10l6tqk xzjbwwf";var g=i(function(){return{fourImageTile:[{bottom:0,left:17},{bottom:6,left:8,transform:"rotate(-4deg)"},{bottom:12,right:8,transform:"rotate(4deg)"},{bottom:18,left:8,transform:"rotate(-4deg)"}],threeImageTile:[{left:a?null:0,right:a?0:null,top:0},{left:a?0:null,right:a?null:0,top:c?100:160},{bottom:0,left:a?null:0,right:a?0:null}],twoImageTile:[{left:a?0:null,right:a?null:0,top:0},{bottom:0,left:a?null:0,right:a?0:null}]}},[a,c]);b=b===2?g.twoImageTile:b===3?g.threeImageTile:g.fourImageTile;return{containerStyles:e,coordinations:b,imageSize:c?k:j,wrapperStyles:f}}function b(a,b,c){var e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",f=1,g=1;if(a!==!0||b===0||c===0)return{resizeRatio:f,scaleRatio:g};a===!0&&b!=null&&c!=null&&(b>=c?f=Math.ceil((e?k:j)/c):f=Math.ceil((e?k:j)/b));a===!0&&f===1&&b!=null&&c!=null&&(g=b>c?b/c:c/b);return{resizeRatio:f,scaleRatio:g}}g.IMAGE_SIZE=j;g.IMAGE_SIZE_CHAT_TAB=k;g.useGetMediaGroupStyles=a;g.useGetMediaGroupTileImageRatios=b}),98);
__d("MWMessageListImageSizingUtils",["justknobx","useGetMediaGroupStyles"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){if(e===!0)return{maxHeight:b==="Inbox"?d("useGetMediaGroupStyles").IMAGE_SIZE:d("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB,maxWidth:b==="Inbox"?d("useGetMediaGroupStyles").IMAGE_SIZE:d("useGetMediaGroupStyles").IMAGE_SIZE_CHAT_TAB};return b!=="Inbox"&&b!=="ChatTab"||a?{maxHeight:200,maxWidth:480}:{maxHeight:b==="Inbox"?c("justknobx")._("2546"):c("justknobx")._("2547"),maxWidth:b==="Inbox"?c("justknobx")._("2548"):c("justknobx")._("2549")}}g.getMaxPreviewHeightAndWidth=a}),98);
__d("useMWMediaViewerOpenQPLLogger",["qpl","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("requireDeferred")("QPLUserFlow").__setRef("useMWMediaViewerOpenQPLLogger"),k=c("qpl")._(25298743,"1403"),l=6e3*10;function a(){var a=i(function(a){var b=a.attachmentType,c=a.entryPoint;a=a.isSecure;var d={attachmentType:b,entryPoint:c,isSecure:(a!=null?a:!1).toString()};j.onReadyImmediately(function(a){a.start(k,{annotations:{string:babelHelpers["extends"]({},d)},cancelOnUnload:!0,timeoutInMs:l})})},[]),b=i(function(a){j.onReadyImmediately(function(b){b.endSuccess(k,{annotations:a})})},[]),c=i(function(a){j.onReadyImmediately(function(b){b.endCancel(k,{cancelReason:a})})},[]);return{endCancel:c,endSuccess:b,startFlow:a}}g.useMWMediaViewerOpenQPLLogger=a}),98);
__d("useMWV2MediaViewerShowDialog",["JSResourceForInteraction","MWV2MediaViewerFallback.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){return i.jsx(c("MWV2MediaViewerFallback.react"),{onClose:a})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWV2MediaViewer.react").__setRef("useMWV2MediaViewerShowDialog"),k),d=b[0],e=b[1];j(function(){a||e()},[e,a]);return[d,e]}g["default"]=a}),98);
__d("XCometMessengerMediaControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_media/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("XCometMessengerPhotoControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/messenger_photo/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useMWV2MediaViewerURL",["I64","Int64Hooks","LSIntEnum","MessagingAttachmentType","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return d("Int64Hooks").useMemoInt64(function(){if(a==null)return null;var b=(h||(h=d("I64"))).equal(a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE));return b&&c("justknobx")._("1284")===!1?c("XCometMessengerPhotoControllerRouteBuilder").buildURL({fbid:a.attachmentFbid,message_id:a.messageId,photo_ids:void 0}):c("XCometMessengerMediaControllerRouteBuilder").buildURL({attachment_id:a.attachmentFbid,message_id:a.messageId,thread_id:h.to_string(a.threadKey)})},[a])}g["default"]=a}),98);
__d("MWAnimatedImageThumbnailWithPlayButton.react",["fbt","$InternalEnum","CometHeroHoldTrigger.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentBlob.react","MAWImageUtils","MWAnimatedImageControlsUtil","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWPMessageListImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2LogMessageClick","MWVideoPlayerPlayButton.react","MWXAspectRatioContainer.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWMediaViewerOpenQPLLogger","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));e=i;var m=e.useCallback,n=e.useEffect,o=e.useState,p={imageWithAppAttribution:{borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",bottom:"x1ey2m1c",position:"x1n2onr6",$$css:!0},wrapper:{display:"x1lliihq",$$css:!0},wrapperForAppAttribution:{marginBottom:"x1ibc7va",$$css:!0},wrapperReplyImage:{cursor:"x1ypdohk",$$css:!0}},q=b("$InternalEnum").Mirrored(["Composer","GIFPicker","MediaViewer","Thread"]);function a(a){return l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWAnimatedImageThumbnailWithPlayButton",children:l.jsx(r,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var e,f,g=a.altText,i=a.connectBottom,r=a.connectTop,s=a.dbAttachment,t=a.entryPoint,u=a.gifPreviewUrl,v=a.isReplyImage,w=v===void 0?!1:v,x=a.isSecure,y=a.mediaRenderQpl,z=a.message,A=a.onPlay;v=a.onPress;var B=a.outgoing,C=a.previewHeight,D=a.previewWidth,E=a.sourceURL;a=a.testid;var F=c("useAsyncReStore")(),G=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();a=o(null);var H=a[0],I=a[1];a=c("useMWV2MediaViewerURL")(s);var J=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();J=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(x!=null?x:!0,J!=null?J:void 0,!1);var K=J.maxHeight,L=J.maxWidth,M=m(function(){y==null||y.endSuccess({bool:{thumbnail_generated_for_gif:!0}})},[y]),N=m(function(){y==null||y.endFail("gif-thumbnail-render-failed")},[y]),O=s!=null&&s.previewUrl==null&&x!==!1?d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense(s,"gifToBlob",y):void 0,P=c("useMWV2FocusRowAfterClosingPushView")();J=c("useMWV2MediaViewerShowDialog")(!1);var Q=J[0];J=d("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger();var R=J.startFlow,S=t===q.Thread,T=t===q.Composer;J=t===q.MediaViewer;t=t===q.GIFPicker;n(function(){var a=null;function c(){return e.apply(this,arguments)}function e(){e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){y==null||y.addPoint("gif-thumbnail-generation-started");var b=u;if(b==null)if(s==null&&E!=null)b=E;else try{(s==null?void 0:s.previewUrl)!=null?b=s==null?void 0:s.previewUrl:O!=null&&(b=O)}catch(a){return null}if(b==null)return null;b=(yield d("MAWImageUtils").generateGIFThumbnail(b,C,D));y==null||y.addPoint("gif-thumbnail-generation-completed");if(b!=null){y==null||y.addPoint("gif-thumbnail-generation-completed-successfully");b=new Blob([b.jpegThumbnail]);a=URL.createObjectURL(b);I(a)}});return e.apply(this,arguments)}c()["catch"](function(){y==null||y.endFail("gif-thumbnail-generation-failed"),I(null)});return function(){a!=null&&URL.revokeObjectURL(a)}},[s,u,y,C,D,E,O]);a=x===!1&&S&&z!=null&&(j||(j=d("I64"))).gt(z.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:s==null?void 0:s.previewUrl},url:a}:void 0;var U=function(){z!=null&&c("promiseDone")(F,function(a){d("MWV2LogMessageClick").log(a,z,28)});R({attachmentType:"IMAGE",entryPoint:"thread_view",isSecure:x});P(function(){return!0});if(s!=null&&x===!0)return Q({attachment:s},function(){})},V=(s==null?void 0:s.attributionAppName)!=null,W=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:B===!0?"right":"left",connectBottom:i,connectTop:r});if(C==null||D==null)return null;e=(e=s==null?void 0:s.accessibilitySummaryText)!=null?e:g;var X=h._(/*BTDS*/"Tap to play GIF {gif_alt_text}",[h._param("gif_alt_text",(f=s==null?void 0:s.accessibilitySummaryText)!=null?f:g)]);if(S){e=h._(/*BTDS*/"Open GIF {gif_alt_text}",[h._param("gif_alt_text",(f=s==null?void 0:s.accessibilitySummaryText)!=null?f:g)])}else if(t){e=h._(/*BTDS*/"Send GIF {gif_alt_text}",[h._param("gif_alt_text",(f=s==null?void 0:s.accessibilitySummaryText)!=null?f:g)])}else if(J){e=(f=(t=s==null?void 0:s.accessibilitySummaryText)!=null?t:g)!=null?f:h._(/*BTDS*/"GIF")}t=w||J;return l.jsx(c("MWXPressable.react"),{"aria-label":e,cursorDisabled:t,disabled:t,display:"block",linkProps:a,onPress:t?void 0:S?U:v,testid:void 0,xstyle:[p.wrapper,V&&p.wrapperForAppAttribution,w&&p.wrapperReplyImage],children:l.jsx(c("MWXAspectRatioContainer.react"),{height:C,maxHeight:S?K:C,maxWidth:S?L:D,width:D,children:function(a){var b;return l.jsxs(l.Fragment,{children:[H==null?l.jsxs(l.Fragment,{children:[l.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:i,connectTop:r,descriptionForLogging:"MAWSecureGIFAttachment.NoGIFThumbnail",hasAppAttribution:V,hasCornerStyles:S,height:C,maxHeight:S?K:C,maxWidth:S?L:D,mediaRenderQpl:y,outgoing:B,width:D,xstyle:[a,S&&W,V&&p.imageWithAppAttribution]}),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureGIFAttachment.NoGIFThumbnail",hold:!0})]}):l.jsx(c("MWXImage.react"),{alt:(b=s==null?void 0:s.accessibilitySummaryText)!=null?b:g,height:C,onError:N,onLoad:M,src:H,width:D,xstyle:[a,S&&W,V&&p.imageWithAppAttribution]}),s!=null&&V&&S&&l.jsx("div",babelHelpers["extends"]({className:"x1f1lzrh x10l6tqk xh8yej3"},{children:l.jsx(d("MWPMessageListImage.react").MWPMessageListImageAppAttribution,{attachment:s,connectBottom:i,connectTop:r,outgoing:B})})),G===d("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.OFF&&l.jsx(c("MWVideoPlayerPlayButton.react"),{alt:X,isVisible:!0,onClick:w?void 0:A,size:w||T?"SMALL":"LARGE"})]})}})})}r.displayName=r.name+" [from "+f.id+"]";g.AnimatedImageEntryPoint=q;g.MWAnimatedImageThumbnailWithPlayButton=a}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="ChatTab";return{maxHeight:100,maxWidth:a?180:300}}g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWPThreadCapabilitiesContext","MWXAspectRatioContainer.react","MWXMessageImage.react","cr:4509","emptyFunction","gkx","react","stylex","useMWRepliesImageGetMaxDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m={incoming:{borderEndStartRadius:"x1pczhz8",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",$$css:!0},root:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0}};function a(a){var e=a.attachment,f=a.height,g=a.imageAlt;g=g===void 0?"":g;var i=a.isAnimatedImage;i=i===void 0?!1:i;var n=a.isSecureMessage,o=n===void 0?!1:n;n=a.isSticker;var p=n===void 0?!1:n,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=a.src,u=a.width;n=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();a=c("useMWRepliesImageGetMaxDimensions")();var v=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();v=v.blurMediaEnabled;v=c("gkx")("24098")&&v;var w=p?!1:s?m.outgoing:m.incoming,x=l(function(){q==null||q.endFail("load-image-error")},[q]),y=l(function(){q==null||q.endSuccess()},[q]);i=i&&n!==d("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON?k.jsx(c("MWXAspectRatioContainer.react"),{height:f!=null?(j||(j=d("I64"))).to_float(f):a.maxHeight,maxHeight:a.maxHeight,maxWidth:a.maxWidth,width:u!=null?(j||(j=d("I64"))).to_float(u):a.maxWidth,children:function(a){return k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([m.root,p&&m.rootHasSticker,w,a]),{children:k.jsx(d("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:e,entryPoint:d("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isReplyImage:!0,isSecure:o,mediaRenderQpl:q,message:r,onPlay:c("emptyFunction"),onPress:c("emptyFunction"),outgoing:s,previewHeight:f!=null?(j||(j=d("I64"))).to_float(f):void 0,previewWidth:u!=null?(j||(j=d("I64"))).to_float(u):void 0,sourceURL:t})}))}}):k.jsx(c("MWXMessageImage.react"),{alt:g,height:f!=null?(j||(j=d("I64"))).to_float(f):void 0,maxHeight:a.maxHeight,maxWidth:a.maxWidth,onError:x,onLoad:y,src:t,width:u!=null?(j||(j=d("I64"))).to_float(u):void 0,xstyle:[m.root,p&&m.rootHasSticker,w]});return b("cr:4509")!=null&&v&&!p?k.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:t,xstyle:[m.root,w],children:i}):i}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGhostMessageBubbleWrapper.react",["BaseTheme.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark:{"chat-incoming-message-border-color":"var(--tombstoned-message-border-color, rgba(255, 255, 255, 0.18))","chat-incoming-message-border-width":"1px","chat-incoming-message-bubble-background-color":"transparent","chat-message-border-color":"var(--tombstoned-message-border-color, rgba(255, 255, 255, 0.18))","chat-message-border-width":"1px","chat-outgoing-message-bubble-background-color":"transparent"},light:{"chat-incoming-message-border-color":"var(--tombstoned-message-border-color, rgba(0, 0, 0, 0.12))","chat-incoming-message-border-width":"1px","chat-incoming-message-bubble-background-color":"transparent","chat-message-border-color":"var(--tombstoned-message-border-color, rgba(0, 0, 0, 0.12))","chat-message-border-width":"1px","chat-outgoing-message-bubble-background-color":"transparent"},type:"VARIABLES"};function a(a){a=a.children;return i.jsx(c("BaseTheme.react"),{config:j,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2TombstonedMessage.react",["MWGhostMessageBubbleWrapper.react","MWXMessageBubble.react","MWXText.react","defaultMWPThreadTheme","react","react-strict-dom","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k={incoming:{color:"x18lvrbx",$$css:!0},message:{fontStyle:"x1k4tb9n",marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0},messageWithOpacity:{opacity:"x1ks1olk",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0}};function a(a){var b,e=a.children,f=a.isOutgoing,g=a.isReply,h=a.mediaRenderQpl;a=a.xstyle;var l=c("useMWPThreadTheme")();l=d("defaultMWPThreadTheme").isDefaultTheme(l==null||(b=l.threadTheme)==null?void 0:b.fbid);j(function(){h==null||h.addPoint("render-tombstoned-message",{bool:{has_preview:!1}}),h==null||h.endSuccess()},[h]);var m=l?c("MWGhostMessageBubbleWrapper.react"):i.Fragment;return i.jsx(m,{children:i.jsx(c("MWXMessageBubble.react"),{align:"right",children:i.jsx(c("MWXText.react"),{color:l?"secondary":f?"white":"primary",type:"body3",children:i.jsx(d("react-strict-dom").html.div,{dir:"auto",style:[k.message,!l&&k.messageWithOpacity,f?k.outgoing:k.incoming,a],children:e})}),color:g===!0?"quoted":f?"outgoing":"incoming",connectBottom:!1,connectTop:!1,testid:void 0,variant:l?"default":"opaque"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return a.replyMediaUrlFallback;else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var m=i||(i=d("react")),n=i.useEffect;function a(a){var b=babelHelpers["extends"]({},(l(a),a));n(function(){var a;(a=b.mediaRenderQpl)==null||a.addPoint("render-replies-story")},[b.mediaRenderQpl]);return m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:m.jsx(o,babelHelpers["extends"]({},b))})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.mediaRenderQpl,g=a.message;a=a.outgoing;var i=g.replySourceId;i=i!=null?e?i:(i=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+i),view_single:!0}).setDomain("www.facebook.com"))==null||(i=i.setProtocol("https"))==null?void 0:i.toString():void 0;d("Int64Hooks").useEffectInt64(function(){f==null||f.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:g.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:g.replyAttachmentPlaintextHash!=null,has_reply_source_id:g.replySourceId!=null}}),f==null||f.addAnnotations({string:{xma_content_type:d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))}})},[f,g.replyAttachmentId,g.replyAttachmentPlaintextHash,g.replySourceId]);e=b("cr:9765")!=null&&e?function(a){if(c("gkx")("6417")){a.replyAttachmentId!=null&&a.replyAttachmentPlaintextHash==null&&c("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing");return a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(a.replyAttachmentPlaintextHash,"MWRepliesStory",f):null}else return a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesStory",f):null}:c("getLSMediaMessageReplyMediaUrl");var l=e(g);n(function(){l==null&&(f==null||f.endFail("missing-reply-media",{bool:{has_plaintexthash:g.replyAttachmentPlaintextHash!=null}}))},[f,g.replyAttachmentPlaintextHash,l]);return l==null?m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,mediaRenderQpl:f,children:c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY)}):m.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"View story"),linkProps:i!=null?{url:i}:void 0,overlayDisabled:!0,children:m.jsx(c("MWRepliesImage.react"),{mediaRenderQpl:f,outgoing:a,src:l})})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDRepliedMessage.react",["IGDMessageContainerWithHighlightBar.react","IGDRepliedAttachment.react","IGDRepliedCollection.react","IGDRepliedMedia.react","IGDRepliedPostXMAAttachment.react","IGDRepliedSticker.react","IGDRepliedText.react","IGDRepliedVideo.react","MWPBaseRepliedMessage.react","MWRepliesExpired.react","MWRepliesRemoved.react","MWRepliesStory.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.isSecureMessage,f=a.message;a=a.outgoing;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:e,mediaRenderQpl:null,message:f,outgoing:a,renderAttachment:c("IGDRepliedAttachment.react"),renderCollection:c("IGDRepliedCollection.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("IGDRepliedMedia.react"),renderMedia:c("IGDRepliedMedia.react"),renderPost:c("IGDRepliedPostXMAAttachment.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderSticker:c("IGDRepliedSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("IGDRepliedText.react"),renderVideo:c("IGDRepliedVideo.react")}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];b[4]!==a||b[5]!==g?(e=i.jsx(c("IGDMessageContainerWithHighlightBar.react"),{outgoing:a,withMarginBottom:!0,children:g}),b[4]=a,b[5]=g,b[6]=e):e=b[6];return e}g["default"]=a}),98);
__d("IGDReplySnippet.react",["IGDSTextVariants.react","MWEditedEyebrow.react","isMWEditedMessage","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={separator:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.message;a=a.outgoing;var f=e.replySnippet,g;b[0]!==e?(g=c("isMWEditedMessage")(e),b[0]=e,b[1]=g):g=b[1];e=g;if(f!=null){b[2]!==a?(g={0:{className:"x6s0dn4 x78zum5 x889kno xmzvs34"},1:{className:"x6s0dn4 x78zum5 x889kno xf159sx"}}[!!a<<0],b[2]=a,b[3]=g):g=b[3];b[4]!==e?(a=e&&i.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{separatorStyle:j.separator}),b[4]=e,b[5]=a):a=b[5];b[6]!==a||b[7]!==f?(e=i.jsxs(d("IGDSTextVariants.react").IGDSTextFootnote,{color:"secondaryText",children:[f,a]}),b[6]=a,b[7]=f,b[8]=e):e=b[8];b[9]!==g||b[10]!==e?(a=i.jsx("div",babelHelpers["extends"]({},g,{children:e})),b[9]=g,b[10]=e,b[11]=a):a=b[11];return a}else return null}g["default"]=a}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPAttachmentDataContext","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={root:{marginInlineStart:"x1diwwjn",$$css:!0}};function a(a){var b=a.attachment,e=a.botResponseId,f=a.dialogResource,g=a.flowInstanceId;a=a.isSearchSingleBubblePluginAttachment;a=a===void 0?!1:a;b=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(b);var h=b.attachmentCta1;b=b.attachmentCta2;var m=h;h=a?h:b;var n=d("MWSearchPluginUtils").useSearchPluginSources(h==null?void 0:h.nativeUrl);b=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));f=c("useMWXLazyDialog")(f);var o=f[0];f=b?"highlight":"blueLink";b=b?"bodyLink4":"body4";var p=k(function(){return{extraData:{botResponseId:e!=null?e:""},flowInstanceId:g}},[e,g]),q=c("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},p)),r=c("MessengerWebUXLogger").useInteractionLogger(),s=j(function(){r==null||r(babelHelpers["extends"]({eventName:"search_plugin_see_more"},p))},[r,p]),t=j(function(){n!=null&&(r==null||r(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},p)),o({botResponseId:e,sources:n}))},[e,p,r,o,n]);return i.jsxs(c("BaseView.react"),{ref:q,xstyle:l.root,children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),a?i.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})})):i.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np"},{children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:m==null?void 0:m.actionUrl},onPress:s,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:m!=null&&m.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:t,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:b,children:h!=null&&h.title})})]})),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWBlockingProtectionContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=e.useState,m=d({addMessageId:c("emptyFunction"),findMessageId:c("emptyFunction").thatReturnsFalse});function a(a){a=a.children;var b=l([]),c=b[0],d=b[1];b=k(function(){return{addMessageId:function(a){d([a].concat(c))},findMessageId:function(a){return c.find(function(b){return b===a})!=null}}},[c,d]);return i.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(m)}e={Provider:a,useHook:b};g["default"]=e}),98);
__d("MWGroupBlockingProtectionUtils",["fbt","I64","LSContactBlockedByViewerStatus","LSIntEnum","MWPContactContext.react","ReQL","ReQLSuspense","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=(k||(k=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.threads,["threadType"]).getKeyRange(a).map(function(a){return a.threadType})},[b,a],f.id+":30");return e==null?!1:(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(18))}function a(a){a=l(a);var b=d("MWPContactContext.react").useMWPContactStableContext();b=b.contact;return a&&b?!(i||(i=d("I64"))).equal(b.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function b(a,b){var e=(k||(k=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a):d("ReQL").empty()},[e,a],f.id+":69");b=l(b);return b&&g?!(i||(i=d("I64"))).equal(g.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1}function e(a,b){var e,g=(k||(k=c("useReStore")))(),l=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(g.tables.messages).getKeyRange(a)},[g,a],f.id+":92"))==null?void 0:e.senderId;e=d("ReQLSuspense").useFirst(function(){return l!=null?d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(l):d("ReQL").empty()},[g,l],f.id+":96");var m=e==null?!1:!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));b=(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(2))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(16))||(i||(i=d("I64"))).equal(b,(j||(j=d("LSIntEnum"))).ofNumber(18));if(!(b&&m))return null;m=(b=e==null?void 0:e.firstName)!=null?b:e==null?void 0:e.name;if(m==null){c("recoverableViolation")("Empty first name for blocked contact","messenger_web_wellbeing");return null}return h._(/*BTDS*/"{blocked contact's name} sent a message.",[h._param("blocked contact's name",m)]).toString()}g.useShouldEnableBlockingProtection=l;g.useMWGetSnippetForBlockingProtection=e;g.useMWIsContactBlocked=a;g.useMWIsMessageSentByBlockedContact=b}),226);
__d("MAWIsFBXMA",["LSIntEnum","LSXmaContentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("LSIntEnum"))).toNumber(a)){case c("LSXmaContentType").FB_FEED_SHARE:case c("LSXmaContentType").FB_SHORT:case c("LSXmaContentType").MSG_RECEIVER_FETCH:return!0;default:return!1}}g.isFBXMA=a}),98);
__d("MAWIsReceiverFetchXmaInLoadingState",["I64","LSIntEnum","LSXmaContentType","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){a=(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(536870912));return a&&c("gkx")("7835")?(b==null?void 0:b.xmaDataclass)==null:a&&((b==null?void 0:b.xmaContentType)==null||(i||(i=d("LSIntEnum"))).toNumber(b==null?void 0:b.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH)}g.isReceiverFetchXmaInLoadingState=a}),98);
__d("MWGenAIRichResponseRenderEligibilityUtils",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["XMSGXmaRichTextTemplateData","XMSGXmaNestedHScrollTemplateData","XMSGXmaGenAiCodeTemplateData"];function i(a){switch(a){case"XMSGXmaRichTextTemplateData":return!0;case"XMSGXmaNestedHScrollTemplateData":return c("qex")._("4016")===!0;case"XMSGXmaGenAiCodeTemplateData":return c("gkx")("13861")===!0;default:return null}}function j(a){var b;a=(a=a==null||(b=a.sections)==null?void 0:b.map(function(a){return a.template_data.__typename}))!=null?a:[];return Array.from(new Set(a))}function k(a){var b;a=(a=a==null||(b=a.streaming_action)==null||(b=b.insertions)==null?void 0:b.map(function(a){return a.template_data.__typename}))!=null?a:[];return Array.from(new Set(a))}function l(a){var b=j(a);a=k(a);return b.concat(a)}function m(a){return l(a).filter(function(a){return!h.includes(a)})}function n(a){return l(a).every(function(a){return i(a)===!0})}function a(a){if((a==null?void 0:a.__typename)!=="XMSGXmaGenAiRichResponseTemplateData")return!1;var b=l(a);if(b.length===0)return!1;b=m(a);return b.length>0?!1:n(a)}function b(){return c("qex")._("1478")===!0}g.getTemplateSectionTypes=j;g.getStreamingActionSectionTypes=k;g.getAllSectionTypes=l;g.getAllUnsupportedSectionTypes=m;g.isGatingPassForAllSections=n;g.shouldRenderRichResponseXMA=a;g.isResponseStreamingEnabled=b}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MWPMessageHasXMA","MWUnvaultedText","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=280,k=3e5;function l(a){return!c("isStringNullOrEmpty")(a.text)}function m(a){a=a.replySourceTypeV2;return a==null?!1:!(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function n(a){a=a.replySourceTypeV2;return a==null?!1:(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))}function o(a){a=a.text;a=d("MWUnvaultedText").getMWUnvaultedText(!1,a);return(a!=null?a:"").length>j}var p=[128,256,65536,131072,262144,524288,4294967296,1048576,2097152,4194304,8388608,16777216,33554432,67108864,1073741824,4096,512].filter(Boolean);function q(a){return a.isAdminMessage||p.some(function(b){return d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(b),a.displayedContentTypes)})||o(a)}function r(a,b){return c("MWPMessageHasXMA")(a)&&c("MWPMessageHasXMA")(b)}function s(a,b){if(b===void 0)return!0;var c=Math.abs((h||(h=d("I64"))).to_float(a.timestampMs)-h.to_float(b.timestampMs))>k,e=n(a),f=h.equal(a.senderId,b.senderId);if(b.isUnsent||a.isUnsent||b.isExpired||r(b,a)||a.isExpired||m(a)||!f||c||e||q(a))return!0;else return q(b)}function t(a,b){return b==null||s(a,b)}function u(a,b){return b==null||s(b,a)}function a(a,b,c){return c==="below"?l(a)?!0:!t(a,b):!1}function b(a,b,c){if(c==="below")return!u(a,b);else if(u(a,b))return!1;else return l(a)}e={shouldConnectBottom:b,shouldConnectTop:a};g.hasText=l;g.isReplyToSomething=m;g.isForwarded=n;g.isLongText=o;g.shouldBeStandalone=q;g.areXMAsAdjacent=r;g.isInDifferentGroup=s;g.isStartOfGroup=t;g.isEndOfGroup=u;g.MessageWithAttachments=e}),98);
__d("useXMAV2Provider",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.length===0)return null;a=(a=a[0])==null?void 0:a.xmaDataclass;if(a==null)return null;a=JSON.parse(a);if(a==null)return null;var b=a.content;if(b==null)return null;var c=!0;b=(b==null?void 0:b.__typename)==="XMSGXmaSingleContent"?[b]:b.list;b==null||b.forEach(function(a){a=a.custom_template_data;if(a==null){c=!1;return}});return c?a:null}f["default"]=a}),66);
__d("MWPBaseMessageContent.react",["I64","InteractionTracingMetrics","LSReplyMessageAttachmentType","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MWGenAIRichResponseRenderEligibilityUtils","MWGenAIUtils","MWMediaRenderQplUtils","MWPAttachmentDataContext","MWPMessageHasXMA","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPThreadCapabilitiesContext","gkx","isMWBumpMessage","isMWEditedMessage","mwpMessageHasAttachment","mwpMessageIsReply","react","useXMAPreviewsDisabledSetting","useXMAV2Provider","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useContext,l=b.useEffect;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isMessagePinned,m=a.isNextMessagePinned,n=a.isSearchPluginAttachment,o=a.isSecureMessage,p=a.mediaRenderQpl,q=a.message,r=a.nextMessage,s=a.outgoing,t=a.prevMessage,u=a.renderAttachment,v=a.renderEmoji,w=a.renderMessageBubble,x=a.shouldRenderMessageContent;a=a.xmaLayout;var y=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();y=y.disableLinks;var z=c("mwpMessageIsReply")(q),A=c("isMWEditedMessage")(q),B=r!=null&&c("isMWEditedMessage")(r),C=d("MWPMessageParsingUtils").hasText(q),D=k(d("MWPAttachmentDataContext").MWPAttachmentDataContext);D=D.attachments;var E=D!=null&&D.length>0?D[0]:null,F=c("MWPMessageHasXMA")(q)&&E!=null;D=c("useXMAV2Provider")(D)!=null;var G=d("MWPMessageReactions.react").useReactions(q);G=G.length>0;var H=d("MWPMessageReactions.react").useReactions(t);H=H.length>0;var I=c("gkx")("24165")&&y&&F&&q.textHasLinks;l(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMetadata(a.traceId,"message_row_has_attachment",F?1:0),c("InteractionTracingMetrics").addMetadata(a.traceId,"content_type",q.replyAttachmentType!=null?d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(q.replyAttachmentType):d("MWMediaRenderQplUtils").getMessageContentTypeString(q)),c("InteractionTracingMetrics").addMetadata(a.traceId,"content_type_num",(i||(i=d("I64"))).to_string(q.displayedContentTypes))}),p==null||p.addAnnotations({bool:{message_type_supports_attachment:c("mwpMessageHasAttachment")(q)}}),c("mwpMessageHasAttachment")(q)&&!I&&(p==null||p.addPoint("base-message-render-attachment"),c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"base-message-render-attachment","AppTiming")}))},[F,p,q,I]);y=c("isMWBumpMessage")(q.replyType);var J=c("useXMAPreviewsDisabledSetting")();o=o===!0&&J&&d("MAWIsFBXMA").isFBXMA(E==null?void 0:E.xmaContentType);J=d("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(q.displayedContentTypes,E);y=!J&&!o&&!y&&F&&b==="below"&&!I&&!n;n=b==="below"?!z&&!f&&!h&&!A&&!H:!1;f=J||o||!g&&!m&&!B&&!G||(a===d("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?y:!1);x?h=q.text!=null?e?z?j.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 x1vjfegm"},{children:v(q)})):z?null:j.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[n?j.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,j.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 x1vjfegm"},{children:v(q)}))]}):q.text!==""?j.jsxs(j.Fragment,{children:[n||b==="above"?j.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xh8yej3"},{role:"none",children:[s?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!z,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,w(q,n,f,y,s,D),s?null:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!z,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}))]}):null:null:h=null;A=q.replyAttachmentType!==void 0&&(i||(i=d("I64"))).to_float(q.replyAttachmentType)===c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION;var K;H=E!=null&&d("MWGenAIUtils").isMetaAIThread(q.senderId)&&d("MWGenAIRichResponseRenderEligibilityUtils").isResponseStreamingEnabled();(c("mwpMessageHasAttachment")(q)||H)&&!I&&!A&&(K=u(d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(q,t,b),d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(q,r,b),C));return j.jsxs(j.Fragment,{children:[b==="above"?K:null,h,b==="below"?K:null]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPBaseMessageContent=a}),98);
__d("useMWPIsMessagePinned",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useDeferredValue;function a(a){var b=(h||(h=c("useReStore")))(),e=!!d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.tables.msg_pinned_messages_v2).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},[b,a],f.id+":28"),g=!!d("ReQLSuspense").useFirst(function(){return a!=null&&!a.isUnsent?d("ReQL").fromTableAscending(b.tables.client_web_pinned_messages).getKeyRange(a.threadKey,a.offlineThreadingId):d("ReQL").empty()},[b,a],f.id+":38");return j(e||g)}g["default"]=a}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.attachmentRenderPosition,e=a.isEmojiOnly,f=a.isFirstMessageInGroup,g=a.isLastMessageInGroup,h=a.isSearchPluginAttachment,k=a.isSecureMessage,l=a.mediaRenderQpl,m=a.message,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.renderAttachment,r=a.renderEmoji,s=a.renderMessageBubble,t=a.shouldRenderMessageContent,u=a.xmaLayout,v=c("useMWPIsMessagePinned")(m),w=c("useMWPIsMessagePinned")(n);return j(function(){return i.jsx(d("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:b,isEmojiOnly:e,isFirstMessageInGroup:f,isLastMessageInGroup:g,isMessagePinned:v,isNextMessagePinned:w,isSearchPluginAttachment:h,isSecureMessage:k,mediaRenderQpl:l,message:m,nextMessage:n,outgoing:o,prevMessage:p,renderAttachment:q,renderEmoji:r,renderMessageBubble:s,shouldRenderMessageContent:t,xmaLayout:u})},[b,e,h,f,g,v,w,k,l,m,n,o,p,q,r,s,t,u])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwpIsMessageUnsupported",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return(h||(h=d("I64"))).equal(a.displayedContentTypes,(h||(h=d("I64"))).zero)&&b.length===0}g["default"]=a}),98);
__d("shouldUseImageGrouping",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){var c,e=a.displayedContentTypes,f=a.groupId;c=(h||(h=d("I64"))).to_int32((c=a.groupSize)!=null?c:(h||(h=d("I64"))).zero);return b&&(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(2))&&f!=null&&a.groupIndex!=null&&a.groupSize!=null&&c>1}g["default"]=a}),98);
__d("useGetMediaGroupInformation",["I64","ReQL","ReQLSuspense","cr:9385","qex","react","shouldUseImageGrouping","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,e,g){var j,l,m,n=(h||(h=c("useReStore")))(),o=a.groupId,p=a.threadKey;j=(i||(i=d("I64"))).to_int32((j=a.groupIndex)!=null?j:(i||(i=d("I64"))).zero);l=i.to_int32((l=a.groupSize)!=null?l:(i||(i=d("I64"))).zero);var q=c("shouldUseImageGrouping")(a,e);a=q?4:0;q&&l<4&&(a=l);var r=d("ReQLSuspense").useArray(function(){return q&&o!=null?d("ReQL").fromTableDescending(n.tables.messages.index("messageGroupId")).getKeyRange(o).map(function(a){var b;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(n.tables.attachments).getKeyRange(p,a.messageId),f.id+":103"))!=null?b:null;var c=b!=null?d("ReQLSuspense").first(d("ReQL").fromTableDescending(n.tables.client_media_status).getKeyRange(b.attachmentFbid),f.id+":111"):void 0;return{attachment:b,mediaStatus:c,message:a}}):d("ReQL").empty()},[n,o,p,q],f.id+":95"),s=k(function(){return r.sort(function(a,b){return(i||(i=d("I64"))).to_int32((a=a.message.groupIndex)!=null?a:(i||(i=d("I64"))).zero)-i.to_int32((a=b.message.groupIndex)!=null?a:(i||(i=d("I64"))).zero)})},[r]),t=q&&s.length>=1?(e=s[0])==null?void 0:e.message:null;e=d("ReQLSuspense").useFirst(function(){if(!q||t==null)return d("ReQL").empty();var a;c("qex")._("18")?a=d("ReQL").fromTableAscending(n.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(t.threadKey).bounds({gte:d("ReQL").key(t.primarySortKey,t.offlineThreadingId)}):a=d("ReQL").fromTableAscending(n.tables.messages.index("messageDisplayOrder")).getKeyRange(t.threadKey).bounds({gte:d("ReQL").key(t.primarySortKey)});return a.filter(function(a){return a.groupId!==t.groupId}).filter(function(a){return!a.isAdminMessage})},[n,t,q],f.id+":139");g=b("cr:9385")(s,q,g);var u=g.attachmentsToRetryDownload,v=g.mediaDownloadErrorsCount;g=g.mediaDownloadStatuses;if(q!==!0)return null;m=s.length>=1?(i||(i=d("I64"))).to_int32((m=(m=s[0])==null||(m=m.message)==null?void 0:m.groupIndex)!=null?m:(i||(i=d("I64"))).zero):0;m=j===m;var w=new Array(a),x=function(a){var b=s.findIndex(function(b){return b.message.groupIndex!=null&&(i||(i=d("I64"))).to_int32(b.message.groupIndex)===a});b===-1?w[a]={attachment:null,message:null}:w[a]={attachment:s[b].attachment,message:s[b].message}};for(var y=0;y<a&&y<a;++y)x(y);return{attachmentsToRetryDownload:u,groupId:o,groupIndex:j,groupSize:l,groupsLastMessage:s!=null&&s.length>0?s[s.length-1].message:null,groupsNextMessage:e!=null?e:null,hasAllMessagesSent:s.every(function(a){return(i||(i=d("I64"))).equal(a.message.sendStatusV2,i.of_int32(2))}),hasMissingMedia:s.some(function(a){return a.attachment==null}),hasMissingMessages:s.length!==l,isFirstMediaMessageInGroup:m,isMediaGroupLastMessage:e==null,mediaDownloadErrorsCount:v,mediaDownloadStatuses:g,messagesAndAttachments:s,messagesAndAttachmentsShownInGroup:w,tileSize:a}}g["default"]=a}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPAttachmentDataContext","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MessengerWebUXLogger","mwpIsMessageUnsupported","mwv2MessageIsEmojiOnly","react","react-strict-dom","useGetMediaGroupInformation","xmaLayouts"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useContext,l={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},footerForGroupedImageStack:{paddingInlineEnd:"xv54qhq",$$css:!0},footerForGroupedImageTile:{paddingInlineEnd:"xj46xog",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(a,b){if(d("LSBitFlag").has((i||(i=d("LSIntEnum"))).ofNumber(128),a.displayedContentTypes))return!0;else return c("mwv2MessageIsEmojiOnly")(a.text,b)}function a(a){var b=a.attachmentRenderPosition;b=b===void 0?"below":b;var e=a.checkEmoticon,f=a.id,g=a.isFirstMessageInGroup,h=a.isLastMessageInGroup,i=a.isSearchPluginAttachment;i=i===void 0?!1:i;var n=a.isSecureMessage,o=a.mediaRenderQpl,p=a.message,q=a.nextMessage,r=a.outgoing,s=a.prevMessage,t=a.reactions;a.reactionsV2;var u=a.renderAttachment,v=a.renderEmoji,w=a.renderMessageBubble,x=a.renderMessageContainer,y=a.renderMessageFooter,z=a.renderMessageFromBlockee,A=a.renderUnsentMessage,B=a.renderUnsupportedMessage,C=a.shouldRenderMessageContent;C=C===void 0?!0:C;a=a.xmaLayout;a=a===void 0?d("xmaLayouts").XMA_LAYOUTS.DEFAULT:a;var D=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"messagelist_message_impression"}),E=d("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(p.threadKey),F=c("MWBlockingProtectionContext.react").useHook(),G=F.addMessageId;F=F.findMessageId;var H=c("useGetMediaGroupInformation")(p,n!=null?n:!1,o),I=k(d("MWPAttachmentDataContext").MWPAttachmentDataContext);I=I.attachments;I=c("mwpIsMessageUnsupported")(p,I);if(p.isUnsent)if(A!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:A()});else return null;if(I)if(B!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:B()});else return null;if(!F(p.messageId)&&E&&z!=null)return j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:z(function(){G(p.messageId)})});A=m(p,e);I=j.jsx(c("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:b,isEmojiOnly:A,isFirstMessageInGroup:g,isLastMessageInGroup:h,isSearchPluginAttachment:i,isSecureMessage:n,mediaRenderQpl:o,message:p,nextMessage:q,outgoing:r,prevMessage:s,renderAttachment:u,renderEmoji:v,renderMessageBubble:w,shouldRenderMessageContent:C,xmaLayout:a});return j.jsxs("div",{id:f,children:[j.jsxs(d("react-strict-dom").html.div,{ref:D,role:"none",style:l.row_container,children:[r?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,x!=null?x(I,[l.container,r?l.outgoing:!1]):j.jsx(d("react-strict-dom").html.div,{style:[l.container,r?l.outgoing:!1],children:I}),r?null:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]}),A&&t.length>0?j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("react-strict-dom").html.div,{style:[H!=null&&H.groupSize>=4&&l.footerForGroupedImageStack,!r&&H!=null&&H.groupSize<4&&l.footerForGroupedImageTile],children:y()})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCombineThemeConfigs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MAWEphemeralMessageTimer.react",["fbt","CometScreenReaderText.react","I64","MAWEphemeralConsts","MWXText.react","WATimeUtils","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState;function n(a){if(a<d("MAWEphemeralConsts").oneMinuteInSeconds)return h._(/*BTDS*/"{seconds}",[h._param("seconds",String(a).concat("s"))]);if(a<d("MAWEphemeralConsts").oneHourInSeconds)return h._(/*BTDS*/"{minutes}",[h._param("minutes",String(Math.floor(a/d("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]);return a<d("MAWEphemeralConsts").oneDayInSeconds?h._(/*BTDS*/"{hours}",[h._param("hours",String(Math.floor(a/d("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):h._(/*BTDS*/"{days}",[h._param("days",String(Math.floor(a/d("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function o(a,b){a=(j||(j=d("I64"))).to_int32(j.sub(a,j.of_float(d("WATimeUtils").unixTime())));return b!=null&&a>(j||(j=d("I64"))).to_int32(b)?(j||(j=d("I64"))).to_int32(b):a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.handleMessageExpired;a=m(function(){return o(e,b)});var g=a[0],i=a[1];a=n(g);var j=h._(/*BTDS*/"Message will disappear in: {time}",[h._param("time",a)]);l(function(){g>0&&c("setTimeout")(function(){return i(g-1)},d("MAWEphemeralConsts").msPerSec),g===0&&(f==null||f())},[g,e,f]);return g>0?k.jsxs("div",babelHelpers["extends"]({className:"x2b8uid xbkr7qi"},{children:[k.jsx(c("CometScreenReaderText.react"),{text:j}),k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{testid:void 0,type:"meta1",children:a})})]})):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=a.handleMessageExpired;return i.jsx("div",babelHelpers["extends"]({"aria-hidden":b},{className:"x78zum5 xdt5ytf x1c4vz4f xl56j7k x4ii5y1 xr1yuqi x135b78x x11lfxj5 x1vjfegm"},{children:i.jsx(c("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:d,expirationTimestamp:e,handleMessageExpired:a})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXMessageBubbleRow.react",["react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOn:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",$$css:!0},bubble:{minWidth:"xeuugli",zIndex:"x1vjfegm",$$css:!0},container:{display:"x78zum5",$$css:!0},containerRight:{flexDirection:"x15zctf7",$$css:!0},opaque:{backgroundColor:"x1eb86dx",$$css:!0},paddingBottom:function(a){return[{paddingBottom:a==null?null:"x18061mc",$$css:!0},{"--paddingBottom":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},paddingEnd:function(a){return[{paddingInlineEnd:a==null?null:"xfp3qos",$$css:!0},{"--paddingInlineEnd":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},paddingStart:function(a){return[{paddingInlineStart:a==null?null:"x1yzmnzt",$$css:!0},{"--paddingInlineStart":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}},k={bottom:{alignSelf:"xpvyfi4",$$css:!0},center:{alignSelf:"xamitd3",$$css:!0},top:{alignSelf:"xqcrz7y",$$css:!0}},l={left:{end:j.paddingStart,start:j.paddingEnd},right:{end:j.paddingEnd,start:j.paddingStart}};function m(a){var b=a.children,c=a.gap,e=a.paddingBottom,f=a.rowAlign,g=a.testid;g=a.type;a=a.verticalAlign;return b!=null?i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.opaque,j.addOn,e!=null&&j.paddingBottom(e),c!=null&&l[f][g](c)],children:i.jsx(d("react-strict-dom").html.div,{style:[j.container,f==="right"&&j.containerRight,k[a]],children:b})}):null}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.addOnEnd,c=a.addOnEndGap;c=c===void 0?0:c;var e=a.addOnEndVerticalAlign;e=e===void 0?"center":e;var f=a.addOnPaddingBottom;f=f===void 0?0:f;var g=a.addOnStart,h=a.addOnStartGap;h=h===void 0?0:h;var k=a.addOnStartVerticalAlign;k=k===void 0?"center":k;var l=a.align;l=l===void 0?"right":l;var n=a.children,o=a.opaque;o=o===void 0?!1:o;var p=a.testid;p=a.xstyle;return i.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,l==="right"&&j.containerRight,o&&j.opaque,p],children:[i.jsx(m,{gap:h,paddingBottom:f,rowAlign:l,testid:void 0,type:"start",verticalAlign:k,children:g}),n!=null?i.jsx(d("react-strict-dom").html.div,{style:j.bubble,children:n}):null,i.jsx(m,{gap:c,paddingBottom:f,rowAlign:l,type:"end",verticalAlign:e,children:b}),i.jsx(d("react-strict-dom").html.div,{style:[j.opaque,j.spacer]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPBaseMessageListRowCountdown.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWXMessageBubbleRow.react","cr:8668","gkx","mwpMessageIsReply","react","stylex","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useCallback,o=m.useMemo,p=(m=b("cr:8668"))!=null?m:c("useEmptyFunction");function a(a){var b=a.children,c=a.message;a=a.prevMessage;c=d("MWPMessageParsingUtils").isStartOfGroup(c,a);return c?b():null}a.displayName=a.name+" [from "+f.id+"]";function q(a){return(j||(j=d("I64"))).equal(j.and_(a.displayedContentTypes,(k||(k=d("LSIntEnum"))).ofNumber(2048)),j.zero)}function e(a){var b,e=a.children,f=a.handleMessageExpired,g=a.hasMessageEmphasisRing,h=a.hasReactions,i=a.message,j=a.originalBumpedMsg,k=a.outgoing,m=a.renderGutterItem,n=a.renderMessageActions,o=a.renderMultiReactions;a=a.renderProfile;j=c("mwpMessageIsReply")(j!=null?j:i);var r=i.ephemeralExpirationTs,s=i.ephemeralDurationInSec,t=i.isUnsent,u=d("MWMessageDeliveryStatus").getFromSendStatus(i.sendStatusV2).type==="Sending";b=(b=p(i.threadKey))!=null?b:!1;b=b;o=o&&o();var v=o!=null,w=c("gkx")("7737");i=l.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:q(i)?l.jsxs(l.Fragment,{children:[r!=null&&!t?l.jsx(c("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:s,expirationTimestamp:r,handleMessageExpired:f}):null,n(u)]}):l.jsx(d("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsEmptyList,{}),addOnEndVerticalAlign:b?"bottom":"center",addOnPaddingBottom:h?18:0,addOnStart:k?w?null:m():l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:a()}),addOnStartVerticalAlign:"bottom",align:k?"right":"left",opaque:!k||j||g===!0,testid:void 0,children:e});t=w?l.jsxs("div",{children:[i,l.jsx("div",babelHelpers["extends"]({className:"x1eb86dx x78zum5 x15zctf7"},{children:l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:m()})}))]}):i;return v?l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x1n2onr6"},{role:"none",children:[t,l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:l.jsx("div",babelHelpers["extends"]({},{0:{className:"x78zum5 x1vjfegm x1hwjw2i"},1:{className:"x1vjfegm x78zum5 x15zctf7 x2fvf9 x1lziwak"}}[!!k<<0],{children:o}))})]})):t}e.displayName=e.name+" [from "+f.id+"]";function r(a){var b=a.children,c=a.message,e=a.nextMessage;a=a.showContent;c=d("MWPMessageParsingUtils").isEndOfGroup(c,e);return c||a===!0?b():null}r.displayName=r.name+" [from "+f.id+"]";b={"mwp-reply-background-color":"var(--comment-footer-background)"};m={"mwp-reply-background-color":"var(--comment-footer-background)"};var s={dark:m,light:b,type:"VARIABLES"};function t(a){var b=a.children,e=a.domElementRef;a.message;var f=a.role,g=a.setHovered,i=a.stopHoveringRef,j=a.theme,k=j===void 0?s:j,m=a.xstyle,p=n(function(){return g(function(){return!1})},[g]);return l.jsx(c("BaseThemeProvider.react"),{config:o(function(){return d("MWCombineThemeConfigs").combine(s,k)},[k]),children:function(a,d){return l.jsx("div",{className:(h||(h=c("stylex")))(a,m),onMouseEnter:function(){i.current&&i.current(),g(function(){return!0}),i.current=p},onMouseLeave:function(){if(i.current===p){p();i.current=function(){};return}},ref:e,role:f,style:babelHelpers["extends"]({},d),children:b})}})}t.displayName=t.name+" [from "+f.id+"]";g.MWPBaseMessageListRowBeforeContent=a;g.MWPBaseMessageListRowBody=e;g.MWPBaseMessageListRowFooter=r;g.MWPBaseMessageListRow=t}),98);
__d("MWMessageListDisplayContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext,k=c.useMemo,l=i.createContext("standard");function a(a){var b=a.children;a=a.value;a=a===void 0?"standard":a;return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=j(l);return k(function(){return{isPinnedMessageList:a==="pinnedMessages",isReportMessageList:a==="reportMessages",isStandardMessageList:a==="standard"}},[a])}g.MWMessageListDisplayContextProvider=a;g.useMWMessageListDisplayContext=b}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,i.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._(/*BTDS*/"Today").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b.getTime()-h<a.getTime())return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),130);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=a.renderText,f=a.renderTimestamp;a=a.xstyle;return k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{children:e(f(c("MercuryTimestamp").getRelativeTimestamp((i||(i=d("I64"))).to_float(b.timestampMs))))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function a(a){var b=a.message;a=a.outgoing;var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];var e=a?h._(/*BTDS*/"You sent"):h._(/*BTDS*/"Participant");return!b.isAdminMessage&&j.jsx(d("react-strict-dom").html.span,{style:k.visuallyHidden,children:c!=null&&!a?c:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWCMGetValidId",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=!1);return i(a,b)!=null}function i(a,b){b===void 0&&(b=!1);if(a==null){b&&c("FBLogger")("cc_web").warn("FB Group ID is not defined");return void 0}if((h||(h=d("I64"))).le(a,(h||(h=d("I64"))).zero)){b&&c("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(h||(h=d("I64"))).to_string(a));return void 0}return a}g.MWCMHasValidFbGroupId=a;g.MWCMGetValidFbGroupIdOrUndefined=i}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};g["default"]=a}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("BaseHovercardTrigger.react")}),98);
__d("LSIssueCommunityAdminModerationActionsFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("fb_group_id",a[0]),d[0].set("target_user_id",a[1]),d[0].set("source",a[2]),d[0].set("thread_id",a[3]),d[0].set("request_id",a[4]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[5]=c.i64.of_float(Date.now()),d[1]=c.i64.add(d[5],c.i64.cast([0,0]))):d[1]=c.i64.cast([0,0]),d[2]=d[0].get("fb_group_id"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[2]),c.i64.cast([0,428]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[1],c.i64.cast([0,0])).then(function(a){return a=a,d[4]=a[0],a})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityAdminModerationActionsFetchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueCommunityAdminModerationActionsFetchStoredProcedure",["LSIssueCommunityAdminModerationActionsFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueCommunityAdminModerationActionsFetch"),e.fbGroupId,e.targetUserId,e.source,e.threadId,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MessagingSpecialThreadRole",[],(function(a,b,c,d,e,f){a=Object.freeze({ADMIN:1,THREAD_CREATOR:2,SUPER_ADMIN:3,MODERATOR:4,IG_BROADCAST_CHAT_COLLABORATOR:5,CHAT_HOST:6,ADMIN_VIA_PAGE:7});f["default"]=a}),66);
__d("MessagingSpecialThreadRoleBitOffset",["I64","LSBitFlag"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b==null?!1:d("LSBitFlag").has((h||(h=d("I64"))).lsl_(h.one,a),b.threadRoles)}g.has=a}),98);
__d("useMWCMIsSenderAdModOrChatHost",["Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityAdminModerationActionsFetchStoredProcedure","MWCMGetValidId","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","asyncToGeneratorRuntime","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g){var j=(i||(i=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var i=function(){var i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("MWCMGetValidId").MWCMHasValidFbGroupId(a)&&(yield j.runInTransaction(function(b){return c("LSIssueCommunityAdminModerationActionsFetchStoredProcedure")(c("LSFactory")(b),{fbGroupId:a,requestId:c("pageID"),source:(h||(h=d("LSIntEnum"))).ofNumber(14),targetUserId:g,threadId:e})},"readwrite",void 0,void 0,f.id+":47"))});return function(){return i.apply(this,arguments)}}();c("promiseDone")(i())},[j,a,g,e]);var k=d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(j.tables.community_members.index("communityContact")).getKeyRange(a,g,c("pageID")):d("ReQL").empty()},[j,a,g],f.id+":66"),l=(k==null?void 0:k.isAdmin)==null?!1:k.isAdmin,m=(k==null?void 0:k.isModerator)==null?!1:k.isModerator;k=k!=null?d("MessagingSpecialThreadRoleBitOffset").has(c("MessagingSpecialThreadRole").CHAT_HOST,k):!1;return{isAdmin:l,isChatHost:k,isModerator:m}}g["default"]=a}),98);
__d("MWPMessageAdModOrHostText.react",["fbt","BaseMiddot.react","MWCMGetValidId","MWCMHostTextHovercard.entrypoint","MWXHovercardTrigger.react","MWXText.react","react","react-strict-dom","useMWCMIsSenderAdModOrChatHost"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=a.communityId,e=a.senderId,f=a.shouldRenderSenderName;a=a.threadKey;b=c("useMWCMIsSenderAdModOrChatHost")(b,a,e);e=b.isAdmin;var g=b.isChatHost;b=b.isModerator;var i=h._(/*BTDS*/"Admin"),k=h._(/*BTDS*/"Moderator");a=j.jsx(c("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:c("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:{onClose:function(){},threadKey:a},popoverProps:{},position:"above",children:function(a){return j.jsx(c("MWXText.react"),{ref:a,type:"meta4",children:h._(/*BTDS*/"Host")})}});return j.jsx(j.Fragment,{children:f&&(e||b||g)&&j.jsxs(j.Fragment,{children:[j.jsx(c("BaseMiddot.react"),{}),j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:e?i:b?k:a})]})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){var b=a.communityId,c=a.message;a=a.shouldRenderSenderName;return!d("MWCMGetValidId").MWCMHasValidFbGroupId(b,!1)?null:j.jsx(k,{communityId:b,senderId:c.senderId,shouldRenderSenderName:a,threadKey:c.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPThreadIsPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("MWPThreadIsPage.react",["I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useContext;function a(a){var b=a.children,e=a.threadKey,g=(h||(h=c("useReStore")))(),k=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,k)}),d("ReQL").fromTableAscending(g.tables.contacts))},[e],f.id+":29");a=a!=null?a[1]:null;a=a!=null?(i||(i=d("I64"))).equal(a.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1;return l.jsx(c("MWPThreadIsPageContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=m(c("MWPThreadIsPageContext"));if(a!=null)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_ia");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("MWXIconBadgeCheckmark",["MWXSvgIcon","SVGIcon","cr:22216","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22216")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:22232","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22232")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMessageAttachments",["I64","ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(10),e=(i||(i=c("useReStore")))(),g;b[0]!==a?(g=c("mwpMessageHasAttachment")(a),b[0]=a,b[1]=g):g=b[1];var h=g,k;b[2]!==e||b[3]!==h||b[4]!==a.messageId||b[5]!==a.threadKey?(g=function(){return h?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},k=[e,a.threadKey,a.messageId,h],b[2]=e,b[3]=h,b[4]=a.messageId,b[5]=a.threadKey,b[6]=g,b[7]=k):(g=b[6],k=b[7]);g=d("ReQLSuspense").useArray(g,k,f.id+":26");b[8]!==g?(k=g.toSorted(j),b[8]=g,b[9]=k):k=b[9];return k}function j(a,b){return(h||(h=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)}g["default"]=a}),98);
__d("usePinnedTextAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a){var b=k(!1),d=b[0],e=b[1],f=j(a);i(function(){a!==f.current&&e(!0),f.current=a},[a]);return{mountAnimation:d?l.mountAnimation:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageListDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAdModOrHostText.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","MessagingAttachmentType","ReQL","ReQLSuspense","isMWEditedMessage","react","react-strict-dom","useMWPIsMessagePinned","useMessageAttachments","usePinnedTextAnimation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingInlineStart:"x135b78x",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingInlineStart:"x1g0dm76",$$css:!0},separator:{paddingInlineEnd:"x1ccui7m",paddingInlineStart:"x18pi947",$$css:!0}};function o(a){var b=a.children;a=a.outgoing;return m.jsx(d("react-strict-dom").html.div,{style:[n.container,a?n.alignEnd:n.alignStart],children:b})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isFirstMessageInGroup,e=a.isLastMessageInGroup,g=a.message,l=a.outgoing,p=a.renderPaidPartnerShipText,q=a.renderPinnedText,r=a.renderTextWrapper;a=a.shouldRenderSenderName;var s=d("MWPMessageAuthor.react").useAuthorName();s=s[0];var t=d("MWPContactContext.react").useMWPContactStableContext(),u=t.contact;t=t.nickname;var v=d("Actor").useActor();v=v[0];var w=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),x=w.isReportMessageList,y=w.isStandardMessageList,z=(i||(i=c("useReStore")))();w=c("useMessageAttachments")(g);var A=d("MWLSThread").useThread(g.threadKey,function(a){return a.parentThreadKey}),B=d("ReQLSuspense").useFirst(function(){return A!=null?d("ReQL").fromTableAscending(z.tables.community_folders).getKeyRange(A).map(function(a){return a.folderId}):d("ReQL").empty()},[z,A],f.id+":114"),C=function(){if(g.metadataDataclass==null)return!1;try{var a=JSON.parse(g.metadataDataclass);a=a==null?void 0:a.ai_metadata;return(a==null?void 0:a.imagine_intent_feature)==="edit_user_image"&&(a==null?void 0:a.is_ai_generated)===!0}catch(a){return!1}}(),D=c("isMWEditedMessage")(g),E=d("MWPThreadIsPage.react").useIsPage(),F=d("MWLSThread").useThread(g.threadKey,function(a){return a.threadType});F=F!=null&&d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(F);var G=u?!(j||(j=d("I64"))).equal(u.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED)):!1;E=E&&!(j||(j=d("I64"))).equal(g.senderId,g.threadKey)&&!l;E=E&&!F;E=E&&b;var H=u?d("LSContactBitOffset").has(77,u):!1,I=u?d("LSContactBitOffset").has(84,u):!1,J=c("useMWPIsMessagePinned")(g);F=c("usePinnedTextAnimation")(J);var K=F.mountAnimation,L=F.unmountAnimation,M=g.isPaidPartnership===!0,N=g.groupId!=null&&g.groupIndex!=null&&(j||(j=d("I64"))).to_int32(g.groupIndex)===0&&(j||(j=d("I64"))).to_int32((u=g.groupSize)!=null?u:(j||(j=d("I64"))).zero)>=4,O=w!=null&&w.length>=4&&w.every(function(a){return(j||(j=d("I64"))).equal(a.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}),P=(a||E)&&!N&&!O;F=P||J||D||C||M||N||O;var Q="";if(O&&w!=null&&w.length>1)Q=w.length.toString();else if(N){Q=(j||(j=d("I64"))).to_int32((u=g.groupSize)!=null?u:(j||(j=d("I64"))).zero).toString()}a=t!=null?t:h._(/*BTDS*/"You");var R=v===(j||(j=d("I64"))).to_string(g.senderId),S=R?a.toString():s==null?void 0:s.toString(),T=e&&b;E=h._(/*BTDS*/"Member");if(!F)return m.jsx(c("MWPAccessibleEyebrowsText.react"),{message:g,outgoing:l});w=function(a){var e=P&&a!=null||J||G;a=m.jsx(o,{outgoing:l,children:r(m.jsxs(d("react-strict-dom").html.span,{style:n.color,children:[(P||G)&&a!=null&&m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:a}),m.jsx(c("MWPMessageAdModOrHostText.react"),{communityId:B,message:g,shouldRenderSenderName:P}),J&&!G&&m.jsx(d("react-strict-dom").html.span,{style:J?K:L,children:q(g,P)}),G&&m.jsxs(m.Fragment,{children:[m.jsx(d("react-strict-dom").html.span,{children:m.jsx(c("BaseMiddot.react"),{})}),m.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,children:h._(/*BTDS*/"Blocked")})]}),D&&m.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasPadding:!T&&!b,separatorStyle:e?n.separator:null}),C&&m.jsxs(m.Fragment,{children:[e||D?m.jsx(d("react-strict-dom").html.span,{style:n.separator,children:m.jsx(c("BaseMiddot.react"),{})}):null,m.jsx(d("react-strict-dom").html.span,{children:h._(/*BTDS*/"Edited with Meta AI")})]}),H===!0?m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconBot"),size:12})}):null,I&&m.jsx(d("react-strict-dom").html.span,{style:n.botBadge,children:m.jsx(c("MWXIconStrict.react"),{color:"primaryAccent",icon:c("MWXIconBadgeCheckmark"),size:12})}),M&&p!=null&&p(g),(N||O)&&!G&&m.jsxs(d("react-strict-dom").html.span,{"data-testid":void 0,children:[J&&y&&m.jsx(c("BaseMiddot.react"),{}),R?h._(/*BTDS*/"You sent {numberOfMedia} photos",[h._param("numberOfMedia",Q)]):h._(/*BTDS*/"{senderName} sent {numberOfMedia} photos",[h._param("senderName",G?null:S),h._param("numberOfMedia",Q)])]})]}))});return x?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a}):m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:a})};return g.takedownState!=null?w(E.toString()):w(S)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageListColumn.react","MWPThreadIsPage.react","mwpMessageIsReply","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingInlineEnd:"xjfo4ez",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingInlineEnd:"xjfo4ez",$$css:!0}};function m(a,b,e,f){var g=a.replySnippet;g=g!=null?g!=="":!1;var h=a.replySourceTypeV2!=null&&(j||(j=d("LSIntEnum"))).toNumber(a.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD;if(g)return e(a,f);return!h?null:b(a,f)}function a(a){a._fbGroupId;var b=a.alwaysRenderSenderName;b=b===void 0?!1:b;var e=a.isAnyCMThread;e=e===void 0?!1:e;var f=a.isFirstMessageInGroup,g=a.isGroupThread,i=a.isLastMessageInGroup,j=a.message,n=a.outgoing,o=a.renderForwardSnippet,p=a.renderMessageEyebrows,q=a.renderPaidPartnerShipText,r=a.renderPinnedText,s=a.renderReplySnippet,t=a.renderTextWrapper;a=a.renderTimestamp;var u=c("mwpMessageIsReply")(j);o=m(j,o,s,n);s=d("MWPContactContext.react").useMWPContactStableContext();s=s.nickname;var v=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();v=v.isReportMessageList;s=f&&s!=null&&e;e=b||g&&f&&!n&&!u||s;o!=null?b=k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.header,n?l.alignEnd:!1),{role:"none",children:v?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:o}):k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:o})})):p!=null?b=p(j,n,t,e):b=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:j.threadKey,children:k.jsx(c("MWPMessageEyebrows.react"),{isFirstMessageInGroup:f,isLastMessageInGroup:i,message:j,outgoing:n,renderPaidPartnerShipText:q,renderPinnedText:r,renderTextWrapper:t,shouldRenderSenderName:e})});g=o!=null?l.timestampWithSnippet:l.timestamp;u=a!=null?k.jsx(c("MWPBaseMessageRowHeaderTimestamp.react"),{message:j,renderText:t,renderTimestamp:a,xstyle:g}):null;if(f)return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsxs(c("BaseRow.react"),{direction:n?"backward":"forward",children:[k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:b})}),u!=null?k.jsx(c("BaseRowItem.react"),{children:k.jsx(c("BaseHeading.react"),{children:u})}):null]})});else return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){var a=i(d("MAWEditMessageContext.react").Context);a=a.editMessageData;return a}g["default"]=a}),98);
__d("MWEditMessageOverlay.react",["react","useMAWEditMessageData"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.messageId;var b=c("useMAWEditMessageData")(),d=b!=null;a=a!=null&&a===(b==null?void 0:b.messageId);return!d||a?null:i.jsx("div",{className:"xyl4keb x5yr21d x1o0tod x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("KeyCommandHandler.react",["ReactKeyboardEvent.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||(h=d("react")),j=h.useRef,k=i.unstable_Scope;function a(a){var b=a.children,c=a.onKeyDown;a=a.onKeyUp;var e=j(null);d("ReactKeyboardEvent.react").useKeyboard(e,{onKeyDown:c,onKeyUp:a});return i.jsx(k,{ref:e,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext,k=e.useMemo,l=d({modal:"",setModal:c("emptyFunction")});function a(a){var b=a.children,c=a.modal,d=a.setModal;a=k(function(){return{modal:c,setModal:d}},[c,d]);return i.jsx(l.Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(l)}g.MWV2MessageListIsRowModalContext=l;g.MWV2MessageListIsRowModalContextProvider=a;g.useMWV2MessageListIsRowModal=b}),98);
__d("MWPMessageListFocusableTableRow.react",["fbt","BaseHeadingContextWrapper.react","CometScreenReaderText.react","FocusInertRegion.react","FocusManager","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOM","focusScopeQueries","justknobx","react","setTimeout","stylex","useCometTheme","useMAWEditMessageData"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useEffect,n=b.useId,o=b.useMemo,p=b.useRef,q=b.useState,r={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"x152obne",insetInlineEnd:"xxx7yvo",left:null,right:null,paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},enterModalButtonInsideRow:{top:"xndqk7f",$$css:!0},enterModalButtonOutsideRow:{top:"x1qiirwl",transform:"x105ttfm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function s(a){var b=a.key;(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End")&&a.preventDefault()}var t=h._(/*BTDS*/"Details and actions"),u=h._(/*BTDS*/"Close details and actions"),v=h._(/*BTDS*/"Enter");function w(a){var b=a.ariaLabel,d=a.focusable,e=a.onPress,f=a.ref,g=a.showButtonInsideRow,h=a.text;a=a.xstyle;var i=c("useCometTheme")("invert"),j=i[0];i=i[1];return k.jsx(j,{children:k.jsx(c("MWXPressable.react"),{"aria-label":b,focusable:d,onPress:function(){return e()},ref:f,xstyle:[i,r.enterModalButton,g?r.enterModalButtonInsideRow:r.enterModalButtonOutsideRow,a],children:k.jsx(c("MDSTextPairing.react"),{body:h,bodyColor:"primary",level:4})})})}w.displayName=w.name+" [from "+f.id+"]";function a(a){var b=a.accessibilityDialogTitleText,e=a.checkIfContentsAreTabbable,f=e===void 0?!1:e;e=a.children;var g=a.focusCellOnRender,j=g===void 0?!1:g,x=a.isDialogOpened,y=a.isFocused,z=a.isModal,A=a.messageDomID,B=a.nameForModality,C=a.setFocused,D=a.setIsDialogOpened;g=a.showButtonInsideRow;var E=g===void 0?!1:g;a=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal();var F=a.setModal,G=p(null),H=n(),I=l(function(){F(function(){return B}),c("setTimeout")(function(){d("FocusRegion.react").focusRegionById(H,d("focusScopeQueries").tabbableScopeQuery)},0)},[F,B,H]),J=p(null),K=function(){F(function(){return""});var a=G.current;if(a!=null)return a.focus()},L=n(),M=k.jsx(c("CometScreenReaderText.react"),{id:L,text:b}),N=n(),O=p(null);g=o(function(){return{isDialogOpened:x,setFocused:C,setIsDialogOpened:D}},[C,D,x]);var P=c("useMAWEditMessageData")()!=null;a=function(a){if(y!==a){c("justknobx")._("3588")?x||C(function(){return a}):C(function(){return a});return F(function(){if((a||x)&&z)return B;else return""})}};b=q(!1);var Q=b[0],R=b[1];b=function(a){y!==a&&(c("justknobx")._("3588")?x||C(function(){return a}):C(function(){return a}));if(J.current!=null){var b=d("FocusManager").getFirstNodeFromOneOrManyQueries(d("focusScopeQueries").tabbableScopeQuery,J.current);R(b!=null)}var e=O.current;if(a&&e!=null){c("setTimeout")(function(){try{return e.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(a){return e.scrollIntoView(!1)}},0);return}};m(function(){if(j){var a;(a=G.current)==null||a.focus();(a=G.current)==null||a.scrollIntoView()}},[j]);var S=f?k.jsx(d("FocusRegion.react").FocusRegion,{forwardRef:J,children:e}):e;return k.jsx(c("BaseHeadingContextWrapper.react"),{children:k.jsx(d("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:g,children:k.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:k.jsx(c("FocusWithinHandler.react"),{onFocusChange:P?void 0:a,onFocusVisibleChange:P?void 0:b,children:function(a,b){a=k.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(r.cell,z?r.cellModal:!1,b?r.cellFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:G,role:"gridcell",tabIndex:P?-1:0,children:k.jsx(c("FocusInertRegion.react"),{disabled:z,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:z?k.jsxs(k.Fragment,{children:[k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:H,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:k.jsx(c("KeyCommandHandler.react"),{onKeyDown:s,children:k.jsxs("div",{"aria-describedby":A,"aria-labelledby":L,id:N,role:"dialog",children:[S,z?M:null,k.jsx(w,{ariaLabel:u,focusable:!0,onPress:K,showButtonInsideRow:E,text:h._(/*BTDS*/"Esc"),xstyle:r.enterModalButtonVisible})]})})}),d("ReactDOM").createPortal(k.jsx("div",{"aria-owns":N}),document.body)]}):S})}))});return k.jsxs(k.Fragment,{children:[k.jsx(d("MWMessageCellFocusTable.react").keyCommands,{onEnter:z||P||f&&!Q?void 0:I,onEscape:z?K:void 0,onSpace:z||P||f&&!Q?void 0:I,children:a}),k.jsx("div",{role:"gridcell",children:k.jsx(w,{ariaLabel:z?h._(/*BTDS*/"_j[\"Skip to details and actions\",\"72920428a45b969c9dad788a656c323c\",1]"):t,focusable:z,onPress:I,ref:O,showButtonInsideRow:E,text:z?h._(/*BTDS*/"_j[\"Skip to details and actions\",\"72920428a45b969c9dad788a656c323c\",1]"):v,xstyle:b&&!z&&(Q||!f)?r.enterModalButtonVisible:r.visuallyHidden})})]})}})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageRowActionsContext.react",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;d=e.createContext;var j=e.useContext;e={current:c("emptyFunction")};var k={current:c("emptyFunction")},l={current:c("emptyFunction")};c={current:c("emptyFunction")};e={forwardMessage:e,openReactionsMenu:k,removeMessage:l,replyToMessage:c};var m=d(e);function a(){return j(m)}function b(a){var b=a.children;a=a.value;return i.jsx(m.Provider,{value:a,children:b})}b.displayName=b.name+" [from "+f.id+"]";g.useMessageRowActionsContext=a;g.MWV2MessageRowActionsContextProvider=b}),98);
__d("useMWPEditMessageDeemphasizer",["IGDWebUtils","MAWEditMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j={deemphasize:{filter:"x4xejrh",$$css:!0}};function a(a){var b=i(d("MAWEditMessageContext.react").Context);b=b.editMessageData;b=(b==null?void 0:b.messageId)!=null&&(b==null?void 0:b.messageId)!==a&&!d("IGDWebUtils").isOnInstagramWeb();return b?j.deemphasize:null}g["default"]=a}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","I64","MWEditMessageOverlay.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWPMessageListFocusableTableRow.react","MWV2MessageRowActionsContext.react","TimestampUtils","cr:11506","emptyFunction","react","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;var l=e.useMemo,m=e.useRef,n=(e=b("cr:11506"))!=null?e:k.Fragment,o={row:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.children,e=a.domElementRef,f=a.focusCellOnRender;f=f===void 0?!1:f;var g=a.isDialogOpened,i=a.isFocused,p=a.isModal,q=a.message,r=a.messageDomID,s=a.outgoing,t=a.setFocused,u=a.setHovered,v=a.setIsDialogOpened,w=a.stopHoveringRef;a=a.theme;var x=d("TimestampUtils").getTimestamp(c("useServerTime")(),new Date((j||(j=d("I64"))).to_float(q.timestampMs))),y=d("MWPMessageAuthor.react").useAuthorName();y=y[0];s=s?h._(/*BTDS*/"You"):y!=null?y:h._(/*BTDS*/"a participant");y=h._(/*BTDS*/"Message sent {Stringified timestamp of the incoming message} by {Name of the author of the incoming message}",[h._param("Stringified timestamp of the incoming message",x),h._param("Name of the author of the incoming message",s)]);var z=m(c("emptyFunction")),A=m(c("emptyFunction")),B=m(c("emptyFunction")),C=m(c("emptyFunction"));x=l(function(){return{forwardMessage:B,openReactionsMenu:z,removeMessage:C,replyToMessage:A}},[z,A]);s=c("useMAWEditMessageData")()!=null;var D=c("useMWPEditMessageDeemphasizer")(q.messageId);return k.jsx(c("BaseHeadingContextWrapper.react"),{children:k.jsx(d("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:x,children:k.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:e,message:q,role:"row",setHovered:s?c("emptyFunction"):u,stopHoveringRef:w,theme:a,xstyle:[o.row,D],children:k.jsxs(n,{children:[k.jsx(c("MWPMessageListFocusableTableRow.react"),{accessibilityDialogTitleText:y,focusCellOnRender:f,isDialogOpened:g,isFocused:i,isModal:p,messageDomID:r,nameForModality:q.messageId,setFocused:t,setIsDialogOpened:v,children:b}),k.jsx(c("MWEditMessageOverlay.react"),{messageId:q.messageId})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPMessageLoggingUtil",["MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.messageId,c=a.optimisticAttachmentId;a=a.optimisticMessageId;b=d("MWChatInteraction").get(b);a=d("MWChatInteraction").get(a);c=c!=null?d("MWChatInteraction").get(c):null;a=(b=b!=null?b:a)!=null?b:c;return a}g.getInteractionUUIDForMessage=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWPMessageLoggingUtil","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticAttachmentId,g=a.optimisticMessageId;a=a.xstyle;e=d("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:e,optimisticAttachmentId:f,optimisticMessageId:g});if(e==null)return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{children:b}));else return j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentAppID","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","justknobx","mergeDeep","react","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useLayoutEffect,l=e.useRef;function a(a,b,c,e){c===void 0&&(c=n);e===void 0&&(e=d("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT);return m(a,b,c,!1,{},e)}function b(a,b){return m(a,b,o,!0,{string:{reply_attachment_type:d("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(a.replyAttachmentType)}},d("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT)}function m(a,b,e,f,g,h){g===void 0&&(g={});var m=(i||(i=d("I64"))).le(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),n=d("MWPActor.react").useActor(),o=i.equal(a.senderId,n),p=c("useLSMessagingInitiatingSource")(),q=c("useXMAPreviewsDisabledSetting")(),s=l(!1),t=d("Int64Hooks").useMemoInt64(function(){var k;if(!e(a,b))return null;var l=d("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(a.offlineThreadingId,m,f),n=d("CurrentAppID").getAppID();k={bool:{has_db_reply_attachment:a.replyAttachmentId!=null,has_quick_replies:a.hasQuickReplies,has_text:Boolean(a.text),is_admin_message:a.isAdminMessage,is_bot_response:a.botResponseId!=null,is_collapsed:a.isCollapsed,is_expired:a.isExpired,is_forwarded:(k=a.isForwarded)!=null?k:!1,is_optimistic:m,is_outgoing:o,is_pdb:Boolean(c("gkx")("8483")),is_reply_to_media:f,is_unsent:a.isUnsent,mention_type_is_ai:a.mentionTypes==="ai",text_has_links:a.textHasLinks,use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},"int":{message_rendering_type:(i||(i=d("I64"))).to_float(a.messageRenderingType),quick_reply_type:i.to_float(a.quickReplyType),reply_status:a.replyStatus!=null?(i||(i=d("I64"))).to_float(a.replyStatus):void 0,reply_type:a.replyType!=null?(i||(i=d("I64"))).to_float(a.replyType):void 0,takedown_state:a.takedownState!=null?(i||(i=d("I64"))).to_float(a.takedownState):void 0},string:{app_id:n!=null?n:void 0,content_type:f&&a.replyAttachmentType!=null?d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(a.replyAttachmentType):d("MWMediaRenderQplUtils").getMessageContentTypeString(a),content_type_num:i.to_string(a.displayedContentTypes),entry_point:"thread_view",message_age_bucket:c("justknobx")._("1613")?d("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(a.primarySortKey):void 0,messaging_initiation_source:d("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(p),mw_version:i.to_string(d("MWVersion").v2),reply_source_type:a.replySourceType!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(a.replySourceType):void 0,reply_source_type_v2:a.replySourceTypeV2!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(a.replySourceTypeV2):void 0,thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(b),transport_key:a.transportKey}};n=c("mergeDeep")(k,g);return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(h,l,s,n),{addAttachmentAnnotations:function(a){var b,e=a==null?void 0:a.receiverFetchId;try{e=e!=null?JSON.parse(e):null}catch(a){e=null,c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse contentRef as XmsgMsgrXmaContentRefDataclass")}e=(e=e)==null?void 0:e.xma_content_type;e=e!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(e)):void 0;c("QPLUserFlow").addAnnotations(h,{bool:{has_attachment_receiver_fetch_id:(a==null?void 0:a.receiverFetchId)!=null,has_db_attachment:a!=null,has_db_media:(a==null?void 0:a.hasMedia)===!0,has_db_playable_url:Boolean(a==null?void 0:a.playableUrl),has_db_preview_url:Boolean(a==null?void 0:a.previewUrl),has_db_preview_url_large:Boolean(a==null?void 0:a.previewUrlLarge),has_db_xma:(a==null?void 0:a.hasXma)===!0,has_db_xma_favicon:(a==null?void 0:a.hasXmaFavicon)===!0,has_db_xma_header_image:(a==null?void 0:a.hasXmaHeaderImage)===!0,has_db_xma_preview:(a==null?void 0:a.hasXmaPreview)===!0,is_db_playable_url_expired:(a==null?void 0:a.playableUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(a==null?void 0:a.previewUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:q},string:{attachment_logging_type:a==null?void 0:a.attachmentLoggingType,attachment_transport_key:(b=a==null?void 0:a.transportKey)!=null?b:void 0,attachment_type:a==null?null:d("MWMediaRenderQplUtils").getAttachmentTypeString(a),audio_duration_bucket:(a==null?void 0:a.playableDurationMs)!=null?d("MWMediaRenderQplUtils").convertDurationToStringBucket((i||(i=d("I64"))).to_float((b=a==null?void 0:a.playableDurationMs)!=null?b:(i||(i=d("I64"))).zero)/1e3):void 0,file_size_bucket:(a==null?void 0:a.filesize)!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket((i||(i=d("I64"))).to_float(a==null?void 0:a.filesize)):void 0,playable_url_mime_type:a==null?void 0:a.playableUrlMimeType,preview_url_mime_type:a==null?void 0:a.previewUrlMimeType,sanitized_plaintext_hash:r(a),xma_content_type:e!=null?e:(a==null?void 0:a.xmaContentType)!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(a.xmaContentType):void 0,xma_default_cta_type:a==null?void 0:a.defaultCtaType,xma_layout_type:d("MWMediaRenderQplUtils").getMessageXmaLayoutTypeStringFromEnum(a==null?void 0:a.xmaLayoutType)}},{instanceKey:l})}})},[m,a.displayedContentTypes]);n=c("usePartialViewImpression")({onImpressionEnd:function(){s.current===!1&&(t==null||t.addPoint("message-row-hidden"),t==null||t.addAnnotations({bool:{message_row_is_hidden:!0}}))},onImpressionStart:function(){s.current===!1&&(t==null||t.addPoint("message-row-visible"),t==null||t.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}}))}});k(function(){t==null||t.start();t==null||t.addPoint("message-row-mounted");return function(){s.current===!1&&(t==null?void 0:t.getInstanceKey())!=null&&(t==null||t.addPoint("message-row-unmounted"),t==null||t.endCancel(706))}},[t]);return{mediaRenderQpl:t,messageRowRef:n}}function n(a,b){if(p(a))return!1;b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(8),a.displayedContentTypes);return b||d("MAWMsg").isMediaMsg(a)}function o(a,b){return d("MAWMsg").isMediaReplyAttachmentType(a,b)&&q(a)}function p(a){return a.isUnsent||a.isExpired}function q(a){return a.replyStatus!=null&&(i||(i=d("I64"))).equal(a.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").VALID))}function r(a){return!c("gkx")("23916")||a==null||isFinite(a.attachmentFbid)?void 0:d("WAHashUtils").sanitisePlaintextHash(d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid))}g.useMediaRenderQpl=a;g.useMediaRenderQplForReply=b;g.enableQplForMessage=n}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MAWVault","MWChatTextTransform","ReQL","ReQLSuspense","react","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.cta,e=a.message,g=(h||(h=c("useReStore")))();a=(a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadType"]).getKeyRange(e.threadKey)},[g,e.threadKey],f.id+":29"))==null?void 0:a.threadType;a=a==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);var i=e.text==null?null:d("MAWVault").unvault(e.text);a=(a=d("useStringWithSubstitutions").useStringWithSubstitutions(a?i:null,e.threadKey))!=null?a:i;if(a!=null)if(b!=null)return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault})," ",b]});else return j.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform").textTransformsNoVault});else if(b!=null)return b;else return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGenAINuxQplLogger",["I64","LSThreadAttributionStore","MWGenAIUtils","QPLUserFlow","Random","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,e){var f=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(h||(h=d("I64"))).to_string(d("MWGenAIUtils").META_AI_THREAD_KEY)),g=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{annotations:{string:{mutation_result:e!==void 0?e:"null",nux_type:b,source:(h||(h=d("I64"))).isI64(f.value)?(h||(h=d("I64"))).to_string(f.value):f.value}},instanceKey:g});c("QPLUserFlow").endSuccess(a,{instanceKey:g});return g}function a(a){return i(c("qpl")._(25302830,"1738"),a)}function b(a){return i(c("qpl")._(25299245,"1740"),a)}function e(a,b){return i(c("qpl")._(25308190,"1741"),a,b?"success":"failure")}g.logNuxRender=a;g.logNuxHidden=b;g.logNuxMutation=e}),98);
__d("MXGenAINuxTextContent.react",["MWXLink.react","MWXText.react","MessengerWebGenAIConsentStatus","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a,b=function(b,a,d,e){return i.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:i.jsx(c("MWXLink.react"),{href:e,target:"_blank",children:b.substring(a,d)})},a)},d=c("MessengerWebGenAIConsentStatus").inline_disclosure_text,e=(a=d==null?void 0:d.text)!=null?a:"";d=(a=d==null?void 0:d.ranges)!=null?a:[];var f=0,g=[];d.forEach(function(a){var c=a.length,d=a.offset;a=a.url;if(d==null||c==null||a==null)return;g.push(e.substring(f,d));g.push(b(e,d,d+c,a));f=d+c});g.push(e.substring(f));return i.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerWebGenAIConsentStatusStore",["MessengerWebGenAIConsentStatus"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.config={chatConsented:c("MessengerWebGenAIConsentStatus").chat_consented},a.instance=this}a.getInstance=function(){a.instance==null&&(a.instance=new a());return a.instance};var b=a.prototype;b.getChatConsented=function(){return this.config.chatConsented};b.setChatConsented=function(a){this.config={chatConsented:a}};return a}();b=a.getInstance();d=b;g["default"]=d}),98);
__d("useMWGenAIWriteConsentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10014175975368501"}),null);
__d("useMWGenAIWriteConsentMutation.graphql",["useMWGenAIWriteConsentMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"metadata"}],c=[{alias:null,args:[{kind:"Variable",name:"metadata",variableName:"metadata"},{kind:"Literal",name:"nux_type",value:"GEN_AI_CHATS"}],concreteType:"XFBMessengerGenAiNuxWriteConsentResponsePayload",kind:"LinkedField",name:"xfb_messenger_gen_ai_nux_write_consent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMWGenAIWriteConsentMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMWGenAIWriteConsentMutation",selections:c},params:{id:b("useMWGenAIWriteConsentMutation_facebookRelayOperation"),metadata:{},name:"useMWGenAIWriteConsentMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWGenAIWriteConsentMutation",["CometRelay","CometRelayErrorHandling","FBLogger","MWGenAINuxQplLogger","MessengerWebGenAIConsentStatusStore","err","react","useMWGenAIWriteConsentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback,k=h!==void 0?h:h=b("useMWGenAIWriteConsentMutation.graphql");function a(){var a=d("CometRelay").useMutation(k),b=a[0];a=a[1];var e=j(function(a){var e=a.metadata,f=a.onError,g=a.onSuccess;if(!e.nux_scope)throw c("FBLogger")("messenger_web_genai").mustfixThrow("Nux scope cannot be null");var h=e.nux_scope;return b({onCompleted:function(a){var b;if((a==null||(b=a.xfb_messenger_gen_ai_nux_write_consent)==null?void 0:b.success)===!0)d("MWGenAINuxQplLogger").logNuxMutation(h,!0),c("FBLogger")("messenger_web_genai").info("GenAI consent mutation succeeded"),c("MessengerWebGenAIConsentStatusStore").setChatConsented(!0),g==null||g(a);else{a=c("err")("Consent mutation failed");d("MWGenAINuxQplLogger").logNuxMutation("ROW",!1);c("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed");f==null||f(a)}},onError:function(a){d("CometRelayErrorHandling").markErrorAsHandled(a),c("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed"),d("MWGenAINuxQplLogger").logNuxMutation("ROW",!1),f==null||f(a)},variables:{metadata:e}})},[b]);return[e,a]}g["default"]=a}),98);
__d("MWGenAINux.react",["FBLogger","MWGenAINuxQplLogger","MXGenAINuxTextContent.react","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","clearTimeout","react","setTimeout","useMWGenAIWriteConsentMutation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.hasUserSentMessage;a=a.source;if(c("MessengerWebGenAIConsentStatus").inline_disclosure_text==null){c("FBLogger")("messenger_web_genai").mustfix("Failed to fetch inline disclosure text for GenAI NUX");return null}switch(c("MessengerWebGenAIConsentStatus").nux_scope){case"ROW":return a==="footer"?i.jsx(n,{isVisible:!b}):null;case"EU":case"EU_V2":return a==="header"||a==="adminMessage"?i.jsx(m,{}):null;default:return}}a.displayName=a.name+" [from "+f.id+"]";function m(){d("MWGenAINuxQplLogger").logNuxRender("EU");return i.jsx(c("MXGenAINuxTextContent.react"),{})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.isVisible;a=l(b&&!c("MessengerWebGenAIConsentStatusStore").getChatConsented());var e=a[0],f=a[1],g=k(!0);a=c("useMWGenAIWriteConsentMutation")();var h=a[0];j(function(){if(g.current){g.current=!1;return}if(!b){var a=c("setTimeout")(function(){f(!1),d("MWGenAINuxQplLogger").logNuxHidden("ROW")},100);return function(){return c("clearTimeout")(a)}}},[b]);j(function(){if(b&&e){var a=c("setTimeout")(function(){h({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:"ROW"}})},500);return function(){return c("clearTimeout")(a)}}},[b,e,h]);if(!e)return null;d("MWGenAINuxQplLogger").logNuxRender("ROW");return i.jsx("div",babelHelpers["extends"]({},{0:{className:"xsag5q8 x1n2onr6 xh8yej3 x1eb86dx"},1:{className:"x1n2onr6 xh8yej3 x1eb86dx xnjgh8c xg01cxk x18d9i69 x1bbs9h xlshs6z"}}[!!!b<<0],{children:i.jsx(c("MXGenAINuxTextContent.react"),{})}))}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",a[1]),d[1].set("muted_user_id",a[0]),d[1].set("owner_id",d[0]),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"instant_game_custom_update_mute_management",c.i64.cast([0,759]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxCustomUpdateMuteManagementStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCustomUpdateMuteManagement"),e.mutedUserId,e.gameId,e.userActionType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=a.shouldMute,g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId)},[g,b.messageId,b.threadKey],f.id+":32");a=l(function(){if((j==null?void 0:j.targetId)==null)return;var a=j.targetId,h=e?(i||(i=d("LSIntEnum"))).ofNumber(0):(i||(i=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(d){return c("LSCustomUpdateMuteManagementStoredProcedure")(c("LSFactory")(d),{gameId:a,mutedUserId:b.threadKey,userActionType:h})},"readwrite",void 0,void 0,f.id+":55"))},[g,b.threadKey,e,j]);a=b.adminMsgCtaTitle!=null?k.jsx(c("MWXLink.react"),{onClick:a,target:"_blank",children:b.adminMsgCtaTitle}):void 0;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"game_messenger_updates_management_xmat",c.i64.cast([0,755]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateBotSubscriptionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateBotSubscription","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateBotSubscription"),e.threadKey,e.userActionType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useCallback;function a(a){var b=a.message,e=a.shouldSubscribe,g=(h||(h=c("useReStore")))(),k=(i||(i=d("I64"))).to_string(b.threadKey),n=m(function(){var a=e?(j||(j=d("LSIntEnum"))).ofNumber(0):(j||(j=d("LSIntEnum"))).ofNumber(1);c("promiseDone")(g.runInTransaction(function(b){return c("LSUpdateBotSubscriptionStoredProcedure")(c("LSFactory")(b),{threadKey:(i||(i=d("I64"))).of_string(k),userActionType:a})},"readwrite",void 0,void 0,f.id+":41"))},[g,k,e]);a=b.adminMsgCtaTitle!=null?l.jsx(c("MWXLink.react"),{onClick:function(){return n()},target:"_blank",children:b.adminMsgCtaTitle}):void 0;return l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.message;var d=a.adminMsgCtaTitle;d=d!=null&&b("cr:7125")!=null?i.jsx("div",babelHelpers["extends"]({className:"xz94kzr x1rg5ohu xo1l8bm"},{children:i.jsx(b("cr:7125"),{threadKey:a.threadKey,title:d})})):null;return i.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminMsgCtaLink.react",["MWXLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["xstyle","children"],i,j=i||d("react");function a(a){var b=a.xstyle,d=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsx(c("MWXLink.react"),babelHelpers["extends"]({style:{color:"var(--mwp-primary-theme-color)"},weight_DEPRECATED:"bold",xstyle_DEPRECATED:b},a,{children:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react",["fbt","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(c("MWAdminMsgCtaLink.react"),{href:"https://www.facebook.com/legal/ai-terms",target:"_blank",children:h._(/*BTDS*/"Learn more.")}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWEditThemeDialogRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24209679198634279"}),null);
__d("MWEditThemeDialogRootQuery$Parameters",["MWEditThemeDialogRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditThemeDialogRootQuery_facebookRelayOperation"),metadata:{},name:"MWEditThemeDialogRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEditThemeDialogRoot.entrypoint",["JSResourceForInteraction","MWEditThemeDialogRootQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;a={getPreloadProps:function(a){return{queries:{queryReference:{parameters:c("MWEditThemeDialogRootQuery$Parameters"),variables:{first:h}}}}},root:c("JSResourceForInteraction")("MWEditThemeDialogRoot.react").__setRef("MWEditThemeDialogRoot.entrypoint")};g["default"]=a}),98);
__d("MWEditThemeQplLogger",["QPLUserFlow","Random","justknobx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("justknobx")._("3876"),i=c("qpl")._(25308101,"2815");function a(a,b){var e=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(i,{annotations:{string:{entry_point:a,version:b}},instanceKey:e,timeoutInMs:c("justknobx")._("3877")});return e}function b(a,b){c("QPLUserFlow").addPoint(i,a,{instanceKey:b})}function e(a){c("QPLUserFlow").endSuccess(i,{instanceKey:a})}function f(a){c("QPLUserFlow").endCancel(i,{instanceKey:a})}function j(a,b){c("QPLUserFlow").endFailure(i,a,{instanceKey:b})}g.THEME_RENDER_THRESHOLD_SUCCESS_COUNT=h;g.QPL_EVENT=i;g.startEventAndReturnInstanceKey=a;g.addPoint=b;g.endEventSuccess=e;g.endEventCancel=f;g.endEventFailure=j}),98);
__d("useMWEntrypoint",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b="inbox";switch(a){case"ChatTab":b="popup_chat_box";break;case"RoomsSideChat":b="rooms_lobby";break}return b}g["default"]=a}),98);
__d("MWFalcoFeatureEventLogger",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,f,g){c("gkx")("24170")&&c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:a,event_name:b,is_secured:d("LSMessagingThreadTypeUtil").isArmadilloSecure(g),other_user_fbid:e!=null?(h||(h=d("I64"))).to_string(e):null,thread_fbid:(h||(h=d("I64"))).to_string(f)}})}g.logEvent=a}),98);
__d("getMWOtherUserFBID",["I64","LSMessagingThreadTypeUtil","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=d("LSMessagingThreadTypeUtil").isOneToOne(e);if(!f)return null;f=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e);if(!f)return c;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(c).filter(function(a){a=a.contactId;return!(h||(h=d("I64"))).equal(a,b)}).take(1)));return e==null?void 0:e.contactId});return i.apply(this,arguments)}g.getMWOtherUserFBID=a}),98);
__d("useMWFalcoFeatureEventLogger",["MWFalcoFeatureEventLogger","MWPActor.react","getMWOtherUserFBID","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWPActor.react").useActor();return j(function(c,g){d("getMWOtherUserFBID").getMWOtherUserFBID(e,f,a,b).then(function(e){d("MWFalcoFeatureEventLogger").logEvent(c,g,e,a,b)})["catch"](function(){})},[e,f,a,b])}g["default"]=a}),98);
__d("useMWInboxOpenChangeThemeDialog",["JSResourceForInteraction","MWEditThemeDialogRoot.entrypoint","MWEditThemeQplLogger","MWPBumpEntityKey","gkx","promiseDone","react","useAsyncReStore","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPThreadTheme","useMWXEntryPointDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a,b){var e=c("useMWFalcoFeatureEventLogger")(a,b),f=c("useMWEntrypoint")(),g=c("useAsyncReStore")();b=c("useMWPThreadTheme")();var h=b.setPreviewId;b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWEditThemeDialog.react").__setRef("useMWInboxOpenChangeThemeDialog"));var j=b[0];b=c("useMWXEntryPointDialog")(c("MWEditThemeDialogRoot.entrypoint"),{});var k=b[0];return i(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","customise_section_change_theme"),e(f,"change_thread_theme"),c("promiseDone")(g,function(b){c("promiseDone")(b.tables.threads.get(a),function(a){if(a==null)return;if(c("gkx")("11175")){var b=d("MWEditThemeQplLogger").startEventAndReturnInstanceKey("MWInboxInfoEditTheme","v2");k({instanceKey:b,thread:a},function(){return h(function(){return void 0})})}else{b=d("MWEditThemeQplLogger").startEventAndReturnInstanceKey("MWInboxInfoEditTheme","v1");j({instanceKey:b,thread:a},function(){return h(function(){return void 0})})}})})},[g,f,e,h,j,k,a])}g["default"]=a}),98);
__d("MWV2AdminMsgChangeTheme.react",["FBLogger","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWInboxOpenChangeThemeDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":27");b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(e.threadKey)},[g,e],f.id+":37"))==null?void 0:b.threadType;if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("threadType should not be null when trying to open the change theme dialog at MWV2AdminMsgChangeTheme");var j=c("useMWInboxOpenChangeThemeDialog")(e.threadKey,b);if(a==null||b==null||!c("justknobx")._("3921"))return k.jsx(c("MWAdminTextLayout.react"),{message:e});if(a==null||b==null)return k.jsx(c("MWAdminTextLayout.react"),{message:e});b=a==null?void 0:a.title;a=b!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:b}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useAdminMessageCTATitleLS",["ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId)},[a,b],f.id+":26");return c==null?void 0:c.title}g["default"]=a}),98);
__d("useMAWSeparateReadsSelector",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){return d?b:c}function b(a,b,c,d,e){e===void 0;return d?b:c}f.useMAWSeparateReadsSelector=a;f.mawSeparateReadsMapSelector=b}),66);
__d("useAdminMessageCTATitleProvider",["qex","useAdminMessageCTATitleLS","useMAWSeparateReadsSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){e=e&&((e=c("qex")._("62"))!=null?e:!1);a=c("useAdminMessageCTATitleLS")(a,b);b=d("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Title",b.adminMsgCtaTitle,e?void 0:a,e);return b}g["default"]=a}),98);
__d("MWV2AdminMsgChangeThreadLimitSharingPermission.react",["MWAdminTextLayout.react","MWXLink.react","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k="https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl";function a(a){a=a.message;var b=(h||(h=c("useReStore")))(),d=c("useIsSecureMessage")(b,a,{fallbackIsSecure:!0});b=c("useAdminMessageCTATitleProvider")(b,a,d);d=j.jsx("div",babelHelpers["extends"]({className:"xxq4lyh x1rg5ohu xk50ysn"},{children:j.jsx(c("MWXLink.react"),{href:k,children:b})}));return j.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(c("MWXLink.react"),{href:d("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:h._(/*BTDS*/"Learn More")}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWFBLogger","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","XPolarisDirectInboxControllerRouteBuilder","react","react-strict-dom","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react"),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function a(a){var b=a.message,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table).getKeyRange(b.threadKey).map(function(a){return(j||(j=d("I64"))).to_string(a.jid)})},[e,b.threadKey],f.id+":42");var g;a!=null?c("CurrentEnvironment").instagramdotcom?g=c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):g=d("MWInboxRouteBuilder").buildURL({thread_key:a}):(d("MWFBLogger").MWLogger.tags(["Cutover"]).WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""])),(j||(j=d("I64"))).to_string(b.threadKey)),g=d("MWInboxRouteBuilder").buildHomeURL());a=c("useIsSecureMessage")(e,b,{fallbackIsSecure:!0});a=c("useAdminMessageCTATitleProvider")(e,b,a);g=a!=null?l.jsx(d("react-strict-dom").html.div,{style:m.adminTextCta,children:l.jsx(c("MWXLink.react"),{href:g,target:"_self",children:a})}):null;return l.jsx(c("MWAdminTextLayout.react"),{cta:g,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSLockSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 00.25-.25V12a5.5 5.5 0 1111 0v3.25c0 .138.112.25.25.25h.75a2 2 0 012 2v9a2 2 0 01-2 2h-13a2 2 0 01-2-2v-9a2 2 0 012-2h.75zm3 0h5.5a.25.25 0 00.25-.25V12a3 3 0 10-6 0v3.25c0 .138.112.25.25.25z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","XInstagramHelpDotComContentControllerRouteBuilder","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),m=h._(/*BTDS*/"Learn more");function a(a){var b;a=a.message;var d=(i||(i=c("useReStore")))();b=(b=c("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null||(b=b.setProtocol("https"))==null?void 0:b.toString();var e={},f=c("useMWXLazyDialog")(l),g=f[0];f=function(){return g(e)};var h=c("useIsSecureMessage")(d,a,{fallbackIsSecure:!0});d=c("useAdminMessageCTATitleProvider")(d,a,h);h=d!=null?c("CurrentEnvironment").instagramdotcom?k.jsx(c("MWXLink.react"),{href:b,target:"_blank",children:m}):k.jsx("div",babelHelpers["extends"]({className:"xz94kzr x1rg5ohu xk50ysn"},{children:k.jsx(c("MWXLink.react"),{onClick:f,target:"_blank",children:d})})):null;return k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({className:"x1o583il x1rg5ohu xz03a8w x1n2onr6"},{children:k.jsx(c("MDSLockSvgIcon.react"),{color:"tertiary",size:16})})),k.jsx(c("MWAdminTextLayout.react"),{cta:h,message:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2AdminMsgE2EEUKOSA.react",["MWAdminTextLayout.react","MWXLink.react","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k="https://www.messenger.com/help/1145318292241859/?helpref=uk_lm";function a(a){a=a.message;var b=(h||(h=c("useReStore")))(),d=c("useIsSecureMessage")(b,a,{fallbackIsSecure:!0});b=c("useAdminMessageCTATitleProvider")(b,a,d);d=j.jsx("div",babelHelpers["extends"]({className:"xxq4lyh x1rg5ohu xk50ysn"},{children:j.jsx(c("MWXLink.react"),{href:k,children:b})}));return j.jsx(c("MWAdminTextLayout.react"),{cta:d,message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="https://www.facebook.com/help/147596532316790";function a(a){a=a.message;return j.jsx(c("MWAdminTextLayout.react"),{cta:j.jsx(d("react-strict-dom").html.div,{children:j.jsx(c("MWXLink.react"),{color_DEPRECATED:"blueLink",href:k,target:"_blank",children:h._(/*BTDS*/"Learn More")})}),message:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMarketingMessagesManageLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("MWMarketingMessagesManageDialog.react").__setRef("MWMarketingMessagesManageLazyDialogTrigger.react");function a(a){var b=a.pageId,d=a.renderer;a=a.threadKey;var e={pageId:b,threadKey:a};b=c("useMWXLazyDialog")(h);var f=b[0];a=function(){return f(e,c("emptyFunction"))};return d(a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMarketingMessagesManageAdminMsgCta.react",["CometTextWithEntities.react","MWMarketingMessagesManageLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=a.pageId,d=a.threadKey,e=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:e})})};return i.jsx(c("MWMarketingMessagesManageLazyDialogTrigger.react"),{pageId:b,renderer:a,threadKey:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgMarketingMessagesManage.react",["I64","MWAdminTextLayout.react","MWMarketingMessagesManageAdminMsgCta.react","ReQL","ReQLSuspense","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useIsSecureMessage")(e,b,{fallbackIsSecure:!0});a=c("useAdminMessageCTATitleProvider")(e,b,a);var g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":41");g=g==null?void 0:g.targetId;g=a!=null&&g!=null?k.jsx("div",babelHelpers["extends"]({className:"x1y872pf x1rg5ohu x1s688f"},{children:k.jsx(c("MWMarketingMessagesManageAdminMsgCta.react"),{pageId:g,threadKey:b.threadKey,title:a})})):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:g,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");var i=c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f={isOptOut:b,targetId:e,threadKey:a};b=c("useMWXLazyDialog")(i);var g=b[0];e=function(){return g(f,c("emptyFunction"))};return d(e)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isOptOut,d=a.targetId,e=a.threadKey,f=a.title;a=function(a){return i.jsx(c("MWXPressable.react"),{onPress:function(){return a()},children:i.jsx(c("CometTextWithEntities.react"),{text:f})})};return i.jsx(c("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:b,renderer:a,targetId:d,threadKey:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.isOptOut,e=a.message,g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(e.threadKey,e.messageId,(a=e.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,e],f.id+":37");var j=e.adminMsgCtaTitle,l=a==null?void 0:a.targetId;a=j!=null&&a!=null&&l!=null?k.jsx("div",babelHelpers["extends"]({className:"x1y872pf x1rg5ohu x1s688f"},{children:k.jsx(c("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:b,targetId:l,threadKey:e.threadKey,title:j})})):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3008");b=d("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e=b;g["default"]=e}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":31");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(i||(i=d("I64"))).to_string(b.threadKey)}})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useCallback,m=c("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function n(a){var b=a.senderId,e=a.threadKey;a=a.title;var f=c("useMWXLazyDialog")(m),g=f[0];f=l(function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(j||(j=d("I64"))).to_string(e)}),g({senderId:b,threadKey:e})},[g,b,e]);return k.jsx(c("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:f,role:"button",children:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(j||(j=d("I64"))).neg_one)},[e,b],f.id+":63");var g=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;var i=null;if(a!=null){a=new URL(a);i=a.searchParams.get("removed_msg_sender_id")}a=i!=null&&g!=null?k.jsx(n,{senderId:i,threadKey:b.threadKey,title:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":32");var g=c("useMWXLazyDialog")(l),j=g[0];g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXLink.react"),{onClick:function(){return j({entryPoint:"ADMIN_TEXT",threadKey:b.threadKey},function(){})},children:g}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","react","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(k);var g=a[0],i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(b.threadKey)},[e,b.threadKey],f.id+":36"),l=c("MessengerWebUXLogger").useInteractionLogger();a=function(){var a={eventName:"open_view_pinned_messages_dialog",threadKey:b.threadKey,threadType:i==null?void 0:i.threadType};l==null||l(a);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return g({threadKey:b.threadKey},function(){})};var m=c("useIsSecureMessage")(e,b,{fallbackIsSecure:i!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(i==null?void 0:i.threadType)});m=c("useAdminMessageCTATitleProvider")(e,b,m);a=m!=null?j.jsx(c("MWAdminMsgCtaLink.react"),{onClick:a,children:m}):null;return j.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgSupportDialogCTA.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","ReQLSuspense","promiseDone","react","useJSON","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":29");var g=d("AdsMessengerContext.react").useAdsMessengerContext(),j=g.showAdsAISMAGModal;g=a==null?void 0:a.actionContentBlob;var l=c("useJSON")(g!=null?g:"{}");if(j===void 0)return null;g=a==null?void 0:a.title;a=g!=null?k.jsx(c("MWXText.react"),{color:"blueLink",type:"meta4",children:k.jsx(c("MWXLink.react"),{onClick:function(){return c("promiseDone")(j({overlay_view_type:l.overlay_view_type,use_case:l.use_case,use_case_params:l.use_case_params}))},children:g})}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWUpdateSecureThreadAttributionForContact",["I64","LSContactListConversionAttributionStore","LSThreadAttributionStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){j(a,b),i(a,b)}function i(a,b){a=d("LSContactListConversionAttributionStore").getAttribution((h||(h=d("I64"))).to_string(a));a!=null&&d("LSContactListConversionAttributionStore").setAttribution((h||(h=d("I64"))).to_string(b),a)}function j(a,b){a=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(h||(h=d("I64"))).to_string(a));if(a.value==="unknown")return;a.type==="LSThreadAttribution"?d("LSThreadAttributionStore").setLSMessagingThreadAttribution((h||(h=d("I64"))).to_string(b),h.to_string(a.value)):d("LSThreadAttributionStore").setSource((h||(h=d("I64"))).to_string(b),a.value)}g.maybeUpdateSecureThreadAttributionForContact=a;g.maybeUpdateLSContactListConversionAttributionStoreSecureThreadAttributionForContact=i;g.maybeUpdateLSThreadAttributionStoreSecureThreadAttributionForContact=j}),98);
__d("MWChatStateV2IsClosed",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.closeWatermark>Math.max(a.openWatermark,a.minimizeWatermark,a.clientForcedMinimizeWatermark)}f.isClosed=a}),66);
__d("MWChatStateV2IsOpen",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a===void 0&&(a=void 0);return b.openWatermark>Math.max.apply(Math,[b.closeWatermark,b.minimizeWatermark,b.clientForcedMinimizeWatermark].concat(typeof a==="number"?a:[]))}f.isOpen=a}),66);
__d("MWChatStateV2IsMinimized",["MWChatStateV2IsClosed","MWChatStateV2IsOpen"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a!=null)if(d("MWChatStateV2IsOpen").isOpen(a,b))return!1;else return!d("MWChatStateV2IsClosed").isClosed(b);else return Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark)>Math.max(b.openWatermark,b.closeWatermark)}g.isMinimized=a}),98);
__d("MWChatStateV2Types",[],(function(a,b,c,d,e,f){"use strict";a="UpsertTab";b="UpdateState";c="UpdateTab";d="UpdateTabByThreadKey";e={UpdateState:b,UpdateTab:c,UpdateTabByThreadKey:d,UpsertTab:a};b="ChatTab";c="ComposeTab";d={ChatTab:b,ComposeTab:c};a=new Map();b={focusedTabId:void 0,mediaViewerOpenWatermark:-1,nextTabId:0,tabs:a};f.MWChatStateActionsType=e;f.MWChatStateTabType=d;f.emptyMWChatState=b}),66);
__d("MWChatStateActions",["MWChatStateV2.react","MWChatStateV2IsClosed","MWChatStateV2IsMinimized","MWChatStateV2Types","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[{state:function(b){var c=b.tabs.get(a);return c!=null&&b.focusedTabId!==a?babelHelpers["extends"]({},b,{focusedTabId:a}):b},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function b(a){return[{state:function(b){var c=d("MWChatStateV2.react").getTabIdFromThreadKey(b,a);if(c==null)return b;var e=b.tabs.get(c);return e!=null&&b.focusedTabId!==c?babelHelpers["extends"]({},b,{focusedTabId:c}):b},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function e(){return[{state:function(a){var b=a.focusedTabId;return b!=null?babelHelpers["extends"]({},a,{focusedTabId:void 0}):a},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}function f(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.closeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:a,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}}}]}function h(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.closeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:a,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}}}]}function i(a,b,c,e){var f=function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabRootEntryPointRef:e,tabType:c}};return[{inserter:f,tabConfig:b,tabType:c,type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:f}]}function j(a,b){if(c("qex")._("1083")===!0)return[{state:function(c){return babelHelpers["extends"]({},c,{expandedTabId:b?a:void 0})},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}];return c("qex")._("4793")===!0?[{state:function(a){return babelHelpers["extends"]({},a,{isTabExpanded:b})},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]:[{tabConfig:{shouldFocus:!0},tabId:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,isExpanded:b,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}}}]}function k(a,b){return[{tabConfig:{shouldFocus:!0},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}}}]}function l(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.minimizeWatermark||d("MWChatStateV2IsClosed").isClosed(b)?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}}}]}function m(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.minimizeWatermark||d("MWChatStateV2IsClosed").isClosed(b)?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}}}]}function n(a,b){return[{tabConfig:{shouldFocus:!1},tabId:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(b){return a<=b.clientForcedMinimizeWatermark?b:{clientForcedMinimizeWatermark:a,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}}}]}function o(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a<=b.minimizeWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:a,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}}}]}function p(a,b){return[{tabConfig:{shouldClearOldHiddenTab:!1,shouldFocus:!0},tabId:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){return babelHelpers["extends"]({},a,{tabType:{threadKeyDescriptor:b,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function q(a,b,c,e,f){f===void 0&&(f={shouldClearOldHiddenTab:!1});return[{tabConfig:{shouldClearOldHiddenTab:f.shouldClearOldHiddenTab,shouldFocus:!1},tabId:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:function(a){var f=a.tabType;return f.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab?a:babelHelpers["extends"]({},a,{tabType:{threadKeyDescriptor:{clientThreadKey:c,threadKey:b,threadType:e!=null?e:f.threadKeyDescriptor.threadType},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}})}}]}function r(a,b,c,e){var f=function(b){if(d("MWChatStateV2IsClosed").isClosed(b))return{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:c};return d("MWChatStateV2IsMinimized").isMinimized(void 0,b)?{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:a,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:c}:b},g=function(b){return a<=b.openWatermark?b:{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:b.openFlyoutWatermark,openWatermark:a,tabId:b.tabId,tabRootEntryPointRef:e,tabType:c}};return[{inserter:g,tabConfig:b,tabType:c,type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:f}]}function s(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:b,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(b){return a===b.openFlyoutWatermark?{clientForcedMinimizeWatermark:b.clientForcedMinimizeWatermark,closeWatermark:b.closeWatermark,isExpanded:b.isExpanded,minimizeWatermark:b.minimizeWatermark,openFlyoutWatermark:0,openWatermark:b.openWatermark,tabId:b.tabId,tabRootEntryPointRef:b.tabRootEntryPointRef,tabType:b.tabType}:b}}]}function t(a){return[{state:function(b){return babelHelpers["extends"]({},b,{mediaViewerOpenWatermark:a})},type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateState}]}g.focusTab=a;g.focusTabByThreadKey=b;g.blurTab=e;g.closeTab=f;g.closeTabByThreadKey=h;g.openTab=i;g.resizeTab=j;g.maximizeTab=k;g.minimizeTab=l;g.minimizeTabByThreadKey=m;g.forceMinimizeTab=n;g.notificationBringHeadToTop=o;g.lockInTab=p;g.updateThreadKeyDescriptor=q;g.openTabOrFlyout=r;g.closeFlyout=s;g.updateMediaViewerOpenWatermark=t}),98);
__d("MWChatStateContext",["MWChatStateV2Types","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");c=b.createContext;var i=b.useContext,j=c(d("MWChatStateV2Types").emptyMWChatState);e=j.Provider;function a(a){var b=i(j);return a(b)}g.stateContext=j;g.ChatStateContextProvider=e;g.useChatState=a}),98);
__d("MWChatStateV2Logging",["MessengerWebEventsFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=j(a);i(function(){var a=Array.from(b.current.tabs.values()),d=function(a){return a.openWatermark>Math.max(a.closeWatermark,a.minimizeWatermark,a.clientForcedMinimizeWatermark)},e=a.filter(d);e.length>0&&c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"load_tab_from_cookie",extra_data:{tabNumber:String(e.length)}}})},[b])}g.useCookieLiftLogging=a}),98);
__d("MWThreadListNewMessageState.react",["FBLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useReducer;d={Reset:0,ResetIfEmpty:1};var m={SetIsActive:2},n={SetEntries:3},o=babelHelpers["extends"]({},d,m,n),p={entries:[],initialOpenChatSearchTypeahead:void 0,isActive:!1},q=j(p),r=j();function s(a,b){switch(b.type){case o.Reset:return p;case o.ResetIfEmpty:return a.entries.length===0?p:a;case o.SetIsActive:return babelHelpers["extends"]({},a,{isActive:b.isActive});case o.SetEntries:return babelHelpers["extends"]({},a,{entries:b.entries,initialOpenChatSearchTypeahead:b.initialOpenChatSearchTypeahead});default:return a}}function a(a){var b=a.children;a=a.defaultState;a=a===void 0?p:a;a=l(s,a);var c=a[0];a=a[1];var d=q.Provider,e=r.Provider;return i.jsx(d,{value:c,children:i.jsx(e,{value:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=k(r);if(a==null)throw c("FBLogger")("messenger_web").mustfixThrow("Tried to get the dispatch function for MWThreadListNewMessageState but none was found. Missing provider (MWThreadListNewMessageState)");return a}function e(){var a=k(r);if(a==null)return;return a}g.MWThreadListNewMessageStateActionType=o;g.context=q;g.MWThreadListNewMessageStateProvider=a;g.useDispatch=b;g.useDispatchIfStateExists=e}),98);
__d("MAWSecureThreadQPContainerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24407836128822485"}),null);
__d("MAWSecureThreadQPContainerQuery$Parameters",["MAWSecureThreadQPContainerQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatTabInThreadBannerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23957031927290153"}),null);
__d("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider",["gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(){var a;a=(a=c("qex")._("4306"))!=null?a:!1;var b=c("gkx")("14092");return a&&!b}};g["default"]=a}),98);
__d("MWChatTabInThreadBannerQuery$Parameters",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}};e.exports=a}),null);
__d("MWV2ChatTabRoot.entrypoint",["JSResourceForInteraction","MAWSecureThreadQPContainerQuery$Parameters","MWChatTabInThreadBannerQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a={mawSecureThreadQPContainerQueryRef:{parameters:c("MAWSecureThreadQPContainerQuery$Parameters"),variables:{}},mwChatTabInThreadBannerQueryRef:{parameters:c("MWChatTabInThreadBannerQuery$Parameters"),variables:{}}};return{queries:a}},root:c("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("MWV2ChatTabRoot.entrypoint")};b=a;g["default"]=b}),98);
__d("loadChatTabEntryPoint",["ExecutionEnvironment","MWV2ChatTabRoot.entrypoint","RelayHooks","qex"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=c("qex")._("4754");if(b!==!0||!(h||(h=c("ExecutionEnvironment"))).isInBrowser)return null;b=d("RelayHooks").loadEntryPoint(a,c("MWV2ChatTabRoot.entrypoint"),{});return b}g["default"]=a}),98);
__d("MWV2CookieReader",["CometRelayEnvironmentFactory","I64","LSIntEnum","MWChatStateV2Types","createCometRelayBaseEntryPointEnvironmentProvider","loadChatTabEntryPoint","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={cbj:(h||(h=d("LSIntEnum"))).ofNumber(23),cbu:h.ofNumber(24),cg:h.ofNumber(18),cgu:h.ofNumber(19),cphj:h.ofNumber(21),cphu:h.ofNumber(22),dp:h.ofNumber(150),dp2:h.ofNumber(154),dp2u:h.ofNumber(155),dpb:h.ofNumber(152),dpbu:h.ofNumber(153),dpu:h.ofNumber(151),g:h.ofNumber(2),sc:h.ofNumber(15),sg:h.ofNumber(16)};function k(a){if(a==null)return;a=a.split(".");if(a.length!==2)return;var b=a[0];a=a[1];if(/^-?[1-9]\d*$/.test(a)===!1||b==null)return;b=(b=j[b])!=null?b:(h||(h=d("LSIntEnum"))).ofNumber(1);return[(i||(i=d("I64"))).of_string(a),b]}function l(a){var b=a.map(function(a){a=a[0];return(i||(i=d("I64"))).to_string(a)});b=new Set(b);if(b.size!==a.length){c("recoverableViolation")("Duplicate thread in cookie (t3)","messenger_comet");return a.filter(function(a,b,c){var e=a[0];return!c.slice(b+1).some(function(a){a=a[0];return(i||(i=d("I64"))).equal(a,e)})})}else return a}var m=new Map();function a(a,b){b===void 0&&(b=!1);if(a==null)return d("MWChatStateV2Types").emptyMWChatState;if(!m.has(a)||b===!0){b=n(a,b);m.set(a,b)}return(b=m.get(a))!=null?b:d("MWChatStateV2Types").emptyMWChatState}function n(a,b){b===void 0&&(b=!1);if(a==null)return d("MWChatStateV2Types").emptyMWChatState;if(!a.startsWith("C"))return d("MWChatStateV2Types").emptyMWChatState;try{a=JSON.parse(a.slice(1))}catch(b){c("recoverableViolation")("Error parsing JSON string","messenger_comet"),a=null}if(a===null)return d("MWChatStateV2Types").emptyMWChatState;var e=[],f=new Set();a.t3.forEach(function(a){var b=a.i;b=k(b);if(b!=null){e.push(b);a.o===1&&f.add(b);return}});var g=l(e),h=new Map(),j={contents:0},m=c("createCometRelayBaseEntryPointEnvironmentProvider")(d("CometRelayEnvironmentFactory").CometRelayEnvironmentFactory),n=null;g.forEach(function(e){var a=e[0];e=e[1];var g=f.has([a,e]);b===!0&&(n=c("loadChatTabEntryPoint")(m));h.set(j.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,isExpanded:!1,isPreloaded:!0,minimizeWatermark:g?0:1,openFlyoutWatermark:0,openWatermark:g?1:0,tabId:j.contents,tabRootEntryPointRef:n,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:a,threadType:e},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}});j.contents+=1});a=a.lm3;if(a!=null){a=k(a);if(a!=null){var o=a[0];a=a[1];g.some(function(a){a=a[0];return(i||(i=d("I64"))).equal(a,o)})||(b===!0&&(n=c("loadChatTabEntryPoint")(m)),h.set(j.contents,{clientForcedMinimizeWatermark:0,closeWatermark:0,isExpanded:!1,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:2,tabId:j.contents,tabRootEntryPointRef:n,tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:o,threadType:a},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}}));j.contents+=1}}return{focusedTabId:void 0,mediaViewerOpenWatermark:-1,nextTabId:j.contents,tabs:h}}g.read=a}),98);
__d("MWChatStateV2.react",["CometErrorBoundary.react","FBLogger","I64","MWChatInteraction","MWChatStateContext","MWChatStateV2IsClosed","MWChatStateV2IsOpen","MWChatStateV2Logging","MWChatStateV2Types","MWThreadListNewMessageState.react","MWV2CookieReader","MessengerWebPresenceCookieData","RecoverableViolationWithComponentStack.react","cr:101","cr:8421","emptyObject","err","qex","react","useMWChatStateV2CrossTabSync"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h,l=k.Fragment,m=k.createContext,n=k.useCallback,o=k.useContext,p=k.useReducer,q=k.useState;function r(a,b){return(a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab;else if(b.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return!1;return(i||(i=d("I64"))).equal(a.threadKeyDescriptor.threadKey,b.threadKeyDescriptor.threadKey)}))==null?void 0:a.tabId}function s(a,b){a=Array.from(a.tabs.values()).find(function(a){a=a.tabType;if(a.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return b==null;else if(b!=null)return(i||(i=d("I64"))).equal(a.threadKeyDescriptor.threadKey,b);else return!1});if(a!=null)return a.tabId}function t(a,b,c){if(c)if(d("MWChatStateV2IsOpen").isOpen(void 0,b))return b.tabId;else return;c=a.focusedTabId;if(c!=null&&c===b.tabId&&!d("MWChatStateV2IsOpen").isOpen(void 0,b))return;else return a.focusedTabId}function u(a,b){return b.reduce(function(a,b){var e=b;while(!0){var f=e;switch(f.type){case d("MWChatStateV2Types").MWChatStateActionsType.UpdateState:return f.state(a);case d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab:var g,h=f.tabId;if(h==null)return a;var j=a.tabs.get(h);if(j==null)return a;var k=f.updater(j);g=t(a,k,((g=b.tabConfig)==null?void 0:g.shouldFocus)||!1);if(k===j)return a;j=new Map(a.tabs);if(f.tabConfig.shouldClearOldHiddenTab===!0){f=r(a,k.tabType);if(f!=null&&f!==h){var l=j.get(f);l!=null&&d("MWChatStateV2IsClosed").isClosed(l)&&j["delete"](f)}}return A(a.expandedTabId,g,a.isTabExpanded,a.mediaViewerOpenWatermark,a.nextTabId,new Map(j).set(h,k));case d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey:l=s(a,b.threadKey);if(l==null||b.tabConfig==null||b.updater==null)return a;e={tabConfig:b.tabConfig,tabId:l,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:b.updater};continue;case d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab:f=b.inserter;g=b.tabConfig;j=b.tabType;if(j==null)throw c("err")("tabType for MWChatStateActionsType.UpsertTab should always exist");if(f==null)throw c("err")("inserter for MWChatStateActionsType.UpsertTab should always exist");h=j.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab?d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(j.threadKeyDescriptor.threadKey)):null;h==null||h.addMarkerPoint("MWChatStateUpdateOpenTab","AppTiming");k=r(a,j);if(k!=null&&g!=null&&b.updater!=null){h==null||h.addAnnotationBoolean("is_new_tab",!1);e={tabConfig:g,tabId:k,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTab,updater:b.updater};continue}l={clientForcedMinimizeWatermark:0,closeWatermark:0,isExpanded:!1,minimizeWatermark:0,openFlyoutWatermark:0,openWatermark:0,tabId:a.nextTabId,tabType:j};k=f(l);f=t(a,k,(j=g==null?void 0:g.shouldFocus)!=null?j:!1);h==null||h.addAnnotationBoolean("is_new_tab",!0);return A(a.expandedTabId,f,a.isTabExpanded,a.mediaViewerOpenWatermark,a.nextTabId+1,new Map(a.tabs).set(k.tabId,k))}}return a},a)}function v(){var a;a=(a=c("qex")._("965"))!=null?a:!1;return d("MWV2CookieReader").read(c("MessengerWebPresenceCookieData").cookie,a)}var w=m();function a(){var a=o(w);if(a!=null)return a;else return function(){c("FBLogger")("messenger_web").warn("Tried to open a chat tab on Comet under the new chat state system, MWChatStateV2. But no MWChatStateV2 was found in react context. Wrap your component in MWChatStateV2? You are likely also be part of Blue on Comet. If so do ping our oncall")}}function x(a){a!=null?c("FBLogger")("messenger_web").catching(a).warn("Error loading MWChatStateV2"):c("FBLogger")("messenger_web").warn("Error loading MWChatStateV2")}function y(a){a=a.children;var b=p(u,d("MWChatStateV2Types").emptyMWChatState,v),e=b[0],f=b[1];b=q(!1);var g=b[0],h=b[1];b=n(function(b,a){a===void 0&&(a=!0);a&&h(function(){return!0});return f(b)},[f,h]);d("MWChatStateV2Logging").useCookieLiftLogging(e);c("useMWChatStateV2CrossTabSync")(e,f,g,h);g=o(w);if(g!=null)return j.jsx(c("RecoverableViolationWithComponentStack.react"),{errorMessage:"You can't nest MWChatStateV2 in another MWChatStateV2.",projectName:"messenger_comet"});else return j.jsx(d("MWChatStateContext").ChatStateContextProvider,{value:e,children:j.jsx(w.Provider,{value:b,children:a})})}y.displayName=y.name+" [from "+f.id+"]";var z=(k=b("cr:8421"))!=null?k:l;function A(a,b,d,e,f,g){return babelHelpers["extends"]({},b!=null?{focusedTabId:b}:c("emptyObject"),{expandedTabId:a,isTabExpanded:d,mediaViewerOpenWatermark:e,nextTabId:f,tabs:g})}function e(a){a=a.children;a=a;a=j.jsx(y,{children:j.jsx(d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateProvider,{children:a})});return j.jsx(c("CometErrorBoundary.react"),{onError:x,children:j.jsx(z,{children:b("cr:101")!=null?j.jsx(b("cr:101").MAWStateContextProvider,{children:a}):a})})}e.displayName=e.name+" [from "+f.id+"]";Object.keys(d("MWChatStateContext")).forEach(function(a){if(a==="default"||a==="__esModule")return;g[a]=d("MWChatStateContext")[a]});g.getTabIdFromThreadKey=s;g.reducer=u;g.useDispatch=a;g.MWChatStateV2Provider=e}),98);
__d("useMWChatStateV2CrossTabSync",["I64","MWChatStateActions","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","MWChatStateV2Types","MWPActor.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useMemo;function l(a,b){a==null||a.postMessage(b)}function m(a,b){if(a==null)return function(){};var c=function(a){return b(a.data)};a.addEventListener("message",c);return function(){a.removeEventListener("message",c)}}function n(a){return k(function(){return self.BroadcastChannel?new self.BroadcastChannel(a):null},[a])}function o(a){a=Array.from(a.tabs.values());var b=[];a.forEach(function(a){var c=a.tabType;if(c.type===d("MWChatStateV2Types").MWChatStateTabType.ComposeTab)return;c=c.threadKeyDescriptor;var e=c.threadKey;c=c.threadType;b.push({closeWatermark:a.closeWatermark,openWatermark:a.openWatermark,threadKey:(i||(i=d("I64"))).to_string(e),threadType:i.to_string(c)})});return b}function p(a,b,c){return[{inserter:function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,isExpanded:a.isExpanded,minimizeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabRootEntryPointRef:a.tabRootEntryPointRef,tabType:a.tabType}},tabConfig:{shouldFocus:!1},tabType:{threadKeyDescriptor:{clientThreadKey:void 0,threadKey:a,threadType:b},type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab},type:d("MWChatStateV2Types").MWChatStateActionsType.UpsertTab,updater:function(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)?a:{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:a.closeWatermark,isExpanded:a.isExpanded,minimizeWatermark:c,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabRootEntryPointRef:a.tabRootEntryPointRef,tabType:a.tabType}}}]}function q(a,b){return[{tabConfig:{shouldFocus:!1},threadKey:a,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(a){if(d("MWChatStateV2IsMinimized").isMinimized(void 0,a))return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:b,isExpanded:a.isExpanded,minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabRootEntryPointRef:a.tabRootEntryPointRef,tabType:a.tabType};else return a}}]}function a(a,b,e,f){var g=d("MWPActor.react").useActor(),h="MWChatStateV2_"+(i||(i=d("I64"))).to_string(g),k=n(h);h="MWChatStateV2_action_"+i.to_string(g);var r=n(h);j(function(){if(e){f(function(){return!1});var b=o(a);l(k,b)}},[a,k,e,f]);j(function(){return m(k,function(a){try{a.forEach(function(a){var c=(i||(i=d("I64"))).of_string(a.threadKey),e=i.of_string(a.threadType),f=a.closeWatermark;a=a.openWatermark;if(a>f)return b(p(c,e,a));else return b(q(c,f))});return}catch(a){c("recoverableViolation")("Cross-tab sync error","messenger_comet")}})},[k,b]);j(function(){return m(r,function(a){switch(a.type){case"close":return b(d("MWChatStateActions").closeTabByThreadKey(Date.now(),(i||(i=d("I64"))).of_string(a.threadKey)));default:return}})},[r,b])}g["default"]=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("XCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/restricted/t/{thread_key}/",Object.freeze({}),["/messages/restricted/","/messages/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/restricted/t/{thread_key}/",Object.freeze({}),["/restricted/","/e2ee/restricted/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxRestrictedAccountsRouteBuilder",["CurrentEnvironment","XCometRestrictedAccountsControllerRouteBuilder","XMessengerDotComCometRestrictedAccountsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/messages/restricted/",{})}}:{buildE2EEThreadURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/e2ee/restricted/t/{thread_key}/",{focus_target:b,thread_key:a})},buildURL:function(a){var b=a.focus_target;a=a.thread_key;return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildURL({focus_target:b,thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometRestrictedAccountsControllerRouteBuilder").buildExtraURL("/restricted/",{})}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("MWInboxTrayGating",["CurrentMessengerUser","qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=!0);if(i())return!1;if(!a){return(a=c("qex")._("3677"))!=null?a:!1}else{return(a=c("qex")._("3676"))!=null?a:!1}}function b(){var a;return(a=c("qex")._("4276"))!=null?a:!1}function e(){var a;return(a=c("qex")._("3678"))!=null?a:30}function f(){var a;return(a=c("qex")._("3860"))!=null?a:!1}function h(){var a;return(a=c("qex")._("4220"))!=null?a:!1}function i(){return d("CurrentMessengerUser").getPageMessagingMailboxId()!=="0"}g.isInboxTrayEnabled=a;g.isInboxTrayLiveQueryEnabled=b;g.getNumberOfContactsToFetch=e;g.isInboxTrayIncludedInVisualComplete=f;g.isInboxTrayNotesEnabled=h}),98);
__d("MWNavigationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h.createContext;var j=b();function a(a){var b=a.children;a=a.value;var c=j.Provider;return i.jsx(c,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";c=a;g.context=j;g.Provider=c}),98);
__d("MessengerWebEntryPointsUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="pagesLikeInviteThem")return"pages_like_invite_item";else if(a==="pagesPrivateReply")return"pages_private_reply";else if(a==="inboxActiveContacts"||a==="inboxArchived"||a==="inboxSpam"||a==="inboxFolder"||a==="inboxThreadList"||a==="inboxRecentThreads"||a==="inboxRemainingThreads"||a==="pendingRequests"||a==="inboxRestricted"||a==="archieve"||a==="inboxInThread"||a==="inboxPendingRequests")return"inbox";else if(a==="jobs")return"jobs";else if(a==="storySeenByList"||a==="friendsTab")return"story_seen_by_list";else if(a==="chatParticipants")return"add_participants";else if(a==="compat")return"compat";else if(a==="cookie")return"cookie";else if(a==="pagesAdminInviteItem")return"pages_admin_invite_item";else if(a==="groupWelcomePost")return"group_welcome_post";else if(a==="sidebarContactsList"||a==="sidebarGroupsList")return"sidebar";else if(a==="sidebarSearch")return"sidebar_contacts_search";else if(a==="sidebarCommunityChatsList")return"sidebar_community_chats";else if(a==="jewelNestedFolder"||a==="jewel")return"jewel";else if(a==="shop")return"shop";else if(a==="chatheadsOverflow")return"chat_heads_overflow";else if(a==="feedDynamicHoverCard")return"pages_hovercard";else if(a==="messengerUniversalSearch")return"search_result_page";else if(a==="mentorship")return"mentorship";else if(a==="reactorList")return"reactor_list";else if(a==="feedPoll")return"feed_poll";else if(a==="timeline"||a==="feedOrganicPost")return"timeline";else if(a==="pageResponsivenessCard"||a==="pageAboutCard")return"pages_about";else if(a==="inboxSearch"||a==="search")return"search";else if(a==="storyAggregatedUsers")return"story_aggregated_users";else if(a==="fundraiserMoreMenu")return"fundraiser_support:reactive_more_menu";else if(a==="fundraiserFaq")return"fundraiser_support:reactive_faq";else if(a==="notificationInThreadReply")return"message_received";else if(a==="roomsNullState")return"rooms_null_state";else if(a==="storyViewerSheetRow")return"stories_viewed_by_list";else if(a==="feedOrganicPostNewsfeedPagePostCta")return"pages_cta";else if(a==="chatheadsNewMessage")return"new_msg_button";else if(a==="groupExperts"||a==="groupCommunityFriendsDialog")return"group_experts_discovery_invite";else if(a==="hovercard")return"hovercard";else if(a==="crisisListingAttachment")return"crisis_listing_attachment";else if(a==="mentalHealth")return"mental_health";else if(a==="event")return"events_permalink";else if(a==="jewelSearch")return"jewel_search";else if(a==="pagePopupChat")return"pages_popup_chat";else if(a==="communityHelp")return"community_help";else if(a==="jewelNewMessage")return"jewel_new_message";else if(a==="fundraiser")return"fundraiser";else if(a==="memories")return"memories_home";else if(a==="fundraiserSupportersList")return"fundraiser_supporters_list";else if(a==="groupRemovePost")return"group_remove_post_tombstone";else if(a==="pagesHeader")return"pages_header";else if(a==="groupMembers")return"group_members_tab";else if(a==="chatheads")return"chat_heads";else if(a==="birthday")return"birthdays";else if(a==="localBusinessesNearby")return"local_businesses_nearby";else if(a==="marketplace"||a==="inboxMarketplace")return"marketplace";else if(a==="mutualFriendsDialog")return"mutual_friends_dialog";else if(a==="feedOrganicPostViewAndMessage")return"feed_story_cta";else if(a==="profileServicesMenu")return"profile_services_menu";else if(a==="adsCta")return"reshares_dialog";else if(a==="offer")return"offer";else if(a==="payments")return"p2p_payments";else if(a==="groupQuality")return"group_quality";else if(a==="pagesHomeFriendsDialog")return"pages_home_friends_dialog";else if(a==="communityFriendsDialog")return"pages_community_friends_dialog";else if(a==="groupChats")return"group_chats";else if(a==="groupTab")return"group_tab";else if(a==="gratitude")return"gratitude";else if(a==="inboxTrayActiveNow")return"inbox_tray";else if(a==="noteReplyMsg")return"note_reply_msg";else return"unknown"}function b(a){switch(a){case"groupTab":case"inboxThreadList":case"jewel":return!0;default:return!1}}f.cast=a;f.getEntryPointShouldOverrideThreadSnippetRemoval=b}),66);
__d("XCometGroupDiscussionControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groups/{idorvanity}/{?view}/{?post_id}/",Object.freeze({modal:!1,should_open_composer:!1,hoisted_section_header_type:"notifications",show_migration_preparation_dialog:!1,show_migration_onboarding_dialog:!1,show_review_some_onboarding:!1,show_share_event_to_group_composer:!1,show_admin_inactivity_dialog:!1,show_lightweight_onboarding_dialog:!1,should_open_welcome_member_composer:!1,community_chats_aa_upsell:!1,iv:!1}),void 0);b=a;g["default"]=b}),98);
__d("dispatchOpenChatTabTraceLogging",["FBLogger","I64","LSIntEnum","MWChatInteraction","isOfflineThreadingId"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,c){return((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(15))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(16)))&&c!=null&&(h||(h=d("I64"))).equal(a,c)}function a(a,b,e){if(a==null)return;var f=(h||(h=d("I64"))).to_string(b.threadKey);a.addMarkerPoint("dispatch_open_chat_tab","AppTiming");a.addAnnotation("dispatch_entrypoint",e);a.addAnnotation("thread_key_descriptor",f);c("isOfflineThreadingId")((h||(h=d("I64"))).of_string(f))&&!j(b.threadKey,b.threadType,b.clientThreadKey)&&a.addAnnotationBoolean("is_thread_key_descriptor_authoritative_otid",c("isOfflineThreadingId")((h||(h=d("I64"))).of_string(f)));d("MWChatInteraction").getInteractionTraceForThreadKey(f)==null&&(a.addAnnotationBoolean("is_trace_mapping_missing",!0),c("FBLogger")("messenger_cto_trace").warn("Trace mapping is missing"))}g["default"]=a}),98);
__d("getGroupThreadViewParams",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b==null?void 0:b.main.route.params;a=(a==null?void 0:a.entity_type)==="group"&&(a==null?void 0:a.section)==="CHATS";if(!a)return null;a=b==null?void 0:b.thread_id;b=b==null?void 0:b.idorvanity;if(a==null||b==null)return null;return typeof a==="string"&&typeof b==="string"?{groupId:b,threadKey:a}:null}f["default"]=a}),66);
__d("useCometFeedNoRoutingNavigationEventsLoggerImpl",["CometMetricsNavigationFalcoEvent","JSScheduler","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a,b,e){var f=j(function(d,f,g){if(b==null||b==="")return;var h=c("uuidv4")();c("CometMetricsNavigationFalcoEvent").logImmediately(function(){return{dest_module:g,event_trace_id:h,extra_fields:e,href:f,tn:a.join(""),ts:d.toString(),xt:b}})},[a,b,e]);return j(function(a,b,c){(i||(i=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return f(a,b,c)})},[f])}g["default"]=a}),98);
__d("useCometFeedNoRoutingNavigationEventLogger",["CometFeedLoggingExtraFieldsContext","CometTrackingCodeContext","CometTrackingNodesContext","react","useCometFeedNoRoutingNavigationEventsLoggerImpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(a){var b=i(c("CometTrackingNodesContext")),d=i(c("CometTrackingCodeContext"));d=d.encrypted_tracking[0];var e=i(c("CometFeedLoggingExtraFieldsContext"));return c("useCometFeedNoRoutingNavigationEventsLoggerImpl")(a!=null?a:b,d,e)}g["default"]=a}),98);
__d("LSIssueCommunityThreadBlockedContactsFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"get_blocked_contacts_in_community_thread",c.i64.cast([0,499]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssueCommunityThreadBlockedContactsFetchStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure",["LSIssueCommunityThreadBlockedContactsFetch","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueCommunityThreadBlockedContactsFetch"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MWGetBlockedUsersInThreadQuery",["I64","LSContactBlockedByViewerStatus","LSIntEnum","MWCMThreadTypes.react","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=d("MWCMThreadTypes.react").isBroadcastThread(e);e=(e=d("ReQL")).union(e.mergeJoin(e.fromTableAscending(a.tables.participants).getKeyRange(b),e.fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((h||(h=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED))),d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange(h.ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)))).filter(function(a){var b=a[0];a=a[1];if(f!=null&&!(i||(i=d("I64"))).equal(a.id,f))if(!g||b.isAdmin===!0)return!0;else return b.isModerator===!0;else return!1});return e}g.MWGetBlockedUsersInThreadQuery=a}),98);
__d("useBlockedUserInterstitial",["JSResourceForInteraction","LSFactory","LSIssueCommunityThreadBlockedContactsFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWGetBlockedUsersInThreadQuery","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","mwCMIsAnyCMThread","promiseDone","react","recoverableViolation","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef;function m(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){c("mwCMIsAnyCMThread")(e)&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSIssueCommunityThreadBlockedContactsFetchStoredProcedure")(c("LSFactory")(a),{threadKey:b})},"blocked_contacts_fetch"));var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));a=d("MWGetBlockedUsersInThreadQuery").MWGetBlockedUsersInThreadQuery(a,b,e,f).map(function(a){a[0];a=a[1];return a});return a});return n.apply(this,arguments)}function o(a,b,e){e=d("LSMessagingThreadTypeUtil").isGroup(e);var f=(h||(h=c("WebStorage"))).getLocalStorage();b=c("getWarningCardStorageKey")(b);f=f!=null?f.getItem(b):void 0;b=f!=null?f==="true":!1;f=!b&&a!=null&&a.length>0&&e;return f}function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBlockWarningCardDialog.react").__setRef("useBlockedUserInterstitial")),e=a[0],f=c("useAsyncReStore")(),g=l(function(){});k(function(){return function(){g.current()}},[]);return j(function(a){var i=a.onOptIn,j=a.onProceed,k=a.onShow,l=a.shouldSubscribe,n=l===void 0?!1:l,p=a.thread,q=a.threadKey;c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(p==null)return j();a=(yield m(a,q,p.threadType));var b=function(a){if(a==null)return j();var b=(h||(h=c("WebStorage"))).getLocalStorage(),d=c("getWarningCardStorageKey")(q),f=o(a,q,p.threadType);if(!f)return j();f=function(){var a=b!=null?(h||(h=c("WebStorage"))).setItemGuarded(b,d,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for BlockedUserInterstitial","messenger_web_wellbeing");i&&i();return j()};n&&g.current();k&&k();return e({blockees:a||[],onOptIn:f,thread:p},function(){})};n&&(g.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b([c.value])}));c("promiseDone")(d("ReQL").toArrayAsync(a),b)});return function(b){return a.apply(this,arguments)}}())},[f,e])}g.getBlockedUserQuery=m;g.shouldShowBlockedUserInterstitial=o;g.useBlockedUserInterstitial=a}),98);
__d("getGroupBlockQuery",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.thread_limits).getKeyRange(b),d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)).map(function(a){var b=a[0];a=a[1];return{thread:a,threadLimit:b}});return a}g["default"]=a}),98);
__d("shouldApplyCSAMBlock",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("I64"))).to_int32(a.enforcements)){case 1:case 8192:case 4096:case 512:case 256:case 2048:case 1024:return!0}return!1}g["default"]=a}),98);
__d("useMaybeShowCSAMBlockAsync",["JSResourceForInteraction","ReQL","getGroupBlockQuery","promiseDone","react","shouldApplyCSAMBlock","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(){var a=c("useAsyncReStore")(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatCSAMBlockDialog.react").__setRef("useMaybeShowCSAMBlockAsync")),e=b[0],f=k(function(){});j(function(){return function(){f.current()}},[]);return i(function(b){var g=b.onProceed,h=b.onShow,i=b.shouldSubscribe,j=i===void 0?!1:i,k=b.threadKey;c("promiseDone")(a,function(a){a=c("getGroupBlockQuery")(a,k);var b=function(a){a=a||{};var b=a.thread;a=a.threadLimit;if(b==null||a==null)return g&&g();var d=c("shouldApplyCSAMBlock")(a);if(!d)return g&&g();j&&f.current();h&&h();return e({thread:b,threadLimit:a})};j&&(f.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b(c.value)}));c("promiseDone")(d("ReQL").firstAsync(a),b)})},[a,e])}g["default"]=a}),98);
__d("shouldApplyDOIBlock",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){if(a==null)return!1;switch((h||(h=d("I64"))).to_int32(a.enforcements)){case 524288:case 262144:case 32768:case 16384:case 131072:case 65536:return!0}return!1}g["default"]=a}),98);
__d("useMaybeShowDOIBlockAsync",["JSResourceForInteraction","ReQL","getGroupBlockQuery","gkx","promiseDone","react","shouldApplyDOIBlock","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef;function a(){var a=c("useAsyncReStore")(),b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatDOIBlockDialog.react").__setRef("useMaybeShowDOIBlockAsync")),e=b[0],f=k(function(){});j(function(){return function(){f.current()}},[]);return i(function(b){var g=b.onProceed,h=b.onShow,i=b.shouldSubscribe,j=i===void 0?!1:i,k=b.threadKey;c("promiseDone")(a,function(a){if(!c("gkx")("15871")){g&&g();return}a=c("getGroupBlockQuery")(a,k);var b=function(a){a=a||{};var b=a.thread;a=a.threadLimit;if(b==null||a==null)return g&&g();var d=c("shouldApplyDOIBlock")(a);if(!d)return g&&g();j&&f.current();h&&h();return e({thread:b,threadLimit:a})};j&&(f.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b(c.value)}));c("promiseDone")(d("ReQL").firstAsync(a),b)})},[a,e])}g["default"]=a}),98);
__d("LSOptimisticPseudoUnblock",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,0]):(b=a.item,d[0]=b.capabilities)})},function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,c.forEach(c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}),function(a){var b=a.update;a.item;return b({capabilities:c.i64.and_(d.capabilities==null?c.i64.cast([0,0]):d.capabilities,c.i64.cast([-1,4227858431]))})}))})},function(e){return d[2]=new c.Map(),d[2].set("blockee_id",a[0]),d[2].set("request_id",a[1]),d[2].set("capabilities",d[0]==null?c.i64.cast([0,0]):d[0]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"pseudo_unblock",c.i64.cast([0,194]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactOptimisticPseudoUnblockStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSOptimisticPseudoUnblockStoredProcedure",["LSOptimisticPseudoUnblock","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticPseudoUnblock"),e.blockeeId,e.requestId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("usePseudoBlockedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticPseudoUnblockStoredProcedure","ReQL","asyncToGeneratorRuntime","promiseDone","react","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=h||d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef;function m(a,b){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=(yield (c=d("ReQL")).firstAsync(c.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));b=c.mergeJoin(c.fromTableAscending(a.tables.participants,[]).getKeyRange(b),c.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return e!=null?!(i||(i=d("I64"))).equal(a.id,e):!0}).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(26,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a});return b});return n.apply(this,arguments)}function o(a,b){b=d("LSMessagingThreadTypeUtil").isOneToOne(b);a=a!=null&&b;return a}function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPseudoBlockWarningCardDialog.react").__setRef("usePseudoBlockedUserInterstitial")),e=a[0],g=c("useAsyncReStore")(),h=l(function(){});k(function(){return function(){h.current()}},[]);return j(function(a){var i=a.damagingActionsEntryPoint,j=a.onOptIn,k=a.onProceed,l=a.onShow,n=a.shouldSubscribe,p=n===void 0?!1:n,q=a.thread,r=a.threadKey;c("promiseDone")(g,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield m(a,r)),g=function(b){if(q==null||b==null)return k();var d=o(b,q.threadType);if(!d)return k();d=function(d){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticPseudoUnblockStoredProcedure")(c("LSFactory")(a),{blockeeId:b.id,requestId:d})},"readwrite",void 0,void 0,f.id+":118"),function(){k(),j&&j()},function(){k(),j&&j()});return};p&&h.current();l&&l();return e({contact:b,entryPoint:i,onOptIn:d,thread:q},function(){})};p&&(h.current=b.subscribe(function(a,b){if(b.operation==="delete")return;g(b.value)}));c("promiseDone")(d("ReQL").firstAsync(b),g)});return function(b){return a.apply(this,arguments)}}())},[g,e])}g.getPseudoBlockedQuery=m;g.shouldShowPseudoBlockedInterstitial=o;g.usePseudoBlockedUserInterstitial=a}),98);
__d("useRestrictedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSMessagingThreadTypeUtil","ReQL","WebStorage","asyncToGeneratorRuntime","getWarningCardStorageKey","promiseDone","react","recoverableViolation","useAsyncReStore","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=i||d("react");var k=e.useCallback,l=e.useEffect,m=e.useRef;function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var c,e=(yield (c=d("ReQL")).firstAsync(c.fromTableAscending(a.tables._user_info).map(function(a){return a.facebookUserId})));b=c.mergeJoin(c.fromTableAscending(a.tables.participants,[]).getKeyRange(b),c.fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return e!=null?!(j||(j=d("I64"))).equal(a.id,e):!0}).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a});return b});return o.apply(this,arguments)}function p(a,b,e){var f=(h||(h=c("WebStorage"))).getLocalStorage();b=c("getWarningCardStorageKey")(b);f=f!=null?f.getItem(b):void 0;b=f!=null?f==="true":!1;f=d("LSMessagingThreadTypeUtil").isGroup(e);e=!b&&a.length>0&&f;return e}function a(){var a=c("useAsyncReStore")(),e=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatRestrictedUserInterstitialDialog.react").__setRef("useRestrictedUserInterstitial")),f=e[0],g=m(function(){});l(function(){return function(){g.current()}},[]);return k(function(e){var i=e.onOptIn,j=e.onProceed,k=e.onShow,l=e.shouldSubscribe,m=l===void 0?!1:l,o=e.thread,q=e.threadKey;c("promiseDone")(a,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield n(a,q));var b=function(a){if(o==null||a==null)return j();var b=(h||(h=c("WebStorage"))).getLocalStorage(),d=c("getWarningCardStorageKey")(q),e=p(a,q,o.threadType);if(!e)return j();e=function(){var a=b!=null?(h||(h=c("WebStorage"))).setItemGuarded(b,d,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for RestrictedUserInterstitial","messenger_web_wellbeing");i&&i();return j()};m&&g.current();k&&k();return f({onOptIn:e,restrictedUsers:a,thread:o},function(){})};m&&(g.current=a.subscribe(function(a,c){if(c.operation==="delete")return;b([c.value])}));c("promiseDone")(d("ReQL").toArrayAsync(a),b)});return function(b){return a.apply(this,arguments)}}())},[a,f])}g.getRestrictedUserQuery=n;g.shouldShowRestrictednterstitial=p;g.useRestrictedUserInterstitial=a}),98);
__d("useIntegrityBlockInterstitial",["ReQL","promiseDone","react","useAsyncReStore","useBlockedUserInterstitial","useMaybeShowCSAMBlockAsync","useMaybeShowDOIBlockAsync","usePseudoBlockedUserInterstitial","useRestrictedUserInterstitial"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("usePseudoBlockedUserInterstitial").usePseudoBlockedUserInterstitial(),b=d("useBlockedUserInterstitial").useBlockedUserInterstitial(),e=d("useRestrictedUserInterstitial").useRestrictedUserInterstitial(),f=c("useMaybeShowCSAMBlockAsync")(),g=c("useMaybeShowDOIBlockAsync")(),h=c("useAsyncReStore")();return i(function(i){var j=i.damagingActionsEntryPoint,k=i.onProceed,l=i.onShow,m=i.threadKey;c("promiseDone")(h,function(h){return c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(h.tables.threads).getKeyRange(m)),function(c){return f({onProceed:function(){return g({onProceed:function(){return a({damagingActionsEntryPoint:j,onProceed:function(){return b({onProceed:function(){return e({onProceed:k,onShow:l,thread:c,threadKey:m})},onShow:l,thread:c,threadKey:m})},onShow:l,thread:c,threadKey:m})},onShow:l,threadKey:m})},onShow:l,threadKey:m})})})},[h,b,f,g,a,e])}g["default"]=a}),98);
__d("ShouldShowMessagingEntrypoint",["ProfilePlusMessaging","gkx","shouldHideChatOnAppsSubdomain"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e;if(!d||a==null)return!1;if(!c("gkx")("22788")||c("shouldHideChatOnAppsSubdomain")())return!1;if(b!=="JEWEL"&&c("ProfilePlusMessaging").shouldRedirectMessagesForAP)return!1;d=a.entityKeyConfig;d=b==="JEWEL"&&(d==null||(e=d.entity_type)==null?void 0:e.value)==="group"&&((d=d.section)==null?void 0:d.value)==="CHATS";if(d)return!0;if(b==="JEWEL"&&a.showMessengerJewel===!0)return!0;return b==="CHAT_TABS_ROOT"&&a.tracePolicy==="comet.sharedmediaviewer.media"?!0:!Boolean(a.hideChat)}g["default"]=a}),98);
__d("useShouldRenderFullTopNav",["CometRouterRouteTopNavTypeContext","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext,j=c("gkx")("22790");function a(){var a=i(c("CometRouterRouteTopNavTypeContext"));return(a==="default"||a==="hidden_for_comet_on_mobile")&&j}g["default"]=a}),98);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useContext;function a(a){var b=c("useShouldRenderFullTopNav")(),d=j(c("CometPassiveGetRouterStateContext"));return i(function(){var e=d==null?void 0:d(),f=e==null?void 0:e.main;e=e==null?void 0:e.pushViewStack;e=e&&e.length>0?e[e.length-1]:f;return c("ShouldShowMessagingEntrypoint")(e==null?void 0:e.route,a,b)},[a,d,b])}g["default"]=a}),98);
__d("MWPIsUserContact",["I64","LSContactViewerRelationship","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a==null?!1:(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").FACEBOOK_FRIEND))||(h||(h=d("I64"))).equal(a.contactViewerRelationship,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").SOFT_CONTACT))}g.isUserContact=a}),98);
__d("MWChatSearchTypeaheadDataEntry",["I64","LSContactBitOffset","LSContactTypeExact","LSIntEnum","LSRestrictionType","MWChatSearchResultType","MWPIsUserContact","MWSearchStandardResultTypeMappings"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b;return{key:(h||(h=d("I64"))).to_string(a.id),label:a.name,rawData:{displayName:a.name,id:h.to_string(a.id),imageUrl:a.profilePictureUrl,isAiBot:h.equal(a.contactTypeExact,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").GENERATIVE_AI_BOT)),isContact:d("MWPIsUserContact").isUserContact(a),isDisappearingModeSettingOn:!1,isE2EE:!0,isEPD:h.equal(a.restrictionType,i.ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isInstamadilloCutover:d("LSContactBitOffset").has(95,a),isRestrictedByViewer:d("LSContactBitOffset").has(66,a),isTTLCClipEnabled:d("LSContactBitOffset").has(96,a),isTTLCGenericXMAShareEnabled:d("LSContactBitOffset").has(97,a),isTTLCMediaShareEnabled:d("LSContactBitOffset").has(98,a),isTTLCStoryShareEnabled:d("LSContactBitOffset").has(99,a),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(64,a,!0),reachabilityStatus:a.contactReachabilityStatusType,resultType:c("MWChatSearchResultType").USER,searchResultType:d("MWSearchStandardResultTypeMappings").mapContactToSearchStandardResultType(a),secondaryImageUrl:(b=a.profilePictureFallbackUrl)!=null?b:a.profilePictureUrl,subtext:"",subtextAdditional:"",threadType:i.ofNumber(1)},type:"entry"}}g.convertContactToSearchTypeaheadDataEntry=a}),98);
__d("useMWNewChatOpenTabTraceProvider",["CometHeroLogging","qpl","react","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=c("useCometInteractionTracing")(c("qpl")._(30608422,"1698"),"responsive","INTERACTION");return i(function(b,d){a(function(a){var e=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());a.addMetadata("entrypoint",d);b(e,a)})},[a])}g["default"]=a}),98);
__d("useMWChatOpenNewTab",["LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS","react","useCometFeedNoRoutingNavigationEventLogger","useMWNewChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback;function a(a){var b=c("useMWNewChatOpenTabTraceProvider")(),e=c("useCometFeedNoRoutingNavigationEventLogger")(),f=d("MWChatStateV2.react").useDispatch();return j(function(g,h){e(Date.now(),"","messenger");(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_new");var j=d("MessengerWebEntryPointsUtil").cast(a);c("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:j,event_name:"open_chat_tab"}});d("LSThreadAttributionStore").setSourceForNewThread(a);return b(function(a,b){d("MWChatInteraction").set("open_new",a),b.addMarkerPoint("dispatch_open_chat_tab","AppTiming"),f(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!0},{initialTokens:h!=null?h:[],secureThreadToggleEnabled:g,type:d("MWChatStateV2Types").MWChatStateTabType.ComposeTab}))},a)},[e,a,b,f])}g["default"]=a}),98);
__d("useMAWComposeSecureThreadThenNavigate",["MWChatSearchTypeaheadDataEntry","MWInboxRouteBuilder","MWLSThreadDisplayContext","MWThreadListNewMessageState.react","react","useCometRouterDispatcher","useMWChatOpenNewTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b=a==="Inbox"?"inboxNewMessage":"jewelNewMessage",e=c("useMWChatOpenNewTab")(b),f=d("MWThreadListNewMessageState.react").useDispatchIfStateExists(),g=c("useCometRouterDispatcher")();return i(function(a,c,h){if(b==="jewelNewMessage")e(!0,a);else if(g!=null){c=c.length>0?c:a.map(d("MWChatSearchTypeaheadDataEntry").convertContactToSearchTypeaheadDataEntry);f==null||f({entries:c,initialOpenChatSearchTypeahead:h,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries});a=d("MWInboxRouteBuilder").buildNewThreadURL({initial_e2ee_toggle_position:!0});g.go(a,{})}},[e,b,g,f])}g["default"]=a}),98);
__d("MWCookieUtil",["I64","LSMessagingThreadTypeUtil","MWChatStateV2Types","MWV2CookieReader","MessengerWebPresenceCookieData"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return d("MWV2CookieReader").read(c("MessengerWebPresenceCookieData").cookie)}function j(){var a=i();return a.tabs.size>0}function k(){var a=i();return Array.from(a.tabs.values()).reduce(function(a,b){return a||!Boolean(b.minimizeWatermark)},!1)}function a(){var a=i();return Array.from(a.tabs.values()).reduce(function(a,b){return a||!Boolean(b.minimizeWatermark)&&b.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.tabType.threadKeyDescriptor.threadType)},!1)}function l(){var a=i();if(j()&&k()){a=Array.from(a.tabs.values()).find(function(a){return a.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab&&a.minimizeWatermark===0});if(a==null||a.tabType.type!==d("MWChatStateV2Types").MWChatStateTabType.ChatTab)return;var b=a.tabType.threadKeyDescriptor.threadKey;a=a.tabType.threadKeyDescriptor.threadType;return{threadKey:b,threadType:a}}return}function b(a){var b=l();return!b?!1:(h||(h=d("I64"))).equal(b.threadKey,a)}function e(a){var b=i();return Array.from(b.tabs.values()).some(function(b){return b.tabType.type===d("MWChatStateV2Types").MWChatStateTabType.ChatTab&&(h||(h=d("I64"))).equal(b.tabType.threadKeyDescriptor.threadKey,a)})}g.getMWCookie=i;g.hasAutoOpenChatTabs=j;g.hasAtLeastOneUnminimizedChatTab=k;g.hasAtLeastOneUnminimizedSecureChatTab=a;g.getAutoChatTabFromCookie=l;g.isAutoChatTabFromCookie=b;g.isInChatHead=e}),98);
__d("MWChatStateV2CompareTabs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.openWatermark-b.openWatermark;if(a<0)return 1;else if(a>0)return-1;else return 0}function b(a,b){a=Math.max(a.minimizeWatermark,a.clientForcedMinimizeWatermark)-Math.max(b.minimizeWatermark,b.clientForcedMinimizeWatermark);if(a<0)return 1;else if(a>0)return-1;else return 0}f.byMostRecentOpened=a;f.byMostRecentMinimized=b}),66);
__d("MWChatStateV2TabGroups",["MWChatStateV2CompareTabs","MWChatStateV2IsMinimized","MWChatStateV2IsOpen","ODS"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b,c){var d=a.length;if(d>b&&b>0&&c!=null){var e=a.findIndex(function(a){return a.tabId===c});if(e!==-1&&e>=b&&e<d){d=function(b,c){var d=a[b];a[b]=a[c];a[c]=d};d(b-1|0,e)}}return a}function a(a,b,c,e){(h||(h=d("ODS"))).bumpEntityKey(3185,"chat_tab_groups","mediaViewerOpenWatermarkOpt."+(a==null||a===-1?"default":"set"));c=i(Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsOpen").isOpen(a,b)}).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened),e,c);b=Array.from(b.values()).filter(function(b){return d("MWChatStateV2IsMinimized").isMinimized(a,b)});return{minimizedTabs:b,openExcessTabs:c.slice(e,c.length),openTabs:c.slice(0,e)}}g.getTabGroups=a}),98);
__d("MWV2TabContainerConsts",[],(function(a,b,c,d,e,f){"use strict";a=328;b=500;c=10;f.DEFAULT_TAB_WIDTH=a;f.EXPANDED_TAB_WIDTH=b;f.TAB_GAP=c}),66);
__d("useMWChatStateV2MaxTabCount",["MWChatStateV2CompareTabs","MWChatStateV2IsOpen","MWV2TabContainerConsts","qex","useWindowSize"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){b=b.filter(function(b){return d("MWChatStateV2IsOpen").isOpen(e?a:void 0,b)}).sort(d("MWChatStateV2CompareTabs").byMostRecentOpened);var f=c("useWindowSize")();f=f.innerWidth;if(f<1100||e)return 1;f=(f/2|0)-90|0;var g=d("MWV2TabContainerConsts").DEFAULT_TAB_WIDTH+d("MWV2TabContainerConsts").TAB_GAP,h;if(c("qex")._("4792")===!0&&c("qex")._("1083")!==!0){h=0;var i=Math.ceil(f/g)*g;for(b of b){var j=b.isExpanded?d("MWV2TabContainerConsts").EXPANDED_TAB_WIDTH+d("MWV2TabContainerConsts").TAB_GAP:d("MWV2TabContainerConsts").DEFAULT_TAB_WIDTH+d("MWV2TabContainerConsts").TAB_GAP;i-=j;if(i<0)break;h++}}else h=f/g;if(h<1)return 1;return c("qex")._("4793")===!0?1:Math.ceil(h)}g["default"]=a}),98);
__d("MWChatVisibileRoutes",[],(function(a,b,c,d,e,f){"use strict";a=["comet.group.lightweightgroups"];b=new Set(["comet.stories.viewer.archive","comet.stories.viewer","comet.videos.tahoe","comet.marketplace.item","comet.basic.marketplace.item","comet.mediaviewer.video","comet.mediaviewer.photo"].concat(a));f.ROUTES=b}),66);
__d("useMWIsTopLevelRouteMediaViewerExperiment",["MWChatVisibileRoutes","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null)return!1;var b=a.main;a=a.pushViewStack;a=a&&a.length>0?a[a.length-1]:b;return d("MWChatVisibileRoutes").ROUTES.has((a=(b=a.route)==null?void 0:b.tracePolicy)!=null?a:"")}g["default"]=a}),98);
__d("useMWChatOpenTabCount",["MWChatStateContext","MWChatStateV2TabGroups","useMWChatStateV2MaxTabCount","useMWIsTopLevelRouteMediaViewerExperiment"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWChatStateContext").useChatState(function(a){return[a.tabs,a.focusedTabId,a.mediaViewerOpenWatermark]}),b=a[0],e=a[1];a=a[2];var f=c("useMWIsTopLevelRouteMediaViewerExperiment")();a=f?a:void 0;f=c("useMWChatStateV2MaxTabCount")(a,Array.from(b.values()),f);a=d("MWChatStateV2TabGroups").getTabGroups(a,b,e,f);b=a.openTabs;return{maxTabsCount:f,openTabsCount:b.length}}g["default"]=a}),98);
__d("useMWChatOpenTabTraceProvider",["CometCurrentInitialLoadVC","CometHeroLogging","DeviceAnnotationsForInteractionTracingUtils","I64","LSDynamicDependenciesEventEmitter","LSStreamGroupRef","MWChatInteraction","MWCookieUtil","ifRequired","qex","qpl","react","requireDeferred","useCometInteractionTracing","useMWChatOpenTabCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=c("requireDeferred")("MWChatTabSharedQPLAnnotations").__setRef("useMWChatOpenTabTraceProvider"),l=!1;function m(a){l?a.addMetadata("revisit",1):(a.addMetadata("revisit",0),l=!0)}function n(a){var b=d("MWCookieUtil").isAutoChatTabFromCookie(a);if(!b)return!1;b=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a));a=b==null?void 0:b.getTrace();return a!=null&&!a.completed}function a(){var a=c("useMWChatOpenTabCount")(),b=a.maxTabsCount,e=a.openTabsCount,f=c("useCometInteractionTracing")(c("qpl")._(30605380,"18"),"responsive","INTERACTION");return j(function(a,g){var h=a.entrypoint,j=a.isUnread,l=a.threadKey,o=a.threadType;if(n(l)){a=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(l));if(a!=null){void g(a.getTraceId(),a);return}}a=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(l));if(a!=null){void g(a.getTraceId(),a);return}f(function(a){var f=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(a.getTraceId());c("qex")._("3047")&&d("MWChatInteraction").set((i||(i=d("I64"))).to_string(l),f);var n=[],p=d("LSDynamicDependenciesEventEmitter").subscribeToLoadModuleEvent(function(b){n.push(b),a.addAnnotationStringArray("dynamicDepsLoaded",n)});a.addMetadata("entrypoint",h);a.addMetadata("hasBadge",j!=null?j.toString():"");var q=d("LSStreamGroupRef").getTransportId();a.addMetadata("transportId",q);a.addAnnotationInt("openTabsCount",e);a.addAnnotationInt("maxTabsCount",b);void k.load().then(function(b){return b.addSharedAnnotations(a,o,l)});a.onComplete(function(b){m(a);c("ifRequired")("MWV2ChatTabs.react",function(){},function(){a.addMarkerPoint("MWV2ChatTabs_not_required","AppTiming")});d("DeviceAnnotationsForInteractionTracingUtils").addDeviceAnnotationsForInteractionTracing(a);var e=d("CometCurrentInitialLoadVC").getInitialLoadVC();e!=null&&a.addAnnotationInt("sinceInitialLoadVC",Math.round(b.start-e));p.remove()});void g(f,a)},void 0,void 0,void 0,i.to_string(l))},[f,e,b])}g["default"]=a}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","CometRelay","FBLogger","I64","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadAttributionStore","MAWUpdateSecureThreadAttributionForContact","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRestrictedAccountsRouteBuilder","MWInboxRouteBuilder","MWInboxTrayGating","MWNavigationContext","MWPVisibleMessageContext.react","MessengerWebEntryPointsUtil","ReQL","XCometGroupDiscussionControllerRouteBuilder","asyncToGeneratorRuntime","cr:9780","dispatchOpenChatTabTraceLogging","getGroupThreadViewParams","getTopMostRouteCometEntityKey","justknobx","loadChatTabEntryPoint","promiseDone","react","requireDeferred","useAsyncReStore","useCometFeedNoRoutingNavigationEventLogger","useCometRelayEntrypointContextualEnvironmentProvider","useCometRouterDispatcher","useIntegrityBlockInterstitial","useLazyShouldShowMessagingEntrypointInCometRoot","useMAWComposeSecureThreadThenNavigate","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;e=h||d("react");var l=e.useCallback,m=e.useContext,n=e.useMemo,o=c("requireDeferred")("MAWVerifyThreadCutover").__setRef("useMWNavigation");function p(){var a=d("MWChatStateV2.react").useDispatch(),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=c("useMWChatOpenTabTraceProvider")(),f=c("useCometRelayEntrypointContextualEnvironmentProvider")();return l(function(g,h,j,k){b(Date.now(),"","messenger");return e({entrypoint:h,isUnread:g.isUnread,threadKey:g.threadKey,threadType:(i||(i=d("I64"))).to_int32(g.threadType)},function(b,e){d("MWChatInteraction").set((i||(i=d("I64"))).to_string(g.threadKey),b);c("dispatchOpenChatTabTraceLogging")(e,g,"useMWNavigation");(k==null?void 0:k.subEntrypoint)!=null&&e.addAnnotation("sub_entrypoint",k.subEntrypoint);b=c("loadChatTabEntryPoint")(f);return a(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:j!==!0},{threadKeyDescriptor:g,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab},b))})},[a,f,b,e])}function q(a,e,f,g,h,j){return function(k){k=(i||(i=d("I64"))).to_string(k);if(b("cr:9780")!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a))switch(e){case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildE2EEThreadURL({focus_target:j,thread_key:k});case"archived":return c("justknobx")._("2103")?d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k}):d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k});default:return d("MWInboxRouteBuilder").buildE2EEThreadURL({focus_target:j,search:h,thread_key:k})}if(f!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[f.threadKey,k],idorvanity:f.groupId});if(e==null)return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k});switch(e){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({focus_target:j,thread_key:k});case"restricted":return d("MWInboxRestrictedAccountsRouteBuilder").buildURL({focus_target:j,thread_key:k});default:return d("MWInboxRouteBuilder").buildURL({focus_target:j,link_hash:g,search:h,thread_key:k})}}}function r(a,b){a=a.threadKey;return d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(a),b)}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=m(d("MWNavigationContext").context),g=m(c("CometPassiveGetRouterStateContext")),h=p(),l=d("CometRelay").useRelayEnvironment(),s=c("useIntegrityBlockInterstitial")(),t=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),u=t.setVisibleMessage,v=c("useMAWComposeSecureThreadThenNavigate")(),w=c("useAsyncReStore")();return n(function(){var m=function(a,b,d,e,h){var i=c("getTopMostRouteCometEntityKey")(g==null?void 0:g()),j=i==null?void 0:i.entity_type;i=c("getGroupThreadViewParams")(i,g==null?void 0:g());b=f!=null?f:q(b,j,i,d,e,h);return b(a)},n=function(a,b,f){var g=a.isUnread,h=a.searchQuery,j=a.threadKey,k=a.threadLinkHash;a=a.threadType;if(e!=null){var l=d("MessengerWebEntryPointsUtil").cast(b),n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a);k=m(j,a,k,h,f);n&&!k.includes("e2ee")&&c("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct");b!=="messengerUniversalSearch"&&u(void 0);e.go(k,{traceParams:{TLTV:"true",entrypoint:l,hasBadge:g!=null?g.toString():"",inboxEntrypoint:b,isSecure:n?"true":"false",thread_id:(i||(i=d("I64"))).to_string(j),thread_type:i.to_string(a)}})}},p=function(a,f){var g=a.isUnread,h=a.searchQuery,k=a.threadKey,n=a.threadLinkHash,p=a.threadType;if(e!=null){var q=d("MessengerWebEntryPointsUtil").cast(f),r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(p),s=m(k,p,n,h);r&&!s.includes("e2ee")&&c("FBLogger")("messenger_web").mustfix("E2ee thread navigation url is not correct");f!=="messengerUniversalSearch"&&u(void 0);o.onReady(function(a){c("promiseDone")(a.verifyContactCutoverOrOndemandCutoverOrDefaultE2EE((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,l,k,void 0,null).then(function(l){switch(l){case"cutover":c("promiseDone")(a.getCutoverThread((j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton,k).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a?a.serverThreadKey:k;if(a==null&&d("MWInboxTrayGating").isInboxTrayEnabled()){a=(yield w);a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(k)));if(a!=null){v([a],[],d("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0);return}else c("FBLogger")("Contact was null when navigating to cutover e2ee")}a=m(b,p,n,h);d("MAWUpdateSecureThreadAttributionForContact").maybeUpdateSecureThreadAttributionForContact(k,b);e.go(a,{traceParams:{TLTV:"true",entrypoint:q,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:"true",thread_id:(i||(i=d("I64"))).to_string(b),thread_type:i.to_string(p)}})});return function(b){return a.apply(this,arguments)}}()));break;case"default_e2ee":c("promiseDone")(w,function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(k)).then(function(a){a!=null?v([a],[],d("MWInboxTrayGating").isInboxTrayEnabled()?!1:void 0):c("FBLogger")("Contact was null when navigating to default e2ee")})});break;case"on_demand_cutover":default:e.go(s,{traceParams:{TLTV:"true",entrypoint:q,hasBadge:g!=null?g.toString():"",inboxEntrypoint:f,isSecure:r?"true":"false",thread_id:(i||(i=d("I64"))).to_string(k),thread_type:(i||(i=d("I64"))).to_string(p)}});break}}))})}};return{getUrlFromThreadKey:m,openInbox:function(a,b,c,e,f){c===void 0&&(c=(k||(k=d("LSIntEnum"))).ofNumber(54));r(a,b);return s({damagingActionsEntryPoint:c,onProceed:function(){b==="contactShareMessage"||b==="inboxTrayActiveNow"||b==="noteReplyMsg"?p(a,b):n(a,b,f),e==null||e()},threadKey:a.threadKey})},openTabOrInbox:function(b,c,e,f,g,i){f===void 0&&(f=(k||(k=d("LSIntEnum"))).ofNumber(54));r(b,c);if(a())return s({damagingActionsEntryPoint:f,onProceed:function(){h(b,c,e,g),i==null||i()},threadKey:b.threadKey});else return s({damagingActionsEntryPoint:f,onProceed:function(){n(b,c),i==null||i()},threadKey:b.threadKey})}}},[g,f,e,u,w,v,s,a,h])}g["default"]=a}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MAWThreadCutover","MWAdminTextLayout.react","MWFBLogger","MWXLink.react","MWXText.react","ReQL","asyncToGeneratorRuntime","gkx","promiseDone","react","requireDeferred","useAsyncReStore","useMWEntrypoint","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useCallback,n=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWV2AdminMsgViewMessagesDualThreadCutover.react");function a(a){var e=a.message,f=c("useAsyncReStore")(),g=c("useMWNavigation")(),i=d("MAWThreadCutover").useIsCutoverSecureThread(e.threadKey),o=c("useMWEntrypoint")();a=m(function(){n.onReady(function(a){return a.log(function(){return{entry_point:o,event_type:"secret_conversation_post_cutover_admin_message_cta_click_event",is_cutover:i,thread_id:(j||(j=d("I64"))).to_string(e.threadKey),thread_type:j.to_string((k||(k=d("LSIntEnum"))).ofNumber(15)),transport_type:"ACT"}})}),c("promiseDone")(f,function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f=(b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(e.threadKey))))==null?void 0:b.jid;f!=null&&(yield c("LSPlatformWaitForTaskCompletion")(a,function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(k||(k=d("LSIntEnum"))).ofNumber(1),threadKey:f,threadType:k.ofNumber(1)})},"readwrite"));b=f!=null?yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(f)):null;b?g.openTabOrInbox({clientThreadKey:b.clientThreadKey,threadKey:b.threadKey,threadType:b.threadType},"preCutoverThread"):d("MWFBLogger").MWLogger.tags(["DualThreadCutover"]).WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to navitage to open messages thread ",""])),(j||(j=d("I64"))).to_string(e.threadKey))});return function(b){return a.apply(this,arguments)}}())},[f,o,i,e.threadKey,g]);var p=c("gkx")("8631"),q=e.adminMsgCtaTitle;a=q!=null?l.jsx(c("MWXLink.react"),{color_DEPRECATED:p?"blueLink":void 0,onClick:a,role:"button",testid:void 0,children:p?q:l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:q})}):null;p=d("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(e.threadKey)==null;return!p&&l.jsx(c("MWAdminTextLayout.react"),{cta:a,message:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=d("MWThreadKey.react").useMWThreadKeyMemoized(),e=a!=null?a:b;a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler"));var f=a[0];return i(function(a,b){if(e==null||a==null||b==null)return;return f({pollId:a,threadKey:e,title:b},function(){})},[f,e])}g["default"]=a}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(170,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useCallback;function a(a){var b=a.message,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":28");a=c("useMWHasPollsVotingEnabled")(b.threadKey);var j=c("useMWChatPollXMAActionHandler")(),m=l(function(){j(g==null?void 0:g.targetId,g==null?void 0:g.targetTitle)},[g==null?void 0:g.targetId,g==null?void 0:g.targetTitle,j]);if(!c("justknobx")._("1987")||!a||g==null)return k.jsx(c("MWAdminTextLayout.react"),{message:b});a=g==null?void 0:g.title;m=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:m,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:m,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2AdminMsgWebUrl.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=a.message,e=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[e,b],f.id+":26");var g=l(d("AdsMessengerContext.react").AdsMessengerContext),j=a==null?void 0:a.title;a=a==null?void 0:a.actionUrl;g=(g==null?void 0:g.messengerLinkColor)||"primary";g=j!=null&&a!=null?k.jsx(c("MWXLink.react"),{color_DEPRECATED:g,href:a,target:"_blank",children:j}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:g,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29746995494916388"}),null);
__d("ScaledChatOptOutAndEndChatMutation.graphql",["ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"input",variableName:"input"}],d=[{kind:"Literal",name:"topic",value:"ADVERTISER_GUIDANCE"}],e={alias:null,args:null,kind:"ScalarField",name:"is_opted_in",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:c,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[e],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:c,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:d,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}]},params:{id:b("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"),metadata:{},name:"ScaledChatOptOutAndEndChatMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("ScaledChatOptOutAndEndChatMutation.react",["CometRelay","ScaledChatOptOutAndEndChatMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("ScaledChatOptOutAndEndChatMutation.graphql");function a(a){var b=a.entryPoint,c=a.environment,e=a.setDefaultOptedIn,f=a.setLoading;d("CometRelay").commitMutation(c,{mutation:i,onCompleted:function(a,b){f(!1),e&&e(!1)},onError:function(){f(!1)},variables:{input:{entry_point:b,topic:"ADVERTISER_GUIDANCE"}}})}g.commitScaledChatOptInMutation=a}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","ScaledChatOptOutAndEndChatMutation.react","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=a.message,e=d("CometRelay").useRelayEnvironment(),g=(h||(h=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){var a;return d("ReQL").fromTableAscending(g.tables.admin_message_ctas).getKeyRange(b.threadKey,b.messageId,(a=b.adminMsgCtaId)!=null?a:(i||(i=d("I64"))).neg_one)},[g,b],f.id+":29");a=(a=a==null?void 0:a.title)!=null?a:"";var j=function(){return d("ScaledChatOptOutAndEndChatMutation.react").commitScaledChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:e,setLoading:function(){},setOptedIn:function(){}})};j=a!=null?k.jsx(c("MWAdminMsgCtaLink.react"),{onClick:j,children:a}):null;return k.jsx(c("MWAdminTextLayout.react"),{cta:j,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWGenAINux.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react","MWV2AdminMsgChangeTheme.react","MWV2AdminMsgChangeThreadLimitSharingPermission.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgE2EEUKOSA.react","MWV2AdminMsgICDC.react","MWV2AdminMsgMarketingMessagesManage.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgSupportDialogCTA.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={color:{color:"x186z157",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){if(a!=null)return a.isAdminMessage;else return!1}function l(a){var b=a.children,c=a.nextMessage;a=a.prevMessage;return i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:[j.container,k(a)?j.containerThatProceedsAdminMessage:!1,k(c)?j.containerThatPrecedesAdminMessage:!1],children:i.jsx(d("react-strict-dom").html.div,{style:j.content,children:b})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.message;a.nextMessage;a.prevMessage;switch(b.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":return i.jsx(c("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:b});case"admin_msg_dual_thread_cutover":return i.jsx(c("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:b});case"admin_msg_web_url":return i.jsx(c("MWV2AdminMsgWebUrl.react"),{message:b});case"admin_msg_sbg_proactive_chat_opt_in":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b});case"admin_msg_sbg_proactive_chat_opt_out":return i.jsx(c("MWV2SBGProactiveChatMutationUrl.react"),{message:b});case"admin_msg_p2b_privacy_disclosure":if(c("gkx")("24144"))return i.jsx(c("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:b});else break;case"admin_notification_messages_opt_out":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:b});case"admin_notification_messages_opt_in":return i.jsx(c("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:b});case"admin_msg_marketing_messages_ctm":return i.jsx(c("MWV2AdminMsgMarketingMessagesManage.react"),{message:b});case"admin_msg_thread_level_cutover":return i.jsx(c("MWV2AdminMsgE2EEDescription.react"),{message:b});case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":return i.jsx(c("MWV2AdminMsgE2EECutoverRollback.react"),{message:b});case"admin_msg_e2ee_uk_osa":return i.jsx(c("MWV2AdminMsgE2EEUKOSA.react"),{message:b});case"xmat_instant_game_bot_message_subscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!0});case"xmat_instant_game_bot_message_unsubscribe":return i.jsx(c("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:b,shouldSubscribe:!1});case"admin_msg_view_pin_msgs_v2":return i.jsx(c("MWV2AdminMsgShowPinnedMessages.react"),{message:b});case"xmat_instant_game_custom_update_message_mute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!0});case"xmat_instant_game_custom_update_message_unmute":return i.jsx(c("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:b,shouldMute:!1});case"admin_message_service_booking_legal_disclaimer":return i.jsx(c("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:b});case"admin_msg_admod_post_msg_remove_actions":return i.jsx(c("MWV2AdminMsgPostMessageRemoveActions.react"),{message:b});case"admin_msg_change_theme":return i.jsx(c("MWV2AdminMsgChangeTheme.react"),{message:b});case"admin_msg_poll_details":return i.jsx(c("MWV2AdminMsgViewPoll.react"),{message:b});case"admin_msg_icdc":return i.jsx(c("MWV2AdminMsgICDC.react"),{message:b});case"admin_msg_ig_dm_learn_more":return i.jsx(c("MWV2AdminMsgDMLearnMore.react"),{message:b});case"admin_msg_bm_genai_consumer_disclaimer_learn_more":return i.jsx(c("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react"),{message:b});case"admin_msg_change_thread_limit_sharing_permission":return i.jsx(c("MWV2AdminMsgChangeThreadLimitSharingPermission.react"),{message:b});case"support_open_dialog":return i.jsx(c("MWV2AdminMsgSupportDialogCTA.react"),{message:b});case"admin_msg_genai_nux_inline":return i.jsx(c("MWGenAINux.react"),{source:"adminMessage"})}return i.jsx(c("MWAdminTextLayout.react"),{message:b})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.nextMessage;a=a.prevMessage;return b.adminMsgCtaType==="admin_msg_e2ee_thread"?null:i.jsx(l,{nextMessage:e,prevMessage:a,children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:i.jsx(d("react-strict-dom").html.div,{style:j.color,children:i.jsx(m,{message:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g.isAdminMessage=k;g.MWV2ChatAdminMessageContainer=l;g.MWV2ChatAdminMessage=a}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.isOutgoing;a=a.isReply;return j.jsxs(d("react-strict-dom").html.div,{style:a&&k.withRepliedMessage,children:[a?null:j.jsx(d("react-strict-dom").html.div,{style:k.vr}),j.jsxs(c("MWV2TombstonedMessage.react"),{isOutgoing:b,children:[" ",h._(/*BTDS*/"Error displaying this message")]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9370810589694752"}),null);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:c("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:b,userID:a}}}}},root:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};g["default"]=a}),98);
__d("MWXEntryPointPopoverTrigger.react",["cr:1000","cr:4755","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(b("cr:4755")!=null)return i.jsx(b("cr:4755"),babelHelpers["extends"]({},a));return b("cr:1000")!=null?i.jsx(b("cr:1000"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconAccount",["MWXSvgIcon","SVGIcon","cr:22172","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22172")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","FDSImageCover.react","I64","IGDWebUtils","LSContactBitOffset","LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","MWPContactContext.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MWXGlimmer.react","MWXIconAccount","MWXIconStrict.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","getLSMediaContactProfilePictureUrl","mwCMIsAnyCMThread","qex","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m=h._(/*BTDS*/"Member"),n={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",maxWidth:"x193iq5w",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var e=a.isGroupThread;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),h=g.contact;g=g.nickname;var k=d("MWPActor.react").useActor(),o=(i||(i=c("useReStore")))(),p=d("MWLSThread").useThread(a.threadKey),q=p==null?void 0:p.parentThreadKey,r=p==null?void 0:p.threadType,s=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getCommunityFolderQuery(o,q!=null?q:(j||(j=d("I64"))).zero).map(function(a){return a.fbGroupId})},[o,q],f.id+":74"),t=r!=null?c("mwCMIsAnyCMThread")(r):!1;if(a.takedownState!=null)r=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:l.jsx(c("MWXIconStrict.react"),{alt:m,color:"secondary",icon:c("MWXIconAccount"),size:28})});else if(h!=null&&c("getLSMediaContactProfilePictureUrl")(h)!==""){var u,v;g=g!=null?g+" ("+h.name+")":h.name;u=(u=d("LSContactBitOffset").has(77,h))!=null?u:!1;v=(v=d("LSContactBitOffset").has(84,h))!=null?v:!1;v=!v&&!u&&!d("IGDWebUtils").isOnInstagramWeb();u=v&&t&&c("qex")._("20")===!0;v=v&&p!=null&&d("LSMessagingThreadTypeUtil").isOpenOrArmadilloFnFThread(p);var w=l.jsx(c("FDSImageCover.react"),{alt:h.name,src:c("getLSMediaContactProfilePictureUrl")(h),style:{borderRadius:"50%"}});r=l.jsx(c("MWXTooltip.react"),{align:"middle",onVisibilityChange:function(a){a&&(t&&d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"))},position:"start",tooltip:g,children:u||v?l.jsx(c("MWXEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(j||(j=d("I64"))).to_string(s!=null?s:(j||(j=d("I64"))).zero),userID:(j||(j=d("I64"))).to_string(k)},otherProps:{isGroupThread:e,message:a},popoverEntryPoint:c("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(a,b,e,f,g,h){return l.jsx(c("MWXPressable.react"),{onHoverIn:f,onHoverOut:g,onPress:function(){t&&d("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),b()},onPressIn:h,overlayRadius:"50%",ref:a,xstyle:n.profile,children:w})}}):w})}else r=l.jsx(c("MWXGlimmer.react"),{index:1,xstyle:n.glimmer});return l.jsx("div",babelHelpers["extends"]({"aria-hidden":b},{className:"xuk3077 x78zum5 x2lah0s x1fgtraw x193iq5w xgd8bvy"},{children:r}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWV2MessageProfilePhoto.react",["MWV2MessageProfilePhotoContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.ariaHidden;b=b===void 0?!1:b;var d=a.display;d=d===void 0?"visible":d;var e=a.isGroupThread;a=a.message;return i.jsx("div",babelHelpers["extends"]({className:"xgd8bvy"},{children:d==="visible"&&i.jsx(c("MWV2MessageProfilePhotoContent.react"),{ariaHidden:b,isGroupThread:e,message:a})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children,e=a.domElementRef;a=a.focusCellOnRender;var f=a===void 0?!1:a;a=c("useMAWEditMessageData")();var g=a!=null;a=c("useMWPEditMessageDeemphasizer")();var i=l(null);k(function(){if(f){var a;(a=i.current)==null||a.focus();(a=i.current)==null||a.scrollIntoView()}},[f]);return j.jsx(d("MWMessageTableFocusTable.react").FocusTable[1],{children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{ref:e,role:"row",children:j.jsx(d("MWMessageTableFocusTable.react").FocusTable[2],{children:j.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.row,e?m.rowFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.react").scopeID,ref:i,role:"gridcell",tabIndex:g?-1:0,children:[b,j.jsx(c("MWEditMessageOverlay.react"),{})]}))}})})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageStartOfGroupContent.react",["BaseHeadingContextWrapper.react","I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function k(a,b){if(b!=null)return(i||(i=d("I64"))).compare(i.abs(i.sub(a.timestampMs,b.timestampMs)),i.of_string("900000"))>0;else return!0}function l(a){var b=a.domElementRef,e=a.message,f=a.prevMessage;a=a.renderTextWrapper;if(k(e,f))return j.jsx(c("MWV2MessageRowSimple.react"),{domElementRef:b,children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:j.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:e,prevMessage:f,children:j.jsx(c("BaseHeadingContextWrapper.react"),{children:j.jsx(c("MWPDateBreak.react"),{renderTextWrapper:a,timestamp:(i||(i=d("I64"))).to_float(e.timestampMs)})})})})});else return null}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.domElementRef,c=a.message,d=a.prevMessage;a=a.renderTextWrapper;return j.jsx(l,{domElementRef:b,message:c,prevMessage:d,renderTextWrapper:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.outgoing;return j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:h._(/*BTDS*/"Error rendering media")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("IGDMessageRow.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","CometPressable.react","E2EEMessagingLinkContext.react","I64","IGDAIStickerEyebrowText.react","IGDAiAgentsUtils","IGDAttachment.react","IGDChatBubble.react","IGDChatEmoji.react","IGDEqualityUtils","IGDForwardedContent.react","IGDHotlikeEmoji.react","IGDInstamadilloLockIcon.react","IGDInstamadilloUtils","IGDMessageGutterItem.react","IGDMessageListText.react","IGDMessageRowFooter.react","IGDPlaceholderMessage.react","IGDRepliedMessage.react","IGDReplySnippet.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","IGDXMAAttachmentUtil","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSHotEmojiSize","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageEditContext.react","MWMessageSearchPluginMustache.react","MWPActor.react","MWPAttachmentDataContext","MWPBaseMessage.react","MWPBaseMessageListRow.react","MWPBaseMessageRowHeader.react","MWPContactContext.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingWrapper.react","MWPMessageParsingUtils","MWSearchPluginUtils","MWThreadViewMediaRenderQpl","MWV2ChatAdminMessage.react","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","MWV2ReplyError.react","MessagingAttachmentType","PolarisDoubleTappable","PolarisUA","asyncToGeneratorRuntime","cr:1388","deepEquals","deferredLoadComponent","isMWEditedMessage","lazyLoadComponent","mwpIsMessageUnsupported","promiseDone","qpl","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useAsyncReStore","useIsReadOnlyFeatureLimited"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));e=j;var aa=e.memo;e.useCallback;var ba=e.useContext,ca=e.useEffect,da=e.useId,ea=e.useState,fa=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("IGDMessageRow.react")),ga=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDEditedMessageActions.react").__setRef("IGDMessageRow.react")),ha={alignEnd:{alignItems:"xuk3077",$$css:!0},editedMessageIncoming:{paddingInlineStart:"xciyo1",$$css:!0},editedMessageOutgoing:{paddingInlineEnd:"xv54qhq",$$css:!0},repliedMessage:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}},ia=d("LSBitFlag").set((k||(k=d("LSIntEnum"))).ofNumber(1),d("LSBitFlag").set(k.ofNumber(8),d("LSBitFlag").empty)),ja=c("lazyLoadComponent")(c("JSResourceForInteraction")("IGDMessageRowActions.react").__setRef("IGDMessageRow.react"));function ka(a){var b=d("react-compiler-runtime").c(18),e=a.isGroupThread,f=a.isLastMessageInGroup;a=a.message;var g=d("MWPContactContext.react").useMWPContactStableContext(),i=g.contact;g=g.contact;var j;b[0]!==g?(j=g===void 0?{secondaryName:void 0}:g,b[0]=g,b[1]=j):j=b[1];g=j;j=g.secondaryName;g=i!=null&&d("LSContactBitOffset").has(85,i);if(!g){i=f?"visible":"hidden";b[2]!==e||b[3]!==a||b[4]!==i?(g=m.jsx(c("MWV2MessageProfilePhoto.react"),{display:i,isGroupThread:e,message:a}),b[2]=e,b[3]=a,b[4]=i,b[5]=g):g=b[5];return g}b[6]!==j?(i=j!=null?{url:"/"+j}:void 0,b[6]=j,b[7]=i):i=b[7];g=i;b[8]!==j?(i=h._(/*BTDS*/"Open the profile page of {name}",[h._param("name",j)]),b[8]=j,b[9]=i):i=b[9];j=i;i=f?"visible":"hidden";b[10]!==e||b[11]!==a||b[12]!==i?(f=m.jsx(c("MWV2MessageProfilePhoto.react"),{display:i,isGroupThread:e,message:a}),b[10]=e,b[11]=a,b[12]=i,b[13]=f):f=b[13];b[14]!==j||b[15]!==g||b[16]!==f?(e=m.jsx(c("CometPressable.react"),{"aria-label":j,linkProps:g,overlayDisabled:!0,children:f}),b[14]=j,b[15]=g,b[16]=f,b[17]=e):e=b[17];return e}var la="double_tappable_id",ma=c("qpl")._(832782319,"3033");function n(a){var e=d("react-compiler-runtime").c(189),g=a.domElementRef,j=a.formatText,aa=a.hideRowActions,n=a.isGroupThread,o=a.isModal,p=a.isSecureMessage,q=a.isXMAExpired,r=a.message,s=a.nextMessage,t=a.onDoubleClickToLike,u=a.prevMessage,v=a.reactions,sa=a.reactionsV2,ta=a.stopHoveringRef;a=a.threadType;var ua=d("MWPActor.react").useActor(),va=c("useAsyncReStore")(),w;e[0]!==va||e[1]!==r?(w=function(){var a=babelHelpers["extends"]({},r,{isExpired:!0});c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var c=(yield va);yield c.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){yield b.messages.put(a)});return function(a){return c.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":254")})())},e[0]=va,e[1]=r,e[2]=w):w=e[2];w=w;var x;e[3]!==r||e[4]!==u?(x=d("MWPMessageParsingUtils").isStartOfGroup(r,u),e[3]=r,e[4]=u,e[5]=x):x=e[5];x=x;var y;e[6]!==r||e[7]!==s?(y=d("MWPMessageParsingUtils").isEndOfGroup(r,s),e[6]=r,e[7]=s,e[8]=y):y=e[8];var z=y,A=(l||(l=d("I64"))).equal(r.senderId,ua);y=ea(!1);var B=y[0];ua=y[1];y=ea(!1);var wa=y[0];y=y[1];var xa=da(),C=ea(!1),D=C[0];C=C[1];var E=sa!=null?sa.length>0:v.length>0,F=!A;F=F&&n;var G=r.replyToUserId!=null,H=c("useIsReadOnlyFeatureLimited")(),I;e[9]!==r?(I=c("isMWEditedMessage")(r),e[9]=r,e[10]=I):I=e[10];I=I;var J=r.replySourceTypeV2!=null&&(k||(k=d("LSIntEnum"))).toNumber(r.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").FORWARD,ya=r.replySourceTypeV2!=null&&(k||(k=d("LSIntEnum"))).toNumber(r.replySourceTypeV2)===c("LSMessageReplySourceTypeV2").IG_STORY_SHARE,K=d("IGDInstamadilloUtils").canMutateIGDMessage(r);K=d("PolarisUA").isTouchDevice()&&K&&!H;H=la+"."+r.messageId;var L=ba(d("MWPAttachmentDataContext").MWPAttachmentDataContext),M=L.attachments,N=M.length>0;e[11]!==M[0]||e[12]!==N?(L=N&&(d("MWSearchPluginUtils").isSearchPlugin(M[0])||d("MWSearchPluginUtils").isSearchSingleBubblePlugin(M[0])),e[11]=M[0],e[12]=N,e[13]=L):L=e[13];L=L;var O;e[14]!==M[0]||e[15]!==N?(O=N&&d("MWSearchPluginUtils").isSearchSingleBubblePlugin(M[0]),e[14]=M[0],e[15]=N,e[16]=O):O=e[16];O=O;var P;e[17]!==M[0]||e[18]!==L?(P=L&&d("IGDAiAgentsUtils").isGenAISticker(M[0]),e[17]=M[0],e[18]=L,e[19]=P):P=e[19];P=P;var za=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),Q;e[20]!==M||e[21]!==r?(Q=c("mwpIsMessageUnsupported")(r,M),e[20]=M,e[21]=r,e[22]=Q):Q=e[22];var Aa=Q;e[23]!==M[0]||e[24]!==Aa||e[25]!==r||e[26]!==N?(Q=function(a,b){return d("MWThreadViewMediaRenderQpl").enableQplForMessage(r,b)||N&&(k||(k=d("LSIntEnum"))).toNumber(M[0].attachmentType)===c("MessagingAttachmentType").XMA||Aa},e[23]=M[0],e[24]=Aa,e[25]=r,e[26]=N,e[27]=Q):Q=e[27];Q=Q;Q=d("MWThreadViewMediaRenderQpl").useMediaRenderQpl(r,a,Q,ma);var R=Q.mediaRenderQpl,S;e[28]!==R?(Q=function(){R==null||R.addPoint("render-igd-message-row")},S=[R],e[28]=R,e[29]=S,e[30]=Q):(S=e[29],Q=e[30]);ca(Q,S);var Ba=ra;e[31]!==r.displayedContentTypes?(Q=(l||(l=d("I64"))).equal(r.displayedContentTypes,ia),e[31]=r.displayedContentTypes,e[32]=Q):Q=e[32];var Ca=Q;S=r.isPaidPartnership===!0;Q=G||J||x&&!F&&!S&&!I||ya;if(r.scheduledTimestamp!=null)return null;if(r.isExpired)return null;if(r.isUnsent)return null;if(r.takedownState!=null)return null;if(r.isAdminMessage){if(r.adminMsgCtaType==="admin_msg_e2ee_thread"){R==null||R.endSuccess();return null}J=function(){if(N)return Ba(r,void 0,void 0,!1,!1,A,!1,!1,R);else{R==null||R.endSuccess();return null}};e[33]!==r||e[34]!==s||e[35]!==u?(F=m.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:r,nextMessage:s,prevMessage:u}),e[33]=r,e[34]=s,e[35]=u,e[36]=F):F=e[36];return m.jsx(c("CometErrorBoundary.react"),{children:m.jsx(c("MWV2MessageRowSimple.react"),{children:m.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:[F,J()]})})})}e[37]!==g||e[38]!==r||e[39]!==u?(S=function(){return m.jsx(c("MWV2MessageStartOfGroupContent.react"),{domElementRef:g,message:r,prevMessage:u})},e[37]=g,e[38]=r,e[39]=u,e[40]=S):S=e[40];e[41]!==r||e[42]!==u||e[43]!==S?(F=m.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBeforeContent,{message:r,prevMessage:u,children:S}),e[41]=r,e[42]=u,e[43]=S,e[44]=F):F=e[44];J=x?void 0:g;e[45]!==q?(S=function(a,b){return q?null:m.jsx(c("IGDReplySnippet.react"),{message:a,outgoing:b})},e[45]=q,e[46]=S):S=e[46];var T;e[47]!==x||e[48]!==n||e[49]!==z||e[50]!==r||e[51]!==A||e[52]!==S?(T=m.jsx(c("MWPBaseMessageRowHeader.react"),{isFirstMessageInGroup:x,isGroupThread:n,isLastMessageInGroup:z,message:r,outgoing:A,renderForwardSnippet:qa,renderPaidPartnerShipText:pa,renderPinnedText:oa,renderReplySnippet:S,renderTextWrapper:na,renderTimestamp:void 0}),e[47]=x,e[48]=n,e[49]=z,e[50]=r,e[51]=A,e[52]=S,e[53]=T):T=e[53];e[54]!==Q?(S=Q?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}):null,e[54]=Q,e[55]=S):S=e[55];e[56]!==G||e[57]!==p||e[58]!==r||e[59]!==A?(Q=G?m.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(ha.repliedMessage,A?ha.alignEnd:!1),{role:"none",children:m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:m.jsx(c("CometErrorBoundary.react"),{fallback:function(){return m.jsx(c("MWV2ReplyError.react"),{outgoing:A})},children:m.jsx(c("IGDRepliedMessage.react"),{isSecureMessage:p,message:r,outgoing:A})})})})):null,e[56]=G,e[57]=p,e[58]=r,e[59]=A,e[60]=Q):Q=e[60];var U;e[61]!==I||e[62]!==o||e[63]!==G||e[64]!==p||e[65]!==r||e[66]!==A||e[67]!==a?(U=I?m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(fa,{isReply:G,isSecureMessage:p,msgId:r.messageId,outgoing:A,renderMessageActions:function(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(ga,{ariaHidden:o===!1,baseMessage:r,messageHistoryEntry:a,outgoing:A})})},threadType:a,xstyle:A?ha.editedMessageOutgoing:ha.editedMessageIncoming})}):null,e[61]=I,e[62]=o,e[63]=G,e[64]=p,e[65]=r,e[66]=A,e[67]=a,e[68]=U):U=e[68];e[69]!==M[0]||e[70]!==P||e[71]!==A?(I=P?m.jsx(c("IGDAIStickerEyebrowText.react"),{attachment:M[0],outgoing:A}):null,e[69]=M[0],e[70]=P,e[71]=A,e[72]=I):I=e[72];e[73]!==r?(a=function(){return m.jsx(c("IGDMessageGutterItem.react"),{message:r})},e[73]=r,e[74]=a):a=e[74];e[75]!==B||e[76]!==aa||e[77]!==wa||e[78]!==D||e[79]!==o||e[80]!==r||e[81]!==A?(P=function(a){return m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx("div",{className:"x1mf6xnc"}),children:m.jsx(ja,{ariaHidden:o===!1,focused:B||D||o,hidden:a===!0||aa===!0,hovered:wa,message:r,outgoing:A})})},e[75]=B,e[76]=aa,e[77]=wa,e[78]=D,e[79]=o,e[80]=r,e[81]=A,e[82]=P):P=e[82];var Da;e[83]!==n||e[84]!==z||e[85]!==r?(Da=function(){return m.jsx(ka,{isGroupThread:n,isLastMessageInGroup:z,message:r})},e[83]=n,e[84]=z,e[85]=r,e[86]=Da):Da=e[86];var Ea;e[87]!==G||e[88]!==A?(Ea=function(){return m.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:A,isReply:G})},e[87]=G,e[88]=A,e[89]=Ea):Ea=e[89];var Fa;e[90]===Symbol["for"]("react.memo_cache_sentinel")?(Fa=h._(/*BTDS*/"Double tap to like").toString(),e[90]=Fa):Fa=e[90];var Ga=r.messageId+" "+H;K=K?t:void 0;t=Ca||ya?"above":"below";var V;e[91]!==j||e[92]!==R||e[93]!==r||e[94]!==s||e[95]!==A||e[96]!==u||e[97]!==Ba?(V=function(a,b,c){return Ba(r,s,u,a,b,A,c,j,R)},e[91]=j,e[92]=R,e[93]=r,e[94]=s,e[95]=A,e[96]=u,e[97]=Ba,e[98]=V):V=e[98];var W;e[99]!==ya||e[100]!==p?(W=function(a){if(ya)return null;var b=a.hotEmojiSize;if(p){if(a.replySnippet!=="You reacted to their story"&&a.replySnippet!=="Reacted to your story")return m.jsx(c("IGDChatEmoji.react"),{text:a.text})}else return b!=null&&(l||(l=d("I64"))).gt(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").NONE))?m.jsx(c("IGDHotlikeEmoji.react"),{}):m.jsx(c("IGDChatEmoji.react"),{text:a.text})},e[99]=ya,e[100]=p,e[101]=W):W=e[101];var X;e[102]!==p?(X=function(a,b,e,f,g){return m.jsx(c("IGDChatBubble.react"),{connectBottom:e,connectTop:b,outgoing:g,precedesXMA:f,children:m.jsx(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:p,children:m.jsx(c("IGDMessageListText.react"),{isSecureMessage:p,message:a,outgoing:g,precedesXMA:f})})})},e[102]=p,e[103]=X):X=e[103];var Y;e[104]!==r.messageId||e[105]!==r.offlineThreadingId?(Y=function(a,b){return m.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:r.messageId,optimisticMessageId:r.offlineThreadingId,xstyle:b,children:a})},e[104]=r.messageId,e[105]=r.offlineThreadingId,e[106]=Y):Y=e[106];var Z;e[107]!==E||e[108]!==n||e[109]!==Ca||e[110]!==q||e[111]!==r||e[112]!==A||e[113]!==v||e[114]!==sa?(Z=function(){return m.jsx(c("IGDMessageRowFooter.react"),{hasReactions:E,isGroupThread:n,message:r,outgoing:A,reactions:v,reactionsV2:sa,resetReactionTranslateStyle:q&&!Ca})},e[107]=E,e[108]=n,e[109]=Ca,e[110]=q,e[111]=r,e[112]=A,e[113]=v,e[114]=sa,e[115]=Z):Z=e[115];var $;e[116]!==R||e[117]!==A?($=function(){return m.jsx(c("IGDPlaceholderMessage.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:R,outgoing:A,unsupportedType:"unsupported_message"})},e[116]=R,e[117]=A,e[118]=$):$=e[118];var Ha=q||!(Ca&&d("IGDXMAAttachmentUtil").isEmojiReaction(r.text)),Ia;e[119]!==x||e[120]!==z||e[121]!==r||e[122]!==s||e[123]!==A||e[124]!==u||e[125]!==v||e[126]!==t||e[127]!==V||e[128]!==W||e[129]!==X||e[130]!==Y||e[131]!==Z||e[132]!==$||e[133]!==Ha?(Ia=m.jsx(c("MWPBaseMessage.react"),{attachmentRenderPosition:t,checkEmoticon:!1,id:r.messageId,isFirstMessageInGroup:x,isLastMessageInGroup:z,message:r,nextMessage:s,outgoing:A,prevMessage:u,reactions:v,renderAttachment:V,renderEmoji:W,renderMessageBubble:X,renderMessageContainer:Y,renderMessageFooter:Z,renderUnsupportedMessage:$,shouldRenderMessageContent:Ha}),e[119]=x,e[120]=z,e[121]=r,e[122]=s,e[123]=A,e[124]=u,e[125]=v,e[126]=t,e[127]=V,e[128]=W,e[129]=X,e[130]=Y,e[131]=Z,e[132]=$,e[133]=Ha,e[134]=Ia):Ia=e[134];e[135]!==H||e[136]!==Fa||e[137]!==Ga||e[138]!==K||e[139]!==Ia?(x=m.jsx(d("PolarisDoubleTappable").DoubleTappable,{ariaLabel:Fa,ariaLabelledBy:Ga,id:H,onDoubleClick:K,role:"button",children:Ia}),e[135]=H,e[136]=Fa,e[137]=Ga,e[138]=K,e[139]=Ia,e[140]=x):x=e[140];e[141]!==p||e[142]!==r||e[143]!==A||e[144]!==x?(t=m.jsx(c("IGDInstamadilloLockIcon.react"),{isSecure:p,message:r,outgoing:A,children:x}),e[141]=p,e[142]=r,e[143]=A,e[144]=x,e[145]=t):t=e[145];e[146]!==M[0]||e[147]!==za||e[148]!==L||e[149]!==O||e[150]!==r.botResponseId?(V=L||O?m.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:M[0],botResponseId:r.botResponseId,dialogResource:c("JSResourceForInteraction")("IGDMessageSearchPluginSourcesDialog.react").__setRef("IGDMessageRow.react"),flowInstanceId:za,isSearchSingleBubblePluginAttachment:O}):null,e[146]=M[0],e[147]=za,e[148]=L,e[149]=O,e[150]=r.botResponseId,e[151]=V):V=e[151];e[152]!==Ea||e[153]!==t||e[154]!==V?(W=m.jsxs(c("CometErrorBoundary.react"),{fallback:Ea,children:[t,V]}),e[152]=Ea,e[153]=t,e[154]=V,e[155]=W):W=e[155];e[156]!==w||e[157]!==E||e[158]!==r||e[159]!==A||e[160]!==a||e[161]!==P||e[162]!==Da||e[163]!==W?(X=m.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{handleMessageExpired:w,hasReactions:E,message:r,outgoing:A,renderGutterItem:a,renderMessageActions:P,renderProfile:Da,children:W}),e[156]=w,e[157]=E,e[158]=r,e[159]=A,e[160]=a,e[161]=P,e[162]=Da,e[163]=W,e[164]=X):X=e[164];e[165]!==z?(Y=z?m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:7}):null,e[165]=z,e[166]=Y):Y=e[166];e[167]!==B||e[168]!==D||e[169]!==o||e[170]!==r||e[171]!==xa||e[172]!==A||e[173]!==ua||e[174]!==y||e[175]!==C||e[176]!==ta||e[177]!==J||e[178]!==T||e[179]!==S||e[180]!==Q||e[181]!==U||e[182]!==I||e[183]!==X||e[184]!==Y?(Z=m.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:m.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:J,isDialogOpened:D,isFocused:B,isModal:o,message:r,messageDomID:xa,outgoing:A,setFocused:ua,setHovered:y,setIsDialogOpened:C,stopHoveringRef:ta,children:[T,S,Q,U,I,X,Y]})}),e[167]=B,e[168]=D,e[169]=o,e[170]=r,e[171]=xa,e[172]=A,e[173]=ua,e[174]=y,e[175]=C,e[176]=ta,e[177]=J,e[178]=T,e[179]=S,e[180]=Q,e[181]=U,e[182]=I,e[183]=X,e[184]=Y,e[185]=Z):Z=e[185];e[186]!==F||e[187]!==Z?($=m.jsxs(m.Fragment,{children:[F,Z]}),e[186]=F,e[187]=Z,e[188]=$):$=e[188];return $}function na(a){return m.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:a})}na.displayName=na.name+" [from "+f.id+"]";function oa(a,c){return b("cr:1388")==null?null:m.jsx(b("cr:1388"),{message:a,showDivider:c})}oa.displayName=oa.name+" [from "+f.id+"]";function pa(a){return h._(/*BTDS*/"Paid partnership")}function qa(a,b){return m.jsx(c("IGDForwardedContent.react"),{message:a,outgoing:b})}qa.displayName=qa.name+" [from "+f.id+"]";function ra(a,b,d,e,f,g,h,i,j){return m.jsx(c("IGDAttachment.react"),{connectBottom:f,connectTop:e,formatText:i,hasText:h,mediaRenderQpl:j,message:a,nextMessage:b,outgoing:g,prevMessage:d})}ra.displayName=ra.name+" [from "+f.id+"]";var o=["message","nextMessage","prevMessage","reactions","reactionsV2"];function a(a,b){return d("IGDEqualityUtils").shallowEqual(a,b,function(a,b,d){return o.includes(d)?c("deepEquals")(a,b):a===b})}e=aa(function(a){return m.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:a.message,children:m.jsx(n,babelHelpers["extends"]({},a))})},a);g["default"]=e}),226);
__d("IGDMessageSeenStatusLayout.react",["IGDSText.react","IGDThreadListNewMessageLoggingDataContext","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.children;a=a.extraLoggingData;var f=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),g;b[0]!==a||b[1]!==f?(g={eventName:"message_seen_status_rendered",extraData:a,flowInstanceId:f},b[0]=a,b[1]=f,b[2]=g):g=b[2];a=c("MessengerWebUXLogger").useImpressionLoggerRef(g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 x13a6bvl xvrgn94 x110972j xziim83"},b[3]=f):f=b[3];b[4]!==e?(g=i.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:e}),b[4]=e,b[5]=g):g=b[5];b[6]!==a||b[7]!==g?(e=i.jsx("div",babelHelpers["extends"]({},f,{ref:a,children:g})),b[6]=a,b[7]=g,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchMessageSeenCountStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchMessageSeenCount"),e.threadKey,e.messageId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchFailedLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","emptyFunction","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(2),e=d("MWLSThread").useThread(a,i);e=e!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(e);var f=c("useIGDBroadcastChannelLogger")(a);b[0]!==f?(a=function(){c("promiseDone")(f(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_FAILED_SHAPE))},b[0]=f,b[1]=a):a=b[1];b=a;return e?b:c("emptyFunction")}function i(a){return a.threadSubtype}g["default"]=a}),98);
__d("useIGDBroadcastChannelSeenCountFetchSuccessLogger",["IGDBroadcastChannelLoggingShapes","MWCMThreadTypes.react","MWLSThread","ReQL","promiseDone","react","useIGDBroadcastChannelLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useState;function a(a,b){var e=(h||(h=c("useReStore")))(),f=d("MWLSThread").useThread(a,function(a){return a.threadSubtype}),g=f!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(f),i=c("useIGDBroadcastChannelLogger")(a);f=k(!1);var l=f[0],m=f[1];j(function(){if(g&&!l)var f=d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a,b).subscribe(function(a,b){c("promiseDone")(i(d("IGDBroadcastChannelLoggingShapes").SEEN_COUNT_RESPONSE_FETCH_SUCCESSFUL_SHAPE)),f(),m(!0)})},[b,a,g,l,e,i])}g["default"]=a}),98);
__d("useMessageSeenCountNumber",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(7),e=(i||(i=c("useReStore")))(),g,j;b[0]!==e||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return a.messageId!=null?d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},j=[e,a.threadKey,a.messageId],b[0]=e,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g,b[4]=j):(g=b[3],j=b[4]);g=d("ReQLSuspense").useFirst(g,j,f.id+":21");b[5]!==g?(j=g!=null?(h||(h=d("I64"))).to_int32(g.seenCount):null,b[5]=g,b[6]=j):j=b[6];g=j;return g}g["default"]=a}),98);
__d("IGDMessageSeenStatusBroadcastChannel.react",["fbt","IGDMessageSeenStatusLayout.react","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelSeenCountFetchFailedLogger","useIGDBroadcastChannelSeenCountFetchSuccessLogger","useMessageSeenCountNumber","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect;function a(a){var b=d("react-compiler-runtime").c(13),e=a.message;a=a.thread;c("useIGDBroadcastChannelSeenCountFetchSuccessLogger")(a.threadKey,e.messageId);var g=c("useIGDBroadcastChannelSeenCountFetchFailedLogger")(a.threadKey),j=(i||(i=c("useReStore")))(),m;b[0]!==j||b[1]!==g||b[2]!==e.messageId||b[3]!==e.threadKey?(m=function(){c("promiseDone")(j.runInTransaction(function(a){return c("LSFetchMessageSeenCountStoredProcedure")(c("LSFactory")(a),{messageId:e.messageId,threadKey:e.threadKey})},"readwrite",void 0,void 0,f.id+":51"),c("emptyFunction"),g)},b[0]=j,b[1]=g,b[2]=e.messageId,b[3]=e.threadKey,b[4]=m):m=b[4];var n;b[5]!==j||b[6]!==g||b[7]!==e.messageId||b[8]!==e.threadKey||b[9]!==a.threadSubtype?(n=[j,g,e.messageId,e.threadKey,a.threadSubtype],b[5]=j,b[6]=g,b[7]=e.messageId,b[8]=e.threadKey,b[9]=a.threadSubtype,b[10]=n):n=b[10];l(m,n);a=c("useMessageSeenCountNumber")(e);b[11]!==a?(m=a!=null&&a!==0?k.jsx(c("IGDMessageSeenStatusLayout.react"),{children:h._(/*BTDS*/"Seen by {lastMessageSeenCount}",[h._param("lastMessageSeenCount",c("intlSummarizeNumber")(a))])}):null,b[11]=a,b[12]=m):m=b[12];return m}g["default"]=a}),226);
__d("useIGDSeenParticipantsAndContacts",["I64","MWPActor.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useMemo;function a(a,b){var c=d("react-compiler-runtime").c(4),e=d("MWPActor.react").useActor(),f;c[0]!==e||c[1]!==a||c[2]!==b?(f=Array.from(b.values()).filter(function(b){var c=b[0];b=b[1];return!(i||(i=d("I64"))).equal(b.id,e)?(i||(i=d("I64"))).ge(c.readActionTimestampMs,a.timestampMs):!1}),c[0]=e,c[1]=a,c[2]=b,c[3]=f):f=c[3];b=f;return b}g["default"]=a}),98);
__d("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE",["I64","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.threadKey,e=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useArray(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(b),d("ReQL").fromTableAscending(e.tables.contacts)).map(function(a){var b=a[0];a=a[1];return[(h||(h=d("I64"))).to_string(a.id),[b,a]]})},[e,b],f.id+":36");return new Map(a)}g["default"]=a}),98);
__d("IGDMessageSeenStatusGroup.react",["fbt","IGDMessageSeenStatusLayout.react","react","react-compiler-runtime","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(17),e=a.message;a=a.thread;a=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);e=c("useIGDSeenParticipantsAndContacts")(e,a);a=e.length;if(a===0)return null;var f=e[0];f=f[1];if(a===1){var g;b[0]!==f.name?(g=h._(/*BTDS*/"Seen by {name}",[h._param("name",f.name)]),b[0]=f.name,b[1]=g):g=b[1];var i;b[2]!==g?(i=j.jsx(c("IGDMessageSeenStatusLayout.react"),{children:g}),b[2]=g,b[3]=i):i=b[3];return i}g=e[1];i=g[1];if(a===2){b[4]!==f.name||b[5]!==i.name?(g=h._(/*BTDS*/"Seen by {firstUsername}, {secondUsername}",[h._param("firstUsername",f.name),h._param("secondUsername",i.name)]),b[4]=f.name,b[5]=i.name,b[6]=g):g=b[6];var k;b[7]!==g?(k=j.jsx(c("IGDMessageSeenStatusLayout.react"),{children:g}),b[7]=g,b[8]=k):k=b[8];return k}if(a>=3){b[9]!==e?(g=e.slice(2),b[9]=e,b[10]=g):g=b[10];b[11]!==f.name||b[12]!==g.length||b[13]!==i.name?(k=h._(/*BTDS*/"Seen by {firstUsername}, {secondUsername} + {remainingUserCount}",[h._param("firstUsername",f.name),h._param("secondUsername",i.name),h._param("remainingUserCount",g.length.toString())]),b[11]=f.name,b[12]=g.length,b[13]=i.name,b[14]=k):k=b[14];b[15]!==k?(a=j.jsx(c("IGDMessageSeenStatusLayout.react"),{children:k}),b[15]=k,b[16]=a):a=b[16];return a}return null}g["default"]=a}),226);
__d("useIGDRelativeTimeStamp",["fbt","ServerTime","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1e3*60,j=i*60;function k(a,b){return a+b>=d("ServerTime").getMillis()}function l(a,b){var c=new Date(d("ServerTime").getMillis());c.setDate(c.getDate()-b);b=new Date(a);if(c.getDay()===b.getDay()&&c.getMonth()===b.getMonth())return c.getFullYear()===b.getFullYear();else return!1}function a(a){var b=d("react-compiler-runtime").c(7);if(k(a,i)){var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"just now"),b[0]=c):c=b[0];return c}else if(k(a,i*59)){b[1]!==a?(c=h._(/*BTDS*/"{mins}m ago",[h._param("mins",Math.floor((d("ServerTime").getMillis()-a)/i).toString())]),b[1]=a,b[2]=c):c=b[2];return c}else if(k(a,j*23)){b[3]!==a?(c=h._(/*BTDS*/"{hours}h ago",[h._param("hours",Math.floor((d("ServerTime").getMillis()-a)/j).toString())]),b[3]=a,b[4]=c):c=b[4];return c}else if(l(a,0)){b[5]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"today"),b[5]=c):c=b[5];return c}else if(l(a,1)){b[6]===Symbol["for"]("react.memo_cache_sentinel")?(c=h._(/*BTDS*/"yesterday"),b[6]=c):c=b[6];return c}else return}g["default"]=a}),226);
__d("IGDMessageSeenStatusOneToOne.react",["fbt","I64","IGDMessageSeenStatusLayout.react","getInstamadilloLoggingExtraData","react","react-compiler-runtime","useIGDRelativeTimeStamp","useIGDSeenParticipantsAndContacts","useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function l(a){var b=d("react-compiler-runtime").c(5),e=a.extraLoggingData;a=a.participant;var f;b[0]!==a.readWatermarkTimestampMs?(f=(j||(j=d("I64"))).to_float(a.readWatermarkTimestampMs),b[0]=a.readWatermarkTimestampMs,b[1]=f):f=b[1];a=c("useIGDRelativeTimeStamp")(f);b[2]!==e||b[3]!==a?(f=a!=null?k.jsx(c("IGDMessageSeenStatusLayout.react"),{extraLoggingData:e,children:h._(/*BTDS*/"Seen {timestamp}",[h._param("timestamp",a)])}):k.jsx(c("IGDMessageSeenStatusLayout.react"),{extraLoggingData:e,children:h._(/*BTDS*/"Seen")}),b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}function a(a){var b=d("react-compiler-runtime").c(5),e=a.message;a=a.thread;var f=c("useMWPMessageListParticipantsMap_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE")(a);e=c("useIGDSeenParticipantsAndContacts")(e,f);b[0]!==a?(f=c("getInstamadilloLoggingExtraData")(a),b[0]=a,b[1]=f):f=b[1];a=f;if(e.length>0){f=e[0];e=f[0];b[2]!==a||b[3]!==e?(f=k.jsx(l,{extraLoggingData:a,participant:e}),b[2]=a,b[3]=e,b[4]=f):f=b[4];return f}else return null}g["default"]=a}),226);
__d("IGDMessageSeenStatus.react",["I64","IGDMessageSeenStatusBroadcastChannel.react","IGDMessageSeenStatusGroup.react","IGDMessageSeenStatusOneToOne.react","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWPActor.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.message;a=a.thread;var f=d("MWPActor.react").useActor();f=(i||(i=d("I64"))).equal(e.sendStatusV2,(j||(j=d("LSIntEnum"))).ofNumber(2))&&(i||(i=d("I64"))).equal(e.senderId,f);if(f){if(a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype)){b[0]!==e||b[1]!==a?(f=k.jsx(c("IGDMessageSeenStatusBroadcastChannel.react"),{message:e,thread:a}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)){b[3]!==e||b[4]!==a?(f=k.jsx(c("IGDMessageSeenStatusGroup.react"),{message:e,thread:a}),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}b[6]!==e||b[7]!==a?(f=k.jsx(c("IGDMessageSeenStatusOneToOne.react"),{message:e,thread:a}),b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}else return null}g["default"]=a}),98);
__d("MWChatTypingIndicator.react",["MessengerWebUXLogger","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dot:{alignItems:"x6s0dn4",animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"xwnhzmj",animationTimingFunction:"x4hg4is",backgroundColor:"x1iuwi03",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",display:"x78zum5",height:"xqu0tyb",marginInlineStart:"xm2jcoa",marginInlineEnd:"x1mpyi22",marginLeft:null,marginRight:null,width:"x51ohtg",$$css:!0},dot1:{animationDelay:"x1t83zlg",$$css:!0},dot1Opacity:{animationDelay:"x1uzojwf",$$css:!0},dot2:{animationDelay:"x1x1c4bx",$$css:!0},dot2Opacity:{animationDelay:"xfjzax6",$$css:!0},dot3:{animationDelay:"x1xwhvez",$$css:!0},dot3Opacity:{animationDelay:"x1la68h3",$$css:!0},dotOpacity:{animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"x1bcwpiy",animationTimingFunction:"x4hg4is",opacity:"x1hc1fzr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1ta3ar0",$$css:!0}};function a(a){var b;a=a.threadType;a=c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"show_typing_indicators",threadType:a});return i.jsxs((b=d("react-strict-dom")).html.div,{ref:a,style:j.root,children:[i.jsx(b.html.div,{style:[j.dotOpacity,j.dot1Opacity],children:i.jsx(b.html.div,{style:[j.dot,j.dot1]})}),i.jsx(b.html.div,{style:[j.dotOpacity,j.dot2Opacity],children:i.jsx(b.html.div,{style:[j.dot,j.dot2]})}),i.jsx(b.html.div,{style:[j.dotOpacity,j.dot3Opacity],children:i.jsx(b.html.div,{style:[j.dot,j.dot3]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIGDTypingIndicatorSender",["IGDTypingIndicatorContext","IGDTypingIndicatorUtils","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useContext;function a(a){var b=d("react-compiler-runtime").c(12),e=j(c("IGDTypingIndicatorContext")),g=(h||(h=c("useReStore")))();if(b[0]!==a||b[1]!==e.typingEvents){var i;b[3]!==a?(i=function(b){return d("IGDTypingIndicatorUtils").hasTypingOnThread(b,a)},b[3]=a,b[4]=i):i=b[4];i=e.typingEvents.filter(i).map(k);b[0]=a;b[1]=e.typingEvents;b[2]=i}else i=b[2];var l=i[0];b[5]!==g.tables.contacts||b[6]!==l?(e=function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(l)},i=[g.tables.contacts,l],b[5]=g.tables.contacts,b[6]=l,b[7]=e,b[8]=i):(e=b[7],i=b[8]);e=d("ReQLSuspense").useFirst(e,i,f.id+":33");i=(i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.participants,["nickname"]).getKeyRange(a,l)},[l,g.tables.participants,a],f.id+":38"))==null?void 0:i.nickname;var m=e==null?void 0:e.name;i=i!=null&&m!=null?i+" ("+m+")":m;b[9]!==e||b[10]!==i?(m={contact:e,nameTooltipLabel:i},b[9]=e,b[10]=i,b[11]=m):m=b[11];return m}function k(a){return a.senderId}g["default"]=a}),98);
__d("IGDTypingIndicatorFooter.react",["FDSProfilePhoto.react","IGDFallbackProfileUrl","MWChatTypingIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","MWXMessageBubble.react","MWXTooltip.react","MessengerWebUXLogger","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useIGDTypingIndicatorSender"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=28;function a(a){var b=d("react-compiler-runtime").c(19),e=a.threadKey;a=a.threadType;var f;b[0]!==e||b[1]!==a?(f={eventName:"message_list_typing_indicator",threadKey:e,threadType:a},b[0]=e,b[1]=a,b[2]=f):f=b[2];f=c("MessengerWebUXLogger").useImpressionLoggerRef(f);e=c("useIGDTypingIndicatorSender")(e);var g=e.contact;e=e.nameTooltipLabel;var h;b[3]!==g?(h=g!=null?c("getLSMediaContactProfilePictureUrl")(g):d("IGDFallbackProfileUrl").FALLBACK_PROFILE_PIC_URL,b[3]=g,b[4]=h):h=b[4];g=h;b[5]!==g?(h=i.jsx(c("FDSProfilePhoto.react"),{size:j,source:{uri:g}}),b[5]=g,b[6]=h):h=b[6];g=h;if(e!=null){b[7]!==e||b[8]!==g?(h=i.jsx(c("MWXTooltip.react"),{align:"middle",position:"start",tooltip:e,children:g}),b[7]=e,b[8]=g,b[9]=h):h=b[9];g=h}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xuk3077 x78zum5 x2lah0s xjkvuk6 xmzvs34 x1nn3v0j"},b[10]=e):e=b[10];b[11]!==g?(h=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnSelfCentered,{paint:!0,profile:!0,children:g}),b[11]=g,b[12]=h):h=b[12];b[13]!==a?(g=i.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,isBackgroundTransparent:!1,precedesXMA:!1,children:i.jsx(c("MWChatTypingIndicator.react"),{threadType:a})}),b[13]=a,b[14]=g):g=b[14];b[15]!==f||b[16]!==h||b[17]!==g?(a=i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsxs("div",babelHelpers["extends"]({"aria-hidden":!0},e,{ref:f,children:[h,g]}))}),b[15]=f,b[16]=h,b[17]=g,b[18]=a):a=b[18];return a}g["default"]=a}),98);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var b=a.delayMs;a=a.vcIgnore;var d=c("useIsMountedRef")();b=c("useDebouncedState")(function(){return!0},{debounceMS:b,doNotDebounce:!b});var e=b[0],f=b[1];b=j(function(){return{onHidden:function(){d.current&&f(!1)},onVisible:function(){d.current&&f(!0)}}},[d,f]);b=c("useVisibilityObserver")(b);return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",ref:b,role:"row"},a===!0?c("CometVisualCompletionAttributes").IGNORE:{},{children:i.jsx("div",{role:"cell",children:e?i.jsx(c("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}):i.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWFetchMoreMessagesWhenEnabled",["cr:1501","cr:7005"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:7005"))!=null?a:b("cr:1501");d=c;g["default"]=d}),98);
__d("MWPFetchMessagesPage",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","asyncToGeneratorRuntime","gkx","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,g,i,j,k,l,m){return a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b,f;b=(yield (b=a.messages_ranges_v2__generated).get.apply(b,i));if(b==null||(g==="before"?b.isLoadingBefore:b.isLoadingAfter))return;f=k==null?null:yield (f=a.messages_ranges_v2__generated).get.apply(f,k);if(k!=null&&(f==null||(g==="before"?f.isLoadingBefore:f.isLoadingAfter)))return;if(g==="before")if(f==null||b.hasMoreBefore){var n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(j);if(n){if(m!=null)return m(a,b.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(l));if(n){if(m!=null)return m(a,f.threadKey,"before",e)}else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:f.minTimestampMs,threadKey:f.threadKey})}else if(f==null||b.hasMoreAfter){n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(j);if(n)if(c("gkx")("23927")){if(m!=null)return m(a,b.threadKey,"after",e)}else throw c("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})}else{n=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(l));if(n)if(c("gkx")("23927")){if(m!=null)return m(a,f.threadKey,"after",e)}else throw c("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:f.minTimestampMs,threadKey:f.threadKey})}});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":40")}g["default"]=a}),98);
__d("MWPFetchMessagesThreadLocks",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=(h||(h=d("I64"))).to_string(b);return{lock:{after:function(){var b=f();b.after===!0&&c("FBLogger")("messenger_web").mustfix("Locking threadLockStatus twice");b.after=!0;a.set(e,b)},before:function(){var b=f();b.before===!0&&c("FBLogger")("messenger_web").mustfix("Locking threadLockStatus twice");b.before=!0;a.set(e,b)}},release:{after:function(){var b=f();b.after=!1;a.set(e,b)},before:function(){var b=f();b.before=!1;a.set(e,b)}},state:f()};function f(){var b=a.get(e);b==null&&(b={after:!1,before:!1},a.set(e,b));return b}}g.localThreadStatus=a}),98);
__d("MWPFetchMessagesPageV2",["FBLogger","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","MWPFetchMessagesThreadLocks","asyncToGeneratorRuntime","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,d,e,f,g,h,j){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j,k){var m,o;m=(yield (m=a.tables.messages_ranges_v2__generated).get.apply(m,f));if(m==null)return;o=h&&(yield (o=a.tables.messages_ranges_v2__generated).get.apply(o,h));if(o==null&&h!=null)return;h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g);var p=i!=null?d("LSMessagingThreadTypeUtil").isArmadilloSecure(i):!1;if(e==="before")if(m.hasMoreBefore)if(h)return l(a,b,e,m,j,g,k);else return n(a,f,m.threadKey,e);else if(o!=null)if(p)return l(a,b,e,o,j,g,k);else return n(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e);else return;else{e;if(m.hasMoreAfter)if(h)throw c("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return n(a,f,m.threadKey,e);else if(o!=null){p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(c("nullthrows")(i));if(p)throw c("FBLogger")("messenger_web").mustfix("Not possible to fetch more after for secure messages");else return n(a,[o.threadKey,o.minTimestampMs,o.minMessageId],o.threadKey,e)}else return}});return i.apply(this,arguments)}var j=new Map(),k=new Map();function l(a,b,c,d,e,f,g){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e,f,g,h){var i=d("MWPFetchMessagesThreadLocks").localThreadStatus(j,e.threadKey);if(i.state[c])return;try{i.lock[c]();var k=(yield a.tables.messages.index("messageId").get(e.minMessageId));return yield f.fetchSecureMessagesProtocol(a,e.threadKey,g,k==null?void 0:k.primarySortKey,e,c,b,"user",h)}finally{i.release[c]()}});return m.apply(this,arguments)}function n(a,b,c,d){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,i){g=d("MWPFetchMessagesThreadLocks").localThreadStatus(k,g);if(g.state[i])return;try{g.lock[i]();return yield a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b;b=(yield (b=a.messages_ranges_v2__generated).get.apply(b,e));if(!b)return;if(b.isLoadingBefore&&i==="before")return;if(b.isLoadingAfter&&i==="after")return;return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(h||(h=d("LSIntEnum"))).ofNumber(i==="before"?c("LSMailboxMessagesRangeQueryDirection").BEFORE:c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:b.minTimestampMs,threadKey:b.threadKey})});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":209")}finally{g.release[i]()}});return o.apply(this,arguments)}g["default"]=a}),98);
__d("MWPFetchMessagesRangeForMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e,g){return a.runInTransaction(function(a){var f=(h||(h=d("I64"))).to_int32(g);(f===15||f===16)&&c("FBLogger")("occam").mustfix("MWPFetchMessagesRangeForMessage: incorrect call to MPQ with secure mailbox");return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:e,threadKey:b,threadType:g})},"readwrite","ui",void 0,f.id+":28")}g["default"]=a}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useMemo,l=b.useState;function a(a){var b=a.children,c=a.visible;a=l(c);var d=a[0],e=a[1];j(function(){c&&e(!0)},[c,e]);return k(function(){return d?i.jsx("div",babelHelpers["extends"]({className:"xqtp20y x1n2onr6 xh8yej3"},{children:i.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j4bph1 xk9af5f"},1:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j49z95 x1dufm33"}}[!!c<<0],{onAnimationEnd:function(a){c||e(!1)},children:b}))})):null},[c,d,e,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWScrollUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a.scrollIntoView()}f.scrollElementIntoView=a}),66);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticMarkThreadReadV2"),e.threadKey,e.readWatermarkTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=(i||(i=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(b)},[a,b],f.id+":23");if(e==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;e=e.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(e.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return e===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,function(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)});var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["FBLogger","I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","cr:2580","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(a,e){var g,j=(h||(h=c("useReStore")))(),l=(g=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?g:e;if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Tried to get a thread key when there was none");var m=c("MessengerWebUXLogger").useInteractionLogger();return k(function(){m==null||m({eventName:"mark_thread_as_read"}),c("promiseDone")(j.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(l)));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((i||(i=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:l,threadType:f},"seen_receipt",a);h=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:h,threadKey:l})}});return function(a){return e.apply(this,arguments)}}(),"readwrite",void 0,void 0,f.id+":54"))},[m,j,l,a])}g["default"]=a}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSContactUtils","LSIntEnum","MAWContactRelationshipType","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","MessagingFolderTag","Promise","WAJobOrchestratorTypes","promiseDone","useMWGetOtherUserContact","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a,e){var f=(k||(k=c("useReStore")))(),g=c("useMWLSMarkThreadAsRead")(e,a.threadKey),l=c("useMWIsReadReceiptsDisabledForThread")(a.threadKey),m=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,["capabilities","capabilities2","contactViewerRelationship","blockedByViewerStatus"]);return d("Int64Hooks").useCallbackInt64(function(){if((i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){g();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(f.tables,a.threadKey,"useMAWMarkThreadAsRead",function(e,f){return a.folderName===c("MessagingFolderTag").SPAM||a.folderName===c("MessagingFolderTag").PENDING?(h||(h=b("Promise"))).resolve():d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(f,m&&d("MAWContactRelationshipType").getContactRelationshipType(m),m?d("LSContactUtils").isContactBlocked(m):!1,m?d("LSContactUtils").isContactRestricted(m):!1,l,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},[a.folderName,a.authorityLevel,a.threadKey,g,f,m,l])}g["default"]=a}),98);
__d("ReQLObservable",["SortedAsyncIterable","applyChangesToBPlusTree","asyncToGeneratorRuntime","createBPlusTreeFromSorted","isPromise","promiseDone","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){return d("relay-runtime").Observable.create(function(f){var g=e(a),i=function(a){if(f.closed)return;f.next(a)},j,k=[],l=g.subscribe(function(a,b){k.push([a,b])}),m=a.subscribeToCommit(function(){if(f.closed)return;if(j!=null&&k.length>0){var a=j;c("applyChangesToBPlusTree")(a,k)&&i(Array.from(a.entries()))}}),n=g.iterator(d("SortedAsyncIterable").getOrCreateContext(g)),o=[];c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){while(!f.closed){var a=n.next();(h||(h=c("isPromise")))(a)&&(a=(yield a));if(a.done)break;o.push(a.value)}if(f.closed)return;a=j=c("createBPlusTreeFromSorted")(o,g.direction);i(c("applyChangesToBPlusTree")(a,k)?Array.from(a.entries()):o)})());return function(){l(),m()}})}g.create=a}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","ReQLObservable","UserActivity","asyncToGeneratorRuntime","cr:268","promiseDone","useAsyncReStore","useEmptyFunction","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(e=b("cr:268"))!=null?e:c("useEmptyFunction");function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b)));if(g==null)return!1;a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b)));if(a==null)return!1;b=f!==void 0?f==="ChatTab"?e:!0:!0;f=(i||(i=d("I64"))).gt(g.timestampMs,a.lastActivityTimestampMs)?g.timestampMs:a.lastActivityTimestampMs;e=(i||(i=d("I64"))).gt(f,a.lastReadWatermarkTimestampMs);return c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&b&&e});return l.apply(this,arguments)}function m(a,e){var f=c("useAsyncReStore")(),g=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield f);if(yield k(b,a,g,h))return e()})())},[f,a,g,h,e])}function n(a,e,f,g){var i=(h||(h=c("useReStore")))();d("Int64Hooks").useEffectInt64(function(){var c=function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=a();typeof b!=="boolean"&&(b=(yield b));if(b&&!e())return f()});return function(){return c.apply(this,arguments)}}();window.addEventListener("focus",c);document.hasFocus()&&void c();var h=d("ReQLObservable").create(i,function(){return d("ReQL").fromTableDescending(i.tables.messages).getKeyRange(g)}).subscribe({next:c});return function(){window.removeEventListener("focus",c),h.unsubscribe()}},[f,a,e,g,i])}function a(a,b,c,d){b=m(a.threadKey,b);j(a);n(c,d,b,a.threadKey);return b}g["default"]=a}),98);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:886","promiseDone","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,g,j){var k=(i||(i=c("useReStore")))(),l=a.consistentThreadFbid,m=a.threadKey,n=a.threadType,o=c("useMAWMarkThreadAsRead")(a),p=b("cr:886")({consistentThreadFbid:l,entryPoint:j,threadKey:m,threadType:n});l=d("Int64Hooks").useCallbackInt64(function(){p==null||p();if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(n)){o();return}c("promiseDone")(k.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(a),{readWatermarkTimestampMs:(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()),threadKey:m})},"readwrite","ui",void 0,f.id+":62"))},[k,p,o,m,n]);return c("useMWMarkThreadAsReadWhenNewMessagesArrive")(a,l,e,g)}g["default"]=a}),98);
__d("useMWPMessageListScroll",["MWPVisibleMessageContext.react","MWScrollUtils","Promise","react","requestAnimationFrame","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.createRef,k=e.useCallback,l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o=e.useState;function p(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function a(a,e,f,g,i,q,r,s,t,u){var v=n(null),w=n(!1),x=k(function(){if(!u)return;if(q==null||w.current)return;q(!1);w.current=!0},[q,u]);l(function(){var a;if(q==null||w.current)return;if(g!=null&&!g.hasMoreBefore){q(!0);w.current=!0;return}i&&i((a=(a=v.current)==null?void 0:a.getScrollerMeasurements())!=null?a:void 0,g===f);a=(a=v.current)==null?void 0:a.doesContentFillScroll;if(a==null)return;if(a()){q(!1);w.current=!0;return}},[q,g,i,f]);var y=o(!0),z=y[0],A=y[1],B=(g==null?void 0:g.hasMoreAfter)===!1;y=k(function(){return new(h||(h=b("Promise")))(function(a){var b=v.current;b==null?a(!1):c("requestAnimationFrame")(function(){a(b.isAtBottom()&&B)})})},[B]);var C=c("useMWPSafelyMarkThreadAsRead")(t,y,a,e);l(function(){var b;b=(b=v.current)==null?void 0:b.onCloseToBottom;if(b!=null)return b(0,function(b){b&&!a()&&C()})},[C,a]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null&&r!=null)return a(36,r)},[r]);l(function(){var a;a=(a=v.current)==null?void 0:a.onCloseToBottom;if(a!=null)return a(600,A)},[f==null?void 0:f.minMessageId]);var D=n(new Map());t=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var E=t.setVisibleMessage;y=t.visibleMessage;var F=y==null?void 0:y.messageId;e=k(function(a){return p(D.current,a,j)},[]);l(function(){var a;if(F==null)return;a=(a=D.current.get(F))==null?void 0:a.current;a!=null&&d("MWScrollUtils").scrollElementIntoView(a)},[F]);var G=k(function(){g===f&&(v.current!=null&&v.current.scrollToBottom()),E(function(){return void 0})},[f,g,E]);m(s,function(){return{getScrollAreaElement:function(){var a;return(a=v.current)==null?void 0:a.getScrollAreaElement()},jumpToMostRecentMessage:function(){G()},restoreScrollPosition:function(){var a;return(a=v.current)==null?void 0:a.restoreScrollPosition()}}},[G]);return[z,v,G,e,x]}g["default"]=a}),98);
__d("useShallowEqualState",["react","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){a=j(a);var b=a[0],d=a[1];a=i(function(a){if(typeof a==="function"){var b=a;return d(function(a){var d=b(a);return c("shallowEqual")(a,d)?a:d})}return d(function(b){return c("shallowEqual")(b,a)?b:a})},[]);return[b,a]}g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","FBLogger","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","LSMessagingThreadTypeUtil","MAWFetchMoreMessagesWhenEnabled","MAWStateContext.react","MWPFetchMessagesPage","MWPFetchMessagesPageV2","MWPFetchMessagesRangeForMessage","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.react","MWPVisibleMessageContext.react","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","emptyFunction","gkx","justknobx","promiseDone","react","useMWPMessageListScroll","useReStore","useShallowEqualState"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));e=i;var m=e.startTransition,n=e.useCallback,aa=e.useContext;function a(){return void 0}var ba=(e=c("MAWFetchMoreMessagesWhenEnabled")==null?void 0:c("MAWFetchMoreMessagesWhenEnabled").useSecureDataStorage)!=null?e:a,o={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",isolation:"xc8icb0",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0},spacer:{backgroundColor:"x1eb86dx",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},p=(k||(k=d("I64"))).of_string("9999999999999");function q(a){var b=a.isCollapsed,c=a.messageId,e=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(e,a,c,b)}function ca(a,b){if(a==null||b==null)return;return(k||(k=d("I64"))).compare(b,a.maxTimestampMs)<=0?a:null}function r(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.minTimestampMs,(k||(k=d("I64"))).zero)?d("ReQL").empty():d("ReQL").fromTableAscending(b.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)})},[b,a],f.id+":147")}function da(a){var b=(h||(h=c("useReStore")))();return d("ReQLSuspense").useFirst(function(){return a==null||(k||(k=d("I64"))).equal(a.maxTimestampMs,p)?d("ReQL").empty():d("ReQL").fromTableDescending(b.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey","timestampMs"]).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)})},[b,a],f.id+":173")}function b(a){var b=a.callingSurface,e=a.checkIsThreadManuallySetAsUnread;e=e===void 0?c("emptyFunction").thatReturnsFalse:e;var g=a.entryPoint,i=a.headerStyle,ea=a.isSufficientContentLoadedAbove,s=a.logScrollerMetadata,t=a.onInitialLoadingCompleted;a.onPageLoaded;var u=a.onScrollToBottom,fa=a.onUserScroll,v=a.pageSize,w=a.ref,ga=a.renderFooter,x=a.renderHeader,y=a.renderHeaderContentSpacer,z=a.renderJumpToMostRecentMessageButton,A=a.renderLoadingAnimation,B=a.renderRow,C=a.secondaryThread,D=a.setScrollTopInResetForBottomAnchor;D=D===void 0?!0:D;a.shouldPausePageLoadTracking;var E=a.thread;a=a.triggerRenderingCompleteOnResize;a=a===void 0?!1:a;var F=E.threadKey,G=E.threadType,H=C==null?void 0:C.threadKey,I=C==null?void 0:C.threadType,J=(h||(h=c("useReStore")))(),K=aa(d("MAWStateContext.react").MAWDispatchContext),L=ba(),M=d("Int64Hooks").useCallbackInt64(function(a,b,d){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")}),c("gkx")("239")&&L!=null?c("promiseDone")(c("MWPFetchMessagesPageV2")(J,v,d,a,G,b,I,L,K).then(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")})})):c("promiseDone")(c("MWPFetchMessagesPage")(J,v,d,a,G,b,I,function(){c("FBLogger")("messenger_web").mustfix("Secure message fetching used in open thread");return Promise.resolve()}).then(function(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")})}))},[L,J,v,G,I,K]),ha=d("Int64Hooks").useCallbackInt64(function(a){c("promiseDone")(c("MWPFetchMessagesRangeForMessage")(J,F,a,G))},[J,F,G]),N=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(J.tables.messages_ranges_v2__generated).getKeyRange(F)},[J,F],f.id+":338"),O=d("ReQLSuspense").useFirst(function(){return H==null?d("ReQL").empty():d("ReQL").fromTableDescending(J.tables.messages_ranges_v2__generated).getKeyRange(H)},[J,H],f.id+":345"),P=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();P=P.visibleMessage;var Q=P==null?void 0:P.messageId,R=P==null?void 0:P.timestamp,S=d("ReQLSuspense").useFirst(function(){return Q!=null&&R!=null?d("ReQL").fromTableAscending(J.tables.messages,["isCollapsed","messageId","primarySortKey","secondarySortKey"]).getKeyRange(F,R,Q):d("ReQL").empty()},[J,F,Q,R],f.id+":360"),T=ca(d("ReQLSuspense").useFirst(function(){return R!=null?d("ReQL").fromTableDescending(J.tables.messages_ranges_v2__generated).getKeyRange(F).bounds({lte:[R]}):d("ReQL").empty()},[J,R,F],f.id+":373"),R);P=c("useShallowEqualState")({displayMessage:void 0,displayMessagesRange:N});var U=P[0],ia=P[1],V=n(function(a){return m(function(){return ia(a)})},[ia,m]);P=U.displayMessage;U=U.displayMessagesRange;d("Int64Hooks").useEffectInt64(function(){Q==null||R==null?V(function(a){return babelHelpers.extends({},a,{displayMessage:void 0,displayMessagesRange:N})}):T==null?ha(Q):T.minMessageId===Q&&T.hasMoreBefore?M(d("ReQL").key(T.threadKey,T.minTimestampMs,T.minMessageId),null,"before"):T.maxMessageId===Q&&T.hasMoreAfter?M(d("ReQL").key(T.threadKey,T.minTimestampMs,T.minMessageId),null,"after"):S!=null&&V(function(a){return babelHelpers.extends({},a,{displayMessage:S,displayMessagesRange:T})})},[N,M,ha,V,S,Q,R,T]);var W=r(U),X=da(U),ja=r(O);e=c("useMWPMessageListScroll")(e,g,N,U,s,t,u,w,E,a);g=e[0];var Y=e[1];s=e[2];var ka=e[3];t=e[4];u=d("Int64Hooks").useMemoInt64(function(){var a=J.tables.messages.index("messageDisplayOrder"),b=d("LSMessagingThreadTypeUtil").isCMSubthread(G),e=J.tables.messages.index("messageSubthreadKey");function f(a,b){var e=a.getKeyRange(F).filter(function(a){var b=a.isCollapsed;a=a.messageRenderingType;return!b&&!(k||(k=d("I64"))).equal(a,(k||(k=d("I64"))).of_int32(c("LSMessageRenderingType").HIDDEN))});return H==null?b!=null?d("ReQL").union(d("ReQL").prependKey(b.getKeyRange(F),0),d("ReQL").prependKey(e,1)):d("ReQL").prependKey(e,1):d("ReQL").union(d("ReQL").prependKey(a.getKeyRange(H).filter(function(a){a=a.isCollapsed;return!a}),0),d("ReQL").prependKey(e,1))}var g=f(d("ReQL").fromTableAscending(a),b?d("ReQL").fromTableAscending(e):void 0);f=f(d("ReQL").fromTableDescending(a),b?d("ReQL").fromTableDescending(e):void 0);return d("ReQLPaginatedList.shared").fromIterables(g,f)},[J,H,F,G]);w=U!=null&&(k||(k=d("I64"))).equal(U.maxTimestampMs,p);a=U!=null&&(k||(k=d("I64"))).equal(U.minTimestampMs,(k||(k=d("I64"))).zero);e=O!=null&&(k||(k=d("I64"))).equal(O.minTimestampMs,(k||(k=d("I64"))).zero);var la=b!=null?b:"thread_view";b=n(function(a,b,e){var f=b.nextItem;b=b.previousItem;return l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:la,disableHiding:!0,scrollport:function(){var a;return(a=Y.current)==null?void 0:a.getScrollAreaElement()},unmountXStyle:o.backgroundColor,children:l.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:a.senderId,threadKey:a.threadKey,children:B({domElementRef:ka(a.messageId),message:a,nextMessage:f,prevMessage:b,rowIndexFromBottom:e})})},a.offlineThreadingId)},[ka,B,la,Y]);var Z=(k||(k=d("I64"))).equal(E.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(E.threadType);if((U==null||W==null&&!a||X==null&&!w)&&!Z){if((k||(k=d("I64"))).equal(E.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return l.jsxs(l.Fragment,{children:[l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticThread",hold:!0}),x!=null?x():null]});E=U==null?"displayMessagesRangeNull":W==null&&!a?"noMinMessage":X==null&&!w?"noMaxMessage":"other";return l.jsxs(l.Fragment,{children:[l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-"+E,hold:!0}),A!=null?A(!1):null]})}var $=!Z&&U!=null?d("ReQL").key(U.threadKey,U.minTimestampMs,U.minMessageId):null,ma=O==null?null:d("ReQL").key(O.threadKey,O.minTimestampMs,O.minMessageId);a=P==null?"bottom":[1].concat(q(P));w=W==null?ja==null||e?null:[0].concat(q(ja)):[1].concat(q(W));E=X==null?null:[1].concat(q(X));return l.jsxs(c("Box.react"),{xstyle:o.list,children:[l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:w,lte:E},data:u,hasReachedBottom:!Z&&U!=null?!U.hasMoreAfter:!0,hasReachedTop:!Z&&U!=null?O==null?!(U.hasMoreBefore||C!=null):!(U.hasMoreBefore||O.hasMoreBefore):!0,headerStyle:i,imperativeRef:Y,initialAnchor:a,initialRenderComplete:t,isSufficientContentLoadedAbove:ea,onReachingBottom:!Z&&$!=null?function(){M($,ma,"after")}:c("emptyFunction"),onReachingTop:!Z&&$!=null?function(){M($,ma,"before")}:c("emptyFunction"),onUserScroll:fa,pageSize:v,renderFooter:ga,renderHeader:x,renderHeaderContentSpacer:y!=null?y:function(){return l.jsx(c("Box.react"),{xstyle:o.spacer})},renderItem:b,renderLoadingAnimation:function(a,b){a=a==="onTop"&&b>c("justknobx")._("2674");return l.jsxs(l.Fragment,{children:[A==null?void 0:A(a),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems(Relay)",hold:!a})]})},setScrollTopInResetForBottomAnchor:D,xstyle:o.list})}),z&&l.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!Z&&U!=null?!g||U.hasMoreAfter:!1,children:z(s)})]})}b.displayName=b.name+" [from "+f.id+"]";g.default=b}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function l(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.hasMessages,g=f===void 0?!0:f;f=a.modal;var h=a.onNavigate,m=h===void 0?c("emptyFunction"):h;h=a.setModal;var n=a.wrapX;n=n===void 0?!1:n;a=a.wrapY;a=a===void 0?!1:a;var o=j(function(a){m(a);var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=b==="PAGE_DOWN";a.preventDefault();var c=a.currentRowIndex+(b?1:-1)|0,d=!1;while(!d){var e=a.getCell(c,a.currentCellIndex);if(e==null){var f=a.getCell(b?c-1|0:0,a.currentCellIndex);f!=null&&a.focusCell(f);d=!0}else{f=e.scopeRef.current;f=f!=null?f.DO_NOT_USE_queryFirstNode(l):null;f==null?c=b?c+1|0:c-1|0:(a.focusCell(e),d=!0)}}},[]),p=k(function(){return g?i.jsx("div",babelHelpers["extends"]({"aria-label":b},{className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},{role:"grid",children:e})):i.jsx("div",babelHelpers["extends"]({className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},{children:e}))},[b,e,g]);return i.jsx(d("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{modal:f,setModal:h,children:i.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:i.jsx(d("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:o,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:n,wrapY:a,children:p})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageActionsVisibility.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(){return i(function(){})}g.useStopHoveringRef=a}),98);
__d("useForwardedRef",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useRef;function a(a){var b=j(null),c=i(function(c){typeof a==="function"?a(c):a&&(a.current=c),b.current=c},[a]);return[b,c]}g["default"]=a}),98);
__d("useHandleDoubleClickToLike",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWEditMessageContext.react","MWChatReactionsUtils","MWPActor.react","ReQL","asyncToGeneratorRuntime","promiseDone","react","react-compiler-runtime","useAsyncReStore","useIGDGlobalReactMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");e.useCallback;var k=e.useContext;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e!=null&&f!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(f)){e=(yield (f=d("ReQL")).firstAsync(f.leftJoin(f.fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,b)}),f.fromTableAscending(a.tables.contacts,["blockedByViewerStatus"])).map(function(a){a[0];a=a[1];return a})));if(e!=null)return!(i||(i=d("I64"))).equal(e.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}return!1});return m.apply(this,arguments)}function a(a){var e=d("react-compiler-runtime").c(6),f=c("useAsyncReStore")(),g=d("MWPActor.react").useActor(),h=a.threadKey,i=c("useIGDGlobalReactMessage")(a,"reaction_tray");a=k(d("MAWEditMessageContext.react").Context);a=a.editMessageData;var j=a!=null;e[0]!==g||e[1]!==f||e[2]!==j||e[3]!==i||e[4]!==h?(a=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(j)return;var a=(yield f),b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(h)));if(!b)return;a=(yield l(a,g,h,b.threadType));b=!d("LSThreadBitOffset").has(18,b)||a;if(b)return;c("promiseDone")(i(d("MWChatReactionsUtils").heartType1,"like"))})())},e[0]=g,e[1]=f,e[2]=j,e[3]=i,e[4]=h,e[5]=a):a=e[5];return a}g["default"]=a}),98);
__d("useIGDMessageListThemeConfig",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={dark:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","chat-edit-message-overlay-color":"rgb(var(--ig-primary-background))","chat-incoming-message-bubble-background-color":"rgb(var(--ig-highlight-background))","chat-incoming-message-text-color":"rgb(var(--ig-primary-text))","chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},light:{"chat-composer-button-color":"var(--chat-outgoing-message-bubble-background-color)","chat-edit-message-overlay-color":"rgb(var(--ig-primary-background))","chat-incoming-message-bubble-background-color":"rgb(var(--ig-highlight-background))","chat-incoming-message-text-color":"rgb(var(--ig-primary-text))","chat-outgoing-message-background-gradient":"#3797F0","chat-outgoing-message-bubble-background-color":"#3797F0","mwp-message-list-profile-start-padding":"16px","mwp-primary-theme-color":"var(--chat-outgoing-message-bubble-background-color)"},type:"VARIABLES"},a[0]=b):b=a[0];a=b;return a}g["default"]=a}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("MWPActor.react").useActor(),e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return a.threadName!=null?d("ReQL").empty():d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[e,a.threadKey,a.threadName],f.id+":32");return d("Int64Hooks").useMemoInt64(function(){var c;if(a.threadName!=null)return h._(/*BTDS*/"Messages in conversation titled {name of conversation}",[h._param("name of conversation",a.threadName)]).toString();c=(c=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,g,b))!=null?c:"";return h._(/*BTDS*/"Messages in conversation with {participant list}",[h._param("participant list",c)]).toString()},[b,g,a.threadName,a.threadType])}g["default"]=a}),226);
__d("useMessageAttachment",["ReQL","ReQLSuspense","mwpMessageHasAttachment","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=c("mwpMessageHasAttachment")(a),b[0]=a,b[1]=g):g=b[1];var i=g,j;b[2]!==e||b[3]!==i||b[4]!==a.messageId||b[5]!==a.threadKey?(g=function(){return i?d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId):d("ReQL").empty()},j=[e,a.threadKey,a.messageId,i],b[2]=e,b[3]=i,b[4]=a.messageId,b[5]=a.threadKey,b[6]=g,b[7]=j):(g=b[6],j=b[7]);return d("ReQLSuspense").useFirst(g,j,f.id+":30")}g["default"]=a}),98);
__d("IGDMessageList.react",["BaseThemeProvider.react","CometErrorBoundary.react","FBLogger","I64","IGDEBRestoreMessageById","IGDEqualityUtils","IGDInstamadilloUtils","IGDMessageErrorBubble.react","IGDMessageRow.react","IGDMessageSeenStatus.react","IGDTypingIndicatorFooter.react","IGDVisibilityAware.react","IGDXMAUtils","Int64Hooks","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWInboxThreadMessagesSpinner.react","MWMessageListLoggingContext","MWPActor.react","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPMessageReactions.react","MWV2MessageActionsVisibility.react","MessengerWebUXLogger","PolarisUA","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:10750","cr:10751","isThreadLevelCutoverEnabled","polarisDebounce","promiseDone","qex","react","react-compiler-runtime","shallowEqual","stylex","useAsyncReStore","useForwardedRef","useHandleDoubleClickToLike","useIGDAutoFitViewport","useIGDMessageListThemeConfig","useIGDTypingIndicatorOnThread","useMWPAriaLabelForMessageListGrid","useMessageAttachment","useStableCallback","useStableValue","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useEffect,n=e.useRef,o=e.useState,p={bottom:500,top:500},q={bottom:100,top:100};function r(a){var e=d("react-compiler-runtime").c(49),f=a.formatText,g=a.isLoggedOutPreview,i=a.modal,l=a.onGetScrollAreaElement,n=a.stopHoveringRef,o=a.thread,r=a.domElementRef,s=a.message,t=a.nextMessage;a=a.prevMessage;var u;e[0]!==o.threadType?(u=d("LSMessagingThreadTypeUtil").isGroup(o.threadType),e[0]=o.threadType,e[1]=u):u=e[1];u=u;var v;e[2]!==s?(v=d("IGDInstamadilloUtils").isInstamadilloMessage(s),e[2]=s,e[3]=v):v=e[3];var w=v,x=c("MessengerWebUXLogger").useInteractionLogger(),y=c("useStableCallback")(c("useHandleDoubleClickToLike")(s));e[4]!==y||e[5]!==x?(v=function(){x==null||x({eventName:"igd_double_click_to_like"}),y()},e[4]=y,e[5]=x,e[6]=v):v=e[6];v=v;var z=d("LSThreadBitOffset").has(139,o),A=d("MWPMessageReactions.react").useNonZeroCountReactionsV2(s),B=d("MWPMessageReactions.react").useReactions(s),C=c("useMessageAttachment")(s),D;e[7]!==C?(D=d("IGDXMAUtils").checkIsXMAExpired(C),e[7]=C,e[8]=D):D=e[8];C=D;D=d("MWPActor.react").useActor();var E;e[9]!==D||e[10]!==s.senderId?(E=(j||(j=d("I64"))).equal(s.senderId,D),e[9]=D,e[10]=s.senderId,e[11]=E):E=e[11];var F=E,G=c("useAsyncReStore")();e[12]!==G||e[13]!==w||e[14]!==s.messageId?(D=function(){c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=c("qex")._("954");if(!w||!Boolean(a))return;a=(yield G);yield c("IGDEBRestoreMessageById")(a,s.messageId)})())},E=[G,w,s.messageId],e[12]=G,e[13]=w,e[14]=s.messageId,e[15]=D,e[16]=E):(D=e[15],E=e[16]);m(D,E);e[17]!==F?(D=function(){return k.jsx(c("IGDMessageErrorBubble.react"),{isOutgoing:F})},e[17]=F,e[18]=D):D=e[18];E=g===!0;g=i===s.messageId;i=z?A:void 0;e[19]!==r||e[20]!==f||e[21]!==u||e[22]!==w||e[23]!==C||e[24]!==s||e[25]!==t||e[26]!==v||e[27]!==a||e[28]!==B||e[29]!==n||e[30]!==g||e[31]!==i||e[32]!==E||e[33]!==o.threadType?(z=k.jsx(c("IGDMessageRow.react"),{domElementRef:r,formatText:f,hideRowActions:E,isGroupThread:u,isModal:g,isSecureMessage:w,isXMAExpired:C,message:s,nextMessage:t,onDoubleClickToLike:v,prevMessage:a,reactions:B,reactionsV2:i,stopHoveringRef:n,threadType:o.threadType}),e[19]=r,e[20]=f,e[21]=u,e[22]=w,e[23]=C,e[24]=s,e[25]=t,e[26]=v,e[27]=a,e[28]=B,e[29]=n,e[30]=g,e[31]=i,e[32]=E,e[33]=o.threadType,e[34]=z):z=e[34];e[35]!==s||e[36]!==t||e[37]!==o?(A=t!=null?null:k.jsx(c("IGDMessageSeenStatus.react"),{message:s,thread:o}),e[35]=s,e[36]=t,e[37]=o,e[38]=A):A=e[38];e[39]!==z||e[40]!==A||e[41]!==D?(r=k.jsxs(c("CometErrorBoundary.react"),{fallback:D,children:[z,A]}),e[39]=z,e[40]=A,e[41]=D,e[42]=r):r=e[42];var H=r;f=c("useIGDMessageListThemeConfig")();e[43]!==H||e[44]!==l?(u=function(a,b){return k.jsx("div",{className:(h||(h=c("stylex")))(a),style:b,children:k.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"thread_view_messages",children:k.jsx(c("IGDVisibilityAware.react"),{root:l,rootMargin:d("PolarisUA").isMobile()?q:p,children:H})})})},e[43]=H,e[44]=l,e[45]=u):u=e[45];e[46]!==f||e[47]!==u?(C=k.jsx(c("BaseThemeProvider.react"),{config:f,children:u}),e[46]=f,e[47]=u,e[48]=C):C=e[48];return C}function s(a,e,f,g,h,i){i===void 0&&(i=!1);var j=n(new WeakMap()),m=d("useStableValue").useStableValue({capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,consistentThreadFbid:a.consistentThreadFbid,folderName:a.folderName,threadKey:a.threadKey,threadSubtype:a.threadSubtype,threadType:a.threadType},d("IGDEqualityUtils").shallowEqualI64);return l(function(a){var d=j.current.get(a.message),l=babelHelpers["extends"]({},a,{formatText:g,isLoggedOutPreview:i,modal:e,onGetScrollAreaElement:h,stopHoveringRef:f,thread:m});if(!d||!c("shallowEqual")(l,d.props)){d=k.jsxs(k.Fragment,{children:[b("cr:10750")!=null&&((d=a.prevMessage)==null?void 0:d.isAdminMessage)!==!0&&k.jsx(b("cr:10750"),{message:a.message,prevMessage:a.prevMessage}),k.jsx(r,babelHelpers["extends"]({},l))]});j.current.set(a.message,{props:l,row:d})}l=j.current.get(a.message);if(!l)throw c("FBLogger")("ig_web").mustfixThrow("memoizedRow is null/undefined. This should never happen.");return l.row},[g,e,h,f,m])}function t(a){a=a.scrollTop;return a>100}function a(a){var e=a.formatText;e=e===void 0?!1:e;var f=a.isLoggedOutPreview;f=f===void 0?!1:f;var g=a.pageSize,h=a.ref,i=a.renderHeader,j=a.thread;a=c("useForwardedRef")(h);var n=a[0];h=a[1];a=c("isThreadLevelCutoverEnabled")();var p=d("MAWThreadCutover").useIsCutoverSecureThread(j.threadKey),q=d("MAWThreadCutover").useCutoverOpenThread(j.threadKey),r=o(!1),u=r[0],v=r[1];m(function(){function a(){v(document.activeElement!=null)}var b=c("polarisDebounce")(a,1e3);d("PolarisUA").isMobile()&&window.addEventListener("resize",b);return function(){d("PolarisUA").isMobile()&&window.removeEventListener("resize",b)}},[u]);r=c("useMWPAriaLabelForMessageListGrid")(j);var w=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),x=o(""),y=x[0];x=x[1];var z=l(function(){var a;a=(a=n.current)==null?void 0:a.getScrollAreaElement();return a instanceof HTMLElement?a:null},[n]);w=s(j,y,w,e,z,f);e=c("useIGDTypingIndicatorOnThread")(j.threadKey);var A=e.numberOfTypings;z=d("Int64Hooks").useCallbackInt64(function(a){return k.jsxs(k.Fragment,{children:[b("cr:10751")!=null&&k.jsx(b("cr:10751"),{lastItem:a!=null?a:void 0,threadKey:j.threadKey}),A>0?k.jsx(c("IGDTypingIndicatorFooter.react"),{threadKey:j.threadKey,threadType:j.threadType}):null]})},[j.threadKey,j.threadType,A]);return a&&p&&q==null?k.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):k.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:r,modal:y,setModal:x,children:k.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:k.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:c("uuidv4")(),children:k.jsx(c("MWPBaseMessageList.react"),{isSufficientContentLoadedAbove:t,onUserScroll:d("useIGDAutoFitViewport").checkIGDAutoFitViewportEligibility()?void 0:function(){if(d("PolarisUA").isMobile()&&u){var a;(a=document.activeElement)==null||a.blur()}},pageSize:g,ref:h,renderFooter:z,renderHeader:i,renderLoadingAnimation:function(){return k.jsx(c("MWInboxThreadMessagesSpinner.react"),{delayMs:200})},renderRow:w,secondaryThread:q,thread:j})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageRequestComposerLayout.react",["CometColumn.react","CometColumnItem.react","FocusRegion.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(25),e=a.messageRequestAccept,f=a.messageRequestBlockLeave,g=a.messageRequestDelete,h=a.messageRequestFootnote;a=a.messageRequestHeader;var k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x5ur3kl x13fuv20 x178xt8z"},b[0]=k):k=b[0];var l;b[1]!==a?(l=i.jsx(c("CometColumnItem.react"),{align:"center",children:a}),b[1]=a,b[2]=l):l=b[2];b[3]!==h?(a=i.jsx(c("CometColumnItem.react"),{align:"center",paddingTop:12,children:h}),b[3]=h,b[4]=a):a=b[4];b[5]!==l||b[6]!==a?(h=i.jsxs(c("CometColumn.react"),{paddingHorizontal:16,paddingVertical:16,xstyle:j.header,children:[l,a]}),b[5]=l,b[6]=a,b[7]=h):h=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x78zum5 xyamay9 xv54qhq x1l90r2v xf7dkkf"},a={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},b[8]=l,b[9]=a):(l=b[8],a=b[9]);b[10]!==f?(a=i.jsx("li",babelHelpers["extends"]({},a,{children:f})),b[10]=f,b[11]=a):a=b[11];var m;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx("li",babelHelpers["extends"]({"aria-hidden":!0},{className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"})),m={className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},b[12]=f,b[13]=m):(f=b[12],m=b[13]);b[14]!==g?(m=i.jsx("li",babelHelpers["extends"]({},m,{children:g})),b[14]=g,b[15]=m):m=b[15];b[16]!==e?(g=e!=null?i.jsxs(i.Fragment,{children:[i.jsx("li",babelHelpers["extends"]({"aria-hidden":!0},{className:"x6usi7g x18b5jzi x1lun4ml x1c4vz4f xs83m0k xxk0z11"})),i.jsx("li",babelHelpers["extends"]({className:"x78zum5 x1iyjqo2 xl56j7k x123j3cw x1gabggj xs9asl8 xaso8d8"},{children:e}))]}):null,b[16]=e,b[17]=g):g=b[17];b[18]!==m||b[19]!==g||b[20]!==a?(e=i.jsxs("ul",babelHelpers["extends"]({},l,{children:[a,f,m,g]})),b[18]=m,b[19]=g,b[20]=a,b[21]=e):e=b[21];b[22]!==e||b[23]!==h?(l=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,children:i.jsxs("div",babelHelpers["extends"]({},k,{children:[h,e]}))}),b[22]=e,b[23]=h,b[24]=l):l=b[24];return l}g["default"]=a}),98);
__d("IGDProAcceptMessageRequestComposerBannerButton.react",["fbt","I64","IGDSButton.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","JSResourceForInteraction","LSMessagingThreadTypeUtil","MessengerWebUXLogger","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("JSResourceForInteraction")("IGDProAcceptThreadDialog.react").__setRef("IGDProAcceptMessageRequestComposerBannerButton.react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.thread,f=a.username;a=c("useIGDSLazyDialog")(l);var g=a[0],i=c("MessengerWebUXLogger").useInteractionLogger(),m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),n;b[0]!==m||b[1]!==i||b[2]!==g||b[3]!==e||b[4]!==f?(a=function(){g({threadKey:e.threadKey,username:f});var a=d("LSMessagingThreadTypeUtil").isIGDMessageRequest(e);i==null||i({eventName:"accept_chat_request",extraData:{is_request:String(a),target_id:(j||(j=d("I64"))).to_string(e.threadKey)},flowInstanceId:m})},n=[m,i,g,e,f],b[0]=m,b[1]=i,b[2]=g,b[3]=e,b[4]=f,b[5]=a,b[6]=n):(a=b[5],n=b[6]);a=d("Int64Hooks").useCallbackInt64(a,n);b[7]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"Accept"),b[7]=n):n=b[7];b[8]!==a?(n=k.jsx(c("IGDSButton.react"),{display:"block",label:n,onClick:a,role:"button",variant:"secondary_link"}),b[8]=a,b[9]=n):n=b[9];return n}g["default"]=a}),226);
__d("IGDMessageRequestComposerBanner.react",["fbt","CometPlaceholder.react","I64","IGDAcceptOpenMessageRequestComposerBannerButton.react","IGDBlockUserComposerBannerButton.react","IGDComposerCommon.react","IGDDeleteOpenThreadComposerBannerButton.react","IGDLeaveGroupComposerBannerButton.react","IGDMessageRequestComposerLayout.react","IGDProAcceptMessageRequestComposerBannerButton.react","IGDSGlimmer.react","IGDSText.react","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useJSON","usePolarisViewer","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDBlockedUserComposer.react").__setRef("IGDMessageRequestComposerBanner.react")),o=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDHiddenChatComposer.react").__setRef("IGDMessageRequestComposerBanner.react")),p=c("deferredLoadComponent")(c("requireDeferredForDisplay")("IGDComposerRestricted.react").__setRef("IGDMessageRequestComposerBanner.react")),q={displayNameGlimmer:{display:"x1rg5ohu",height:"x1ta3ar0",width:"x1pju0fl",$$css:!0}};function r(a){var b=d("react-compiler-runtime").c(5),e=a.displayName;a=a.username;a=a!=null?"("+a+")":"";var f;b[0]!==e||b[1]!==a?(f=h._(/*BTDS*/"Accept message request from {IG Name} {IG Username}?",[h._param("IG Name",e!=null?m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:e}):m.jsx(c("IGDSGlimmer.react"),{index:1,xstyle:q.displayNameGlimmer})),h._param("IG Username",m.jsx(c("IGDSText.react"),{size:"body",weight:"semibold",children:a}))]),b[0]=e,b[1]=a,b[2]=f):f=b[2];b[3]!==f?(e=m.jsx(c("IGDSText.react"),{size:"body",testid:void 0,textAlign:"center",weight:"normal",children:f}),b[3]=f,b[4]=e):e=b[4];return e}function s(a){var b=d("react-compiler-runtime").c(4);a=a.isGroup;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"If you accept, they will also be able to call you and see info such as your activity status and when you've read messages."),b[0]=e):e=b[0];e=e;var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"If you accept, you and other members will be able to call you and see info such as your activity status and when you've read messages."),b[1]=f):f=b[1];f=f;a=a?f:e;b[2]!==a?(f=m.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"normal",children:a}),b[2]=a,b[3]=f):f=b[3];return f}function a(a){var b=d("react-compiler-runtime").c(42);a=a.thread;var e=a.inviterId,g=a.metadata,h=a.snippetSenderContactId,l=a.threadKey,q=a.threadType;g=c("useJSON")(g!=null?g:"{}");var u=(i||(i=c("useReStore")))(),v=d("MWPActor.react").useActor(),w;b[0]!==q?(w=d("LSMessagingThreadTypeUtil").isGroup(q),b[0]=q,b[1]=w):w=b[1];w=w;var x;b[2]!==q?(x=d("LSMessagingThreadTypeUtil").isOneToOne(q),b[2]=q,b[3]=x):x=b[3];var y=x;b[4]!==v||b[5]!==u||b[6]!==e||b[7]!==y||b[8]!==h||b[9]!==l?(q=function(){if(y)return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(u.tables.participants).getKeyRange(l),d("ReQL").fromTableAscending(u.tables.contacts)).filter(function(a){a=a[1];return!(j||(j=d("I64"))).equal(a.id,v)}).map(t);var a=e!=null?e:h;return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(u.tables.contacts).bounds({gte:d("ReQL").key(a),lte:d("ReQL").key(a)})},x=[u,y,l,e,h,v],b[4]=v,b[5]=u,b[6]=e,b[7]=y,b[8]=h,b[9]=l,b[10]=q,b[11]=x):(q=b[10],x=b[11]);q=d("ReQLSuspense").useFirst(q,x,f.id+":150");x="Instagram User";var z,A=!1,B=!1;if(q!=null){var C=q.name;x=C;z=q.secondaryName;A=!(j||(j=d("I64"))).equal(q.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));B=!w&&d("LSContactBitOffset").has(66,q)}C=c("usePolarisViewer")();C=C==null?!1:C.isProfessionalAccount===!0;if(A&&y){b[12]!==q||b[13]!==a?(A=q!=null?m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(d("IGDComposerCommon.react").IGDComposerCommonPlaceholder,{height:189}),children:m.jsx(n,{contact:q,thread:a})}):null,b[12]=q,b[13]=a,b[14]=A):A=b[14];return A}if(B&&y){b[15]!==q||b[16]!==a?(A=q!=null?m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(d("IGDComposerCommon.react").IGDComposerCommonPlaceholder,{height:189}),children:m.jsx(p,{contact:q,thread:a})}):null,b[15]=q,b[16]=a,b[17]=A):A=b[17];return A}if(w){A=(B=g.is_hidden_in_spam_folder)!=null?B:!1;if(A){b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g=m.jsx(d("IGDComposerCommon.react").IGDComposerCommonPlaceholder,{height:189}),b[18]=g):g=b[18];b[19]!==a?(B=m.jsx(c("CometPlaceholder.react"),{fallback:g,children:m.jsx(o,{thread:a})}),b[19]=a,b[20]=B):B=b[20];return B}}b[21]!==C||b[22]!==q||b[23]!==a?(A=C&&q!=null?m.jsx(c("IGDProAcceptMessageRequestComposerBannerButton.react"),{thread:a,username:q.name}):m.jsx(c("IGDAcceptOpenMessageRequestComposerBannerButton.react"),{thread:a}),b[21]=C,b[22]=q,b[23]=a,b[24]=A):A=b[24];b[25]!==w||b[26]!==q||b[27]!==a?(g=w?m.jsx(c("IGDLeaveGroupComposerBannerButton.react"),{thread:a}):q!=null?m.jsx(c("IGDBlockUserComposerBannerButton.react"),{contact:q,thread:a}):null,b[25]=w,b[26]=q,b[27]=a,b[28]=g):g=b[28];b[29]!==a?(B=m.jsx(c("IGDDeleteOpenThreadComposerBannerButton.react"),{thread:a}),b[29]=a,b[30]=B):B=b[30];b[31]!==w?(C=m.jsx(s,{isGroup:w}),b[31]=w,b[32]=C):C=b[32];b[33]!==x||b[34]!==z?(q=m.jsx(r,{displayName:x,username:z}),b[33]=x,b[34]=z,b[35]=q):q=b[35];b[36]!==A||b[37]!==g||b[38]!==B||b[39]!==C||b[40]!==q?(a=m.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:A,messageRequestBlockLeave:g,messageRequestDelete:B,messageRequestFootnote:C,messageRequestHeader:q}),b[36]=A,b[37]=g,b[38]=B,b[39]=C,b[40]=q,b[41]=a):a=b[41];return a}function t(a){a=a[1];return a}g["default"]=a}),226);
__d("IGDMessageRequestComposerBannerLoading.react",["IGDMessageRequestComposerLayout.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmerButton:{height:"x1v9usgg",maxWidth:"x193iq5w",width:"x9fslfs",$$css:!0},glimmerFootnote:{height:"x6w4g8m",maxWidth:"x7ep2pv",width:"xh8yej3",$$css:!0},glimmerHeader:{height:"x1v9usgg",maxWidth:"x256u9z",width:"xh8yej3",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b;b=i.jsx(c("IGDMessageRequestComposerLayout.react"),{messageRequestAccept:i.jsx(b=c("IGDSGlimmer.react"),{index:1,xstyle:j.glimmerButton}),messageRequestBlockLeave:i.jsx(b,{index:1,xstyle:j.glimmerButton}),messageRequestDelete:i.jsx(b,{index:1,xstyle:j.glimmerButton}),messageRequestFootnote:i.jsx(b,{index:1,xstyle:j.glimmerFootnote}),messageRequestHeader:i.jsx(b,{index:1,xstyle:j.glimmerHeader})});a[0]=b}else b=a[0];return b}g["default"]=a}),98);
__d("IGDSUserRequestedPanoOutline24Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M15.507 12.752a4.5 4.5 0 1 0-4.501-4.5 4.505 4.505 0 0 0 4.5 4.5Zm0-7a2.5 2.5 0 1 1-2.501 2.5 2.502 2.502 0 0 1 2.5-2.5Zm2.444 8.252h-4.907a5.054 5.054 0 0 0-5.049 5.049v.447a1 1 0 0 0 2 0v-.447a3.053 3.053 0 0 1 3.049-3.05h4.907a3.053 3.053 0 0 1 3.05 3.05v.447a1 1 0 0 0 2 0v-.447a5.055 5.055 0 0 0-5.05-5.05Zm-8.286-2.392a.88.88 0 0 0 0-1.224c-.009-.008-.012-.02-.02-.03L6.685 7.4a.907.907 0 0 0-1.283 1.284l1.41 1.409h-4.81a.907.907 0 1 0 0 1.814h4.81l-1.41 1.41a.907.907 0 0 0 1.284 1.284l2.959-2.96c.008-.008.011-.02.02-.03Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDMessageRequestsNullState.react",["fbt","IGDBaseNullState.react","IGDSUserRequestedPanoOutline24Icon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Message requests"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"These messages are from people you've restricted or don't follow. They won't know you viewed their request until you allow them to message you."),a[1]=e):e=a[1];e=e;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("IGDBaseNullState.react"),{descriptionText:e,icon:j.jsx("div",babelHelpers["extends"]({className:"xskfcea x15l7z82 x1rx6pd xc5vvuh x1u0suui xlekzc6 x1tovxde x1tk7qwc x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x9f619 xjp8j0k x106a9eq x1qim8zg x13oubkp"},{children:j.jsx(c("IGDSUserRequestedPanoOutline24Icon.react"),{alt:"",color:"ig-primary-text",size:48})})),titleText:b}),a[2]=e):e=a[2];return e}g["default"]=a}),226);
__d("MWPNewMessageAnnouncementHeader.react",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPForwardedContent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=a.message;a=a.outgoing;b=d("MWPForwardedContent").useTitle(b,a);return h._(/*BTDS*/"{forward title}",[h._param("forward title",b)])}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message,e=a.participant;a=a.sender;var f=d("MWPActor.react").useActor();f=(j||(j=d("I64"))).equal(a.id,f);var g=b.replySourceTypeV2!=null&&(j||(j=d("I64"))).equal(b.replySourceTypeV2,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));e=(e=(e=e==null?void 0:e.nickname)!=null?e:a.firstName)!=null?e:a.name;if(g)return l.jsx(m,{message:b,outgoing:f});a=b.replySnippet;if(a!=null)return h._(/*BTDS*/"{reply snippet}",[h._param("reply snippet",a)]);else if(f)return h._(/*BTDS*/"You sent,");else return h._(/*BTDS*/"{name of sender} sent,",[h._param("name of sender",e)])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWPAnnounceMessageForScreenReader",["I64","Int64Hooks","MWPActor.react","Promise","ReQL","ServerTime","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useRef;function a(a,e){var f=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),k=l(d("ServerTime").getMillis()),m=e.threadKey;d("Int64Hooks").useEffectInt64(function(){return d("ReQL").fromTableAscending(f.tables.messages).getKeyRange(m).subscribe(function(e,g){if(g.operation!=="add")return;var i=g.value;(j||(j=d("I64"))).to_float(i.timestampMs)>k.current&&(k.current=(j||(j=d("I64"))).to_float(i.timestampMs),c("promiseDone")((h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(i.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(f.tables.participants).getKeyRange(i.threadKey,i.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(i,c,b)}))})},[f,g,a,m])}g["default"]=a}),98);
__d("IGDNewMessageAnnouncementForScreenReaders.react",["fbt","CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","LSAuthorityLevel","LSIntEnum","MWPAttachmentDataContext","MWPNewMessageAnnouncementHeader.react","clearTimeout","filterNulls","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","react","react-compiler-runtime","setTimeout","useMWPAnnounceMessageForScreenReader"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;b.useCallback;var m=b.useEffect,n=b.useState,o=h._(/*BTDS*/"One message");function p(a){var b=d("react-compiler-runtime").c(12),e=a.message,f=a.participant;a=a.sender;var g=n(!1),h=g[0],i=g[1],j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){var a=c("setTimeout")(function(){return i(!0)},100);return function(){c("clearTimeout")(a)}},j=[],b[0]=g,b[1]=j):(g=b[0],j=b[1]);m(g,j);if(!h)return null;j=(g=e.text)!=null?g:o;b[2]!==e||b[3]!==f||b[4]!==a?(h=l.jsx(c("MWPNewMessageAnnouncementHeader.react"),{message:e,participant:f,sender:a}),b[2]=e,b[3]=f,b[4]=a,b[5]=h):h=b[5];g=j!=null?j:null;b[6]!==e?(f=c("mwpMessageHasAttachment")(e)?l.jsx(q,{message:e}):null,b[6]=e,b[7]=f):f=b[7];b[8]!==h||b[9]!==g||b[10]!==f?(a=l.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[h,g,f]}),b[8]=h,b[9]=g,b[10]=f,b[11]=a):a=b[11];return a}function q(a){var b=d("react-compiler-runtime").c(2);a=a.message;a=d("MWPAttachmentDataContext").useMWPGetAttachments(a);var e;b[0]!==a?(e=c("getMWPAttachmentMessageAnnouncement")(a),b[0]=a,b[1]=e):e=b[1];return e}function a(a){var b=d("react-compiler-runtime").c(4);a=a.thread;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[],b[0]=e):e=b[0];e=n(e);var f=e[0],g=e[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a,b,e){if((j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(d){return c("filterNulls")([].concat(d,[l.jsx(p,{message:a,participant:e,sender:b},a.messageId)]))})},b[1]=e):e=b[1];e=e;c("useMWPAnnounceMessageForScreenReader")(e,a);b[2]!==f?(e=l.jsx(c("CometErrorBoundary.react"),{fallback:void 0,children:l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"IGDNewMessageAnnouncementForScreenReaders",children:f})}),b[2]=f,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("IGDPartnershipInboxNullStateQuery_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9558114010941686"}),null);
__d("IGDPartnershipInboxNullStateQuery.graphql",["IGDPartnershipInboxNullStateQuery_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"XIGIGCreatorMarketplacePartnershipInbox",kind:"LinkedField",name:"xig_partnership_inbox",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_brand_onboarded",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"IGDPartnershipInboxNullStateQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"IGDPartnershipInboxNullStateQuery",selections:a},params:{id:b("IGDPartnershipInboxNullStateQuery_instagramRelayOperation"),metadata:{},name:"IGDPartnershipInboxNullStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("IGDPartnershipInboxStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return a?h._(/*BTDS*/"Send message"):h._(/*BTDS*/"Get started")}function b(a){return a?h._(/*BTDS*/"Start a conversation with a creator in your partnership inbox to help manage your conversations more effectively. Creators are more likely to see these and reply."):h._(/*BTDS*/"Send creators a prioritized message about partnering for ad campaigns.")}function c(a){return a?h._(/*BTDS*/"Partnership messages"):h._(/*BTDS*/"Sign up for partnership messages")}g.getNullstateButtonText=a;g.getNullstateDescriptionText=b;g.getNullstateTitleText=c}),226);
__d("IGDPartnershipInboxNullState.react",["IGDBaseNullState.react","IGDPartnershipInboxNullStateQuery.graphql","IGDPartnershipInboxStrings","IGDSButton.react","IGDSCreatorMarketplacePanoOutline24Icon.react","IGDSDialogPlaceholder.react","IgBrandedContentEventFalcoEvent","JSResourceForInteraction","PolarisCreatorMarketplaceBrandOnboardingModal.react","RelayHooks","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useState,m=h!==void 0?h:h=b("IGDPartnershipInboxNullStateQuery.graphql");function a(){var a=d("react-compiler-runtime").c(27),b=d("RelayHooks").useRelayEnvironment(),e=d("RelayHooks").useLazyLoadQuery(m,{}),f=((e=e.xig_partnership_inbox)==null?void 0:e.is_brand_onboarded)===!0;e=l(!1);var g=e[0],h=e[1];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("IGDThreadListNewPartnershipMessageDialog.react").__setRef("IGDPartnershipInboxNullState.react"),a[0]=e):e=a[0];e=e;var i,o;a[1]!==f?(i=function(){c("IgBrandedContentEventFalcoEvent").log(function(){return{event_name:"partnership_inbox_null_state_impression",extra_data:{is_brand_onboarded:String(f)}}})},o=[f],a[1]=f,a[2]=i,a[3]=o):(i=a[2],o=a[3]);k(i,o);i=c("useIGDSLazyDialog")(e,n);var p=i[0];a[4]!==f||a[5]!==p?(o=function(){c("IgBrandedContentEventFalcoEvent").log(function(){return{event_name:"partnership_inbox_null_state_new_message_click",extra_data:{is_brand_onboarded:String(f)}}}),f?p({}):h(!0)},a[4]=f,a[5]=p,a[6]=o):o=a[6];e=o;a[7]!==f?(i=d("IGDPartnershipInboxStrings").getNullstateDescriptionText(f),a[7]=f,a[8]=i):i=a[8];a[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",babelHelpers["extends"]({className:"xskfcea x15l7z82 x1rx6pd xc5vvuh x1u0suui xlekzc6 x1tovxde x1tk7qwc x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x9f619 xjp8j0k x13oubkp x6s0dn4 x78zum5 xl56j7k xexx8yu xyri2b x18d9i69 x1c1uobl"},{children:j.jsx(c("IGDSCreatorMarketplacePanoOutline24Icon.react"),{alt:"Creator marketplace icon for the partnership inbox",color:"ig-primary-text",size:48})})),a[9]=o):o=a[9];var q;a[10]!==f?(q=d("IGDPartnershipInboxStrings").getNullstateTitleText(f),a[10]=f,a[11]=q):q=a[11];var r;a[12]!==f?(r=d("IGDPartnershipInboxStrings").getNullstateButtonText(f),a[12]=f,a[13]=r):r=a[13];var s;a[14]!==e||a[15]!==r?(s=j.jsx(c("IGDSButton.react"),{display:"block",label:r,onClick:e}),a[14]=e,a[15]=r,a[16]=s):s=a[16];a[17]!==i||a[18]!==q||a[19]!==s?(e=j.jsx(c("IGDBaseNullState.react"),{descriptionText:i,icon:o,titleText:q,children:s}),a[17]=i,a[18]=q,a[19]=s,a[20]=e):e=a[20];a[21]!==b||a[22]!==g?(r=g&&j.jsx(d("PolarisCreatorMarketplaceBrandOnboardingModal.react").PolarisCreatorMarketplaceBrandOnboardingModal,{creatorUserId:"",entrypoint:d("PolarisCreatorMarketplaceBrandOnboardingModal.react").BrandOnboardingEntrypoint.PARTNERSHIP_INBOX_NULLSTATE,onClose:function(){return h(!1)},onDecline:function(){h(!1)},onSuccess:function(){d("RelayHooks").fetchQuery(b,m,{}).subscribe({})}}),a[21]=b,a[22]=g,a[23]=r):r=a[23];a[24]!==r||a[25]!==e?(o=j.jsxs(j.Fragment,{children:[e,r]}),a[24]=r,a[25]=e,a[26]=o):o=a[26];return o}function n(a){return j.jsx(c("IGDSDialogPlaceholder.react"),{fixedHeight:!0,onClose:a,size:"large"})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsChannelsTabSelected.react",["I64","IGDProfessionalIGFolderContext.react","IgTags_InboxFolder","LSIntEnum","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(3),b=d("IGDProfessionalIGFolderContext.react").useIsProfessionalIGD(),e=d("IGDProfessionalIGFolderContext.react").useIGDProfessionalFolder(),f;a[0]!==b||a[1]!==e?(f=b&&(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("IgTags_InboxFolder").SUBSCRIBER)),a[0]=b,a[1]=e,a[2]=f):f=a[2];return f}g["default"]=a}),98);
__d("useIsCurrentRouteMessageRequests",["IGDRouteProvider.react","useCurrentRoute","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCurrentRoute")(),b=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),e=c("useRoutePassthroughProps")();if(a!=null&&(a.url==="/direct/requests"||a.url==="/direct/requests/"))return!0;return b!=null&&e!=null?e.entryPoint==="pendingRequests":!1}g["default"]=a}),98);
__d("useIsCurrentRoutePartnershipInbox",["useCurrentRoute"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCurrentRoute")();return a!=null&&(a.url==="/direct/partnerships"||a.url==="/direct/partnerships/")?!0:!1}g["default"]=a}),98);
__d("IGDNullState.react",["IGDDefaultNullState.react","IGDHiddenMessageRequestsNullState.react","IGDMessageRequestsNullState.react","IGDPartnershipInboxNullState.react","cr:1653","react","react-compiler-runtime","useIsChannelsTabSelected.react","useIsCurrentRouteMessageHiddenRequests","useIsCurrentRouteMessageRequests","useIsCurrentRoutePartnershipInbox"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(5),e=c("useIsCurrentRouteMessageRequests")(),f=c("useIsCurrentRouteMessageHiddenRequests")(),g=c("useIsCurrentRoutePartnershipInbox")(),h=c("useIsChannelsTabSelected.react")();if(e){a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGDMessageRequestsNullState.react"),{}),a[0]=e):e=a[0];return e}else if(f){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("IGDHiddenMessageRequestsNullState.react"),{}),a[1]=e):e=a[1];return e}else if(g){a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("IGDPartnershipInboxNullState.react"),{}),a[2]=f):f=a[2];return f}else if(h&&b("cr:1653")!=null){a[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(b("cr:1653"),{}),a[3]=e):e=a[3];return e}else{a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("IGDDefaultNullState.react"),{}),a[4]=g):g=a[4];return g}}g["default"]=a}),98);
__d("IGDNullStateGenAILearnMoreButton.react",["fbt","IGDSText.react","JSResourceForInteraction","PolarisFastLink.react","react","react-compiler-runtime","useIGDSLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={learnMore:{marginInlineStart:"xdwrcjd",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("IGDThreadGenAIEducationalModal.react").__setRef("IGDNullStateGenAILearnMoreButton.react"),a[0]=b):b=a[0];b=c("useIGDSLazyDialog")(b);var e=b[0];a[1]!==e?(b=function(){return e({})},a[1]=e,a[2]=b):b=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSText.react"),{color:"link",children:h._(/*BTDS*/"Learn more")}),a[3]=f):f=a[3];a[4]!==b?(f=j.jsx(c("PolarisFastLink.react"),{onClick:b,xstyle:k.learnMore,children:f}),a[4]=b,a[5]=f):f=a[5];return f}g["default"]=a}),226);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("IGDNullStateDescription.react",["I64","IGDInboxGenAIStarIcon.react","IGDNullStateGenAILearnMoreButton.react","IGDSBox.react","IGDSText.react","LSIntEnum","LSNullstateDescriptionType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={nullStateContainer:{paddingTop:"xz9dl7a",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.descriptionText,f=a.descriptionType;a=a.threadType;var g;b[0]!==a?(g=(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(201)),b[0]=a,b[1]=g):g=b[1];a=g;b[2]!==f||b[3]!==a?(g=a&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT)),b[2]=f,b[3]=a,b[4]=g):g=b[4];g=g;var h;b[5]!==f||b[6]!==a?(h=a&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").DEFAULT)),b[5]=f,b[6]=a,b[7]=h):h=b[7];f=h;b[8]!==g?(a=g?k.jsx(c("IGDNullStateGenAILearnMoreButton.react"),{}):null,b[8]=g,b[9]=a):a=b[9];b[10]!==e||b[11]!==a?(h=k.jsxs(c("IGDSText.react"),{color:"secondaryText",size:"body",textAlign:"center",children:[e,a]}),b[10]=e,b[11]=a,b[12]=h):h=b[12];b[13]!==f?(g=f?k.jsx(c("IGDInboxGenAIStarIcon.react"),{}):null,b[13]=f,b[14]=g):g=b[14];b[15]!==h||b[16]!==g?(e=k.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",xstyle:l.nullStateContainer,children:[h,g]}),b[15]=h,b[16]=g,b[17]=e):e=b[17];return e}g["default"]=a}),98);
__d("getMWV2OtherUser",["FBLogger","I64","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a))return;if(b.length===1){var f=b[0],g=f[0];f=f[1];if(f!=null)return[g,f];return}g=b.filter(function(a){a=a[0];return!(h||(h=d("I64"))).equal(a.contactId,e)});if(g.length===0){c("FBLogger")("messenger_web").mustfix('No participants in thread, {threadType: "%d", participantsAndContacts: %d, hasActor: %b}',(h||(h=d("I64"))).to_int32(a),b.length,b.some(function(a){a=a[0];return(h||(h=d("I64"))).equal(a.contactId,e)}));return}f=g[0];a=f[0];b=f[1];if(b!=null)return[a,b]}g["default"]=a}),98);
__d("getOtherUserForPartnershipThread",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a.length===1){var e=a[0],f=e[0];e=e[1];if(e!=null)return[f,e];return}f=a.filter(function(a){a=a[0];return!(h||(h=d("I64"))).equal(a.contactId,b)});if(f.length===0){c("FBLogger")("messenger_web").mustfix("No participants in partnership thread, {participantsAndContacts: %d, hasActor: %b}",a.length,a.some(function(a){a=a[0];return(h||(h=d("I64"))).equal(a.contactId,b)}));return}e=f[0];a=e[0];f=e[1];if(f!=null)return[a,f]}g["default"]=a}),98);
__d("useMWV2OtherUser",["MWPActor.react","getMWV2OtherUser","getOtherUserForPartnershipThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){var f=d("MWPActor.react").useActor();return e===!0?c("getOtherUserForPartnershipThread")(b,f):c("getMWV2OtherUser")(a,b,f)}g["default"]=a}),98);
__d("IGDThreadContextBanner.react",["fbt","CometPlaceholder.react","IGDAvatar.react","IGDChatTabsEnv","IGDNullStateDescription.react","IGDSBox.react","IGDSButton.react","IGDSText.react","IGDSVerifiedBadge.react","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerificationBadge.react","MWPThreadContextBanner.react","MWVerticalRhythm","PolarisLinkBuilder","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWV2OtherUser","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var b=d("react-compiler-runtime").c(11),e=a.isPartnershipThread,f=a.participantsAndContacts;a=a.thread;var g=a.threadType;f=c("useMWV2OtherUser")(g,f,e);var i;b[0]!==g?(i=d("LSMessagingThreadTypeUtil").isOneToOne(g),b[0]=g,b[1]=i):i=b[1];g=i;if(b[2]!==f){i=f!=null?d("PolarisLinkBuilder").buildUserLink((i=f[1].secondaryName)!=null?i:""):void 0;b[2]=f;b[3]=i}else i=b[3];f=i;b[4]!==a?(i=d("LSThreadBitOffset").has(41,a),b[4]=a,b[5]=i):i=b[5];a=i;b[6]!==a||b[7]!==e||b[8]!==g||b[9]!==f?(i=(a&&g||e)&&f!=null?k.jsx("div",babelHelpers["extends"]({className:"x1gan7if x1p5oq8j"},{children:k.jsx(c("IGDSButton.react"),{display:"block",href:f,label:h._(/*BTDS*/"View profile"),role:"link",variant:"secondary"})})):k.jsx(c("MWVerticalRhythm"),{height:32}),b[6]=a,b[7]=e,b[8]=g,b[9]=f,b[10]=i):i=b[10];return i}function m(a){var b=d("react-compiler-runtime").c(9),e=a.thread;a=a.threadTitle;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x9f619 x1onr9mi x1pic42t xh8yej3"},b[0]=f):f=b[0];var g;b[1]!==a?(g=k.jsx(c("IGDSText.react"),{maxLines:1,size:"title",textAlign:"center",weight:"semibold",children:a}),b[1]=a,b[2]=g):g=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx(c("IGDSVerifiedBadge.react"),{size:"large"}),b[3]=a):a=b[3];b[4]!==e.threadKey?(a=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(c("LSVerificationBadge.react"),{icon:a,threadKey:e.threadKey})}),b[4]=e.threadKey,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(e=k.jsx("div",babelHelpers["extends"]({},f,{children:k.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"center",children:[g,a]})})),b[6]=g,b[7]=a,b[8]=e):e=b[8];return e}function a(a){var b=d("react-compiler-runtime").c(28),e=a.thread,g=e.threadKey;a=e.threadSubtype;var h=e.threadType,j=(i||(i=c("useReStore")))(),n;b[0]!==a?(n=d("LSMessagingThreadTypeUtil").isPartnership(a),b[0]=a,b[1]=n):n=b[1];a=n;var o=d("IGDChatTabsEnv").useIsChatTabsDisplay();b[2]!==j.tables.contacts||b[3]!==j.tables.participants||b[4]!==g?(n=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(j.tables.participants).getKeyRange(g),d("ReQL").fromTableAscending(j.tables.contacts))},b[2]=j.tables.contacts,b[3]=j.tables.participants,b[4]=g,b[5]=n):n=b[5];var p;b[6]!==j||b[7]!==g?(p=[j,g],b[6]=j,b[7]=g,b[8]=p):p=b[8];n=d("ReQLSuspense").useArray(n,p,f.id+":162");b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x78zum5 xdt5ytf x2b8uid"},b[9]=p):p=b[9];var q;b[10]!==h?(q=function(a,b){return k.jsx(c("IGDNullStateDescription.react"),{descriptionText:a,descriptionType:b,threadType:h})},b[10]=h,b[11]=q):q=b[11];var r;b[12]!==o?(r=function(a){return k.jsx("div",babelHelpers["extends"]({className:"xyamay9 x1l90r2v"},{children:k.jsx(c("IGDAvatar.react"),{groupThreadSize:o?"XL":"XXL",size:o?"largeXL":"XXL",thread:a})}))},b[12]=o,b[13]=r):r=b[13];var s;b[14]!==e?(s=function(a){return k.jsx(m,{thread:e,threadTitle:a})},b[14]=e,b[15]=s):s=b[15];var t;b[16]!==q||b[17]!==r||b[18]!==s||b[19]!==e?(t=k.jsx(c("MWPThreadContextBanner.react"),{renderNullStateDescription:q,renderThreadPicture:r,renderThreadTitle:s,thread:e}),b[16]=q,b[17]=r,b[18]=s,b[19]=e,b[20]=t):t=b[20];b[21]!==a||b[22]!==n||b[23]!==e?(q=n.length>0&&k.jsx(l,{isPartnershipThread:a,participantsAndContacts:n,thread:e}),b[21]=a,b[22]=n,b[23]=e,b[24]=q):q=b[24];b[25]!==t||b[26]!==q?(r=k.jsxs("div",babelHelpers["extends"]({},p,{children:[t,q]})),b[25]=t,b[26]=q,b[27]=r):r=b[27];return r}g["default"]=a}),226);
__d("IGDThreadContextBannerWithKeyboardFocus.react",["fbt","IGDThreadContextBanner.react","MWPMessageListColumn.react","MWPMessageListFocusableTableRow.react","MWV2MessageListIsRowModalContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.startTransition;b.useCallback;var l=b.useState,m="igdcontextbanner";function a(a){var b=d("react-compiler-runtime").c(13);a=a.thread;var e=l(!1),f=e[0],g=e[1];e=l(!1);var i=e[0];e=e[1];var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n=function(a){return k(function(){return g(a)})},b[0]=n):n=b[0];n=n;var o=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal();o=o.modal;o=o===m;var p;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),b[1]=p):p=b[1];var q;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Conversation details"),b[2]=q):q=b[2];var r;b[3]!==a?(r=j.jsx(c("IGDThreadContextBanner.react"),{thread:a}),b[3]=a,b[4]=r):r=b[4];b[5]!==i||b[6]!==f||b[7]!==o||b[8]!==r?(a=j.jsx(c("MWPMessageListFocusableTableRow.react"),{accessibilityDialogTitleText:q,checkIfContentsAreTabbable:!0,focusCellOnRender:!1,isDialogOpened:i,isFocused:f,isModal:o,nameForModality:m,setFocused:n,setIsDialogOpened:e,showButtonInsideRow:!0,children:r}),b[5]=i,b[6]=f,b[7]=o,b[8]=r,b[9]=a):a=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10}),b[10]=q):q=b[10];b[11]!==a?(n=j.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[p,a,q]}),b[11]=a,b[12]=n):n=b[12];return n}g["default"]=a}),226);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.senderUnsendNUXEnabled;return i.jsxs(i.Fragment,{children:[b("cr:2884")==null?null:i.jsx(b("cr:2884"),{}),b("cr:4186")!=null&&a?i.jsx(b("cr:4186"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessageListPageSize",["PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisUA").isMobile()?5:10}g["default"]=a}),98);
__d("IGDOpenMessageListContainer.react",["CometPageletWithDiv.react","I64","IGDChatTabsEnv","IGDChatTabsQPLInstanceKeyContext.react","IGDMessageList.react","IGDThreadContextBannerWithKeyboardFocus.react","IGDThreadListNewMessageLoggingDataContext","MWChatUnsendNUX.react","MessengerWebUXLogger","QuickPerformanceLogger","cr:4631","getInstamadilloLoggingExtraData","qpl","react","react-compiler-runtime","useMessageListPageSize"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(27),f=a.ref,g=a.thread;a=c("useMessageListPageSize")();var j=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),l=d("IGDChatTabsQPLInstanceKeyContext.react").useIGDChatTabsQPLInstanceKeyContext(),m=d("IGDChatTabsEnv").useIsChatTabsDisplay(),n;e[0]!==g?(n=c("getInstamadilloLoggingExtraData")(g),e[0]=g,e[1]=n):n=e[1];var o;e[2]!==j||e[3]!==n?(o={eventName:"thread_rendered",extraData:n,flowInstanceId:j},e[2]=j,e[3]=n,e[4]=o):o=e[4];e[5]!==m||e[6]!==l||e[7]!==g?(j=function(){m&&(h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(882771792,"2790"),2,l.threadViewKeys[(i||(i=d("I64"))).to_string(g.threadKey)])},e[5]=m,e[6]=l,e[7]=g,e[8]=j):j=e[8];n=c("MessengerWebUXLogger").useImpressionLoggerRef(o,j);e[9]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x78zum5 x1r8uery xdt5ytf x1iyjqo2 x6ikm8r x10wlt62"},e[9]=o):o=e[9];e[10]!==g?(j=b("cr:4631")&&k.jsx(b("cr:4631"),{threadKey:g.threadKey}),e[10]=g,e[11]=j):j=e[11];var p;e[12]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),e[12]=p):p=e[12];var q;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(q={0:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",1:"x78zum5 xdt5ytf x1iyjqo2 xvo3xdp x2lwn1j xw2csxc x1odjw0f"}[!!b("cr:4631")<<0],e[13]=q):q=e[13];var r;e[14]!==g?(r=function(){return k.jsx(c("IGDThreadContextBannerWithKeyboardFocus.react"),{thread:g})},e[14]=g,e[15]=r):r=e[15];var s;e[16]!==a||e[17]!==f||e[18]!==r||e[19]!==g?(s=k.jsx(c("IGDMessageList.react"),{formatText:!0,pageSize:a,ref:f,renderHeader:r,thread:g}),e[16]=a,e[17]=f,e[18]=r,e[19]=g,e[20]=s):s=e[20];e[21]!==n||e[22]!==s?(a=k.jsx(d("CometPageletWithDiv.react").Placeholder,{className:q,fallback:null,name:"IGDOpenMessageList",ref:n,children:s}),e[21]=n,e[22]=s,e[23]=a):a=e[23];e[24]!==a||e[25]!==j?(f=k.jsxs("div",babelHelpers["extends"]({},o,{children:[j,p,a]})),e[24]=a,e[25]=j,e[26]=f):f=e[26];return f}g["default"]=a}),98);
__d("IGDSAppMessengerOutline96Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M48 0C21.532 0 0 21.533 0 48s21.532 48 48 48 48-21.532 48-48S74.468 0 48 0Zm0 94C22.636 94 2 73.364 2 48S22.636 2 48 2s46 20.636 46 46-20.636 46-46 46Zm12.227-53.284-7.257 5.507c-.49.37-1.166.375-1.661.005l-5.373-4.031a3.453 3.453 0 0 0-4.989.921l-6.756 10.718c-.653 1.027.615 2.189 1.582 1.453l7.257-5.507a1.382 1.382 0 0 1 1.661-.005l5.373 4.031a3.453 3.453 0 0 0 4.989-.92l6.756-10.719c.653-1.027-.615-2.189-1.582-1.453ZM48 25c-12.958 0-23 9.492-23 22.31 0 6.706 2.749 12.5 7.224 16.503.375.338.602.806.62 1.31l.125 4.091a1.845 1.845 0 0 0 2.582 1.629l4.563-2.013a1.844 1.844 0 0 1 1.227-.093c2.096.579 4.331.884 6.659.884 12.958 0 23-9.491 23-22.31S60.958 25 48 25Zm0 42.621c-2.114 0-4.175-.273-6.133-.813a3.834 3.834 0 0 0-2.56.192l-4.346 1.917-.118-3.867a3.833 3.833 0 0 0-1.286-2.727C29.33 58.54 27 53.209 27 47.31 27 35.73 36.028 27 48 27s21 8.73 21 20.31-9.028 20.31-21 20.31Z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 96 96",children:e})),b[1]=a,b[2]=e):e=b[2];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDSDirectPrismOutline96Icon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("circle",{cx:"48",cy:"48",fill:"none",r:"47",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),f=i.jsx("path",{d:"m52.309 67.221 17.024-28.643c2.25-3.784-.478-8.578-4.88-8.578H31.55c-5.084 0-7.605 6.169-3.976 9.73l10.574 10.376 3.762 15.55c1.197 4.947 7.798 5.94 10.399 1.565Z",fill:"none",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"2"}),g=i.jsx("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"38.148",x2:"55.675",y1:"50.106",y2:"40.134"}),b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsxs(c("IGDSSVGIconBase.react"),babelHelpers["extends"]({},a,{viewBox:"0 0 96 96",children:[e,f,g]})),b[3]=a,b[4]=e):e=b[4];return e}b=i.memo(a);g["default"]=b}),98);
__d("IGDThreadCapabilitiesContextProvider.react",["LSThreadBitOffset","MWPThreadCapabilitiesContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(6),c=a.children,e=a.thread;b[0]!==e?(a=function(a){return d("LSThreadBitOffset").has(a,e)},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]!==c||b[3]!==a||b[4]!==e?(f=i.jsx(d("MWPThreadCapabilitiesContext").Provider,{customCapabilityCheck:a,thread:e,children:c}),b[2]=c,b[3]=a,b[4]=e,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("IGDThreadDetailContextWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometTransientDialogProvider.react","IGDDMModeContextProvider","IGDInboxInfoContextProvider","IGDNullState.react","IGDThreadCapabilitiesContextProvider.react","MAWEditMessageContext.react","MWPAudioPlaybackThreadContext.react","MWPReplyContext.react","MWThreadKey.react","MWV2IsTabFocusedContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.children;a=a.thread;var f;b[0]!==e?(f=i.jsx(d("IGDInboxInfoContextProvider").IGDInboxInfoContextProvider,{initialRoute:d("IGDInboxInfoContextProvider").IGDInboxInfoRoute.INBOX_INFO,children:e}),b[0]=e,b[1]=f):f=b[1];b[2]!==f||b[3]!==a.threadKey?(e=i.jsx(d("IGDDMModeContextProvider").IGDDMModeContextProvider,{threadKey:a.threadKey,children:f}),b[2]=f,b[3]=a.threadKey,b[4]=e):e=b[4];b[5]!==e||b[6]!==a?(f=i.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:i.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:i.jsx(c("IGDThreadCapabilitiesContextProvider.react"),{thread:a,children:e})})}),b[5]=e,b[6]=a,b[7]=f):f=b[7];b[8]!==f||b[9]!==a.threadKey?(e=i.jsx(c("CometTransientDialogProvider.react"),{children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,children:f})}),b[8]=f,b[9]=a.threadKey,b[10]=e):e=b[10];b[11]!==e||b[12]!==a.threadKey?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(c("CometErrorBoundary.react"),{fallback:j,children:i.jsx(d("MWV2IsTabFocusedContext.react").MWV2IsTabFocusedContextProvider,{isFocused:!0,children:i.jsx(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:e})})})}),b[11]=e,b[12]=a.threadKey,b[13]=f):f=b[13];return f}function j(){return i.jsx(c("IGDNullState.react"),{})}j.displayName=j.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWSecureDataSource",[],(function(a,b,c,d,e,f){"use strict";a=10;f.DEFAULT_NUM_MESSAGES=a}),66);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","asyncToGeneratorRuntime","deepEquals","getErrorSafe","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["count"],i,j=d("CometLruCache").create(20,2e3);function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.chatJid,f=a.config,g=a.count,i=a.direction,k=a.offsetMsg,m=a.timestampMs;e=j.get(e);if(e!=null){var o=e&&e.options,p=o.count;o=babelHelpers.objectWithoutPropertiesLoose(o,h);if(c("deepEquals")(o,{config:f,direction:i,offsetMsg:k,timestampMs:m})&&g<=p)try{return d("WAResultOrError").makeResult(babelHelpers["extends"]({},yield e.result))}catch(a){}}if(c("qex")._("18"))return n(a,b);else return l(a,b)});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.actionType,f=a.chatJid,g=a.config,h=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:e,chatJid:f,config:g,direction:k,externalId:l==null?void 0:l.externalId,includeOriginalMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,msgId:(l==null?void 0:l.messageId)==null?null:d("MAWDbMsg").toMsgId(l.messageId),numMsgs:h,sortOrderMs:a!=null?(i||(i=d("I64"))).to_float(a):null},{timeoutMs:b==null?void 0:b.timeoutMs});j.set(f,{options:{config:g,count:h,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers["extends"]({},yield e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}});return m.apply(this,arguments)}function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.actionType,f=a.chatJid,g=a.config,h=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:e,chatJid:f,config:g,direction:k,range:{includeLowerBoundMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,lowerBoundExternalId:(l==null?void 0:l.externalId)==null?void 0:l.externalId,lowerBoundSortOrderMs:a!=null?(i||(i=d("I64"))).to_float(a):void 0,numMsgs:h}},{timeoutMs:b==null?void 0:b.timeoutMs});j.set(f,{options:{config:g,count:h,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers["extends"]({},yield e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}});return o.apply(this,arguments)}g["default"]=a}),98);
__d("MLV2DataSourceLogger",["I64","MAWQPLLogger","MWChatInteraction","mergeDeep","performanceNow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){j==null&&(j=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return j}var l=new Map();function m(a,b){return(i||(i=d("I64"))).to_string(a)+b}function n(a){a=a.getTrace();var b=(a==null?void 0:a.completed)!=null;a=(a==null?void 0:a.qplEvent)===c("qpl")._(30605380,"18")||(a==null?void 0:a.qplEvent)===c("qpl")._(30609204,"1682");return!b&&a}function a(a,b,e,f){var g=m(a,b),j=l.get(g);j!=null&&j.markQPLCancel("restart_logger");var o=k().markQPLStart(),p=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(a)),q=(h||(h=c("performanceNow")))();p==null||p.addMarkerPoint("MLV2_fetch_start","AppTiming",q);var r=function(a,b){var d=(h||(h=c("performanceNow")))(),e={action:a,full_duration:(d-q)/1e3};b!=null&&(e=c("mergeDeep")(e,b));if(p==null)return;b=n(p);a=a==="CANCEL"&&d-q<50;if(!b||a)return;p.addMarkerPoint("MLV2_fetch_end","AppTiming",d,e)},s=new Set();j={addQPLAnnotations:function(a){k().addQPLAnnotations(o,a)},annotateMessageRangesDataSource:function(a){s.add(a),k().addQPLAnnotations(o,{string_array:{message_ranges_source:Array.from(s.keys())}})},getInstanceKey:function(){return o},markQPLCancel:function(a){k().addQPLAnnotations(o,{string:{cancel_reason:a}}),k().markQPLCancel(o),r("CANCEL"),l["delete"](g)},markQPLFailure:function(a){k().markQPLFailure(o,a),r("FAIL"),l["delete"](g)},markQPLFailureWithMsg:function(a){k().markQPLFailureWithMsg(o,a),r("FAIL"),l["delete"](g)},markQPLPoint:function(a){k().markQPLPoint(o,a)},markQPLSuccess:function(a){k().markQPLSuccess(o),r("SUCCESS",{num_msgs_fetched:a}),l["delete"](g)}};var t=!1;p!=null&&n(p)&&(t=!0);j.addQPLAnnotations({bool:{during_chat_open:t},"int":{queried_count:e},string:{direction:b,thread_id:i.to_string(a),thread_type:i.to_string(f)}});l.set(g,j);return j}function b(a,b){a=m(a,b);return l.get(a)}g.startMLV2LoggerForThread=a;g.getMLV2LoggerForThread=b}),98);
__d("isEbEnabledWithIGDEligibilityCheck",["EBIsEbEnabled","Promise","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return!c("gkx")("23914")?(h||(h=b("Promise"))).resolve(!1):d("EBIsEbEnabled").isEbEnabledLS(a.tables)}g.isEbEnabledWithIGDEligibilityCheck=a}),98);
__d("MAWSecureLocalDBDataSource",["I64","MAWBridgeSendAndReceive","MAWDataSourceLogger","MAWDbMsg","MAWMessagesDirection","MAWMessagesPaginationUtils","MAWMiActOnActThreadReady","MAWPutMessagesToDB","MAWSecureDataSource","MAWSecureLocalDBFetch","MLV2DataSourceLogger","Promise","ReQL","WAStanzaUtils","WATagsLogger","asyncToGeneratorRuntime","err","isEbEnabledWithIGDEligibilityCheck","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=c("requireDeferred")("MAWEBFetch").__setRef("MAWSecureLocalDBDataSource"),o=d("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function p(a){return a.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}})}a=function(){function a(){}var e=a.prototype;e.$1=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,g,j,k,l,p,q,r){if(k==="after")return;k;o.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Fetch more: ",""])),e);d("MAWDataSourceLogger").logLoadMoreMsgsThreadWaiting(p,"before",e);k=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWSecureLocalDBDataSource"));k=k.chatJid;d("MAWDataSourceLogger").logLoadMoreMsgsThreadReadyFetchMsgs(p);d("MAWDataSourceLogger").logLoadMessagesFromLocalDBStart(p);var s=j.minMessageId,t=(yield d("MAWMessagesPaginationUtils").getExternalIdByMsgId(s));q=(yield c("MAWSecureLocalDBFetch")({actionType:q,chatJid:k,config:{admin:!0,editMsgHistory:!0,media:!0,polls:!0,reactions:!0,receiverFetch:!0,xma:!0},count:l,direction:"before",offsetMsg:{externalId:t,includeOriginalMsg:!1,messageId:s},timestampMs:g}));if(q.success===!1){throw(t=q.payload)!=null?t:c("err")(q.error)}var u=q.value;d("MAWDataSourceLogger").logLoadMessagesFromLocalDBEnd(p);d("MAWDataSourceLogger").logInsertMessageResponseToLSDBStart(p);d("MAWMessagesPaginationUtils").populateExternalIdCache(u.msgs);var v=u.msgs.length>0?u.msgs[u.msgs.length-1].msgId:j.minMessageId;yield a.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c;yield d("MAWPutMessagesToDB").insertMessageResponseToDBInExistingTransaction(a,b,u,r,p);c=(yield (c=b.messages_ranges_v2__generated).get.apply(c,[j.threadKey,j.minTimestampMs,j.minMessageId]));if(c==null)return;var e=u.hasMoreBefore;u.hasMoreBefore===!1&&(yield d("isEbEnabledWithIGDEligibilityCheck").isEbEnabledWithIGDEligibilityCheck(a))&&(e=!0);yield b.messages_ranges_v2__generated.upsert([c.threadKey,c.minTimestampMs,c.minMessageId],{hasMoreAfter:!1,hasMoreBefore:e,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:c.maxMessageId,maxTimestampMs:c.maxTimestampMs,minMessageId:v,minTimestampMs:(m||(m=d("I64"))).zero,threadKey:j.threadKey})});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":146");d("MAWDataSourceLogger").logInsertMessageResponseToLSDBEnd(p);d("MAWDataSourceLogger").logLoadMoreMsgsFetched(p,u.hasMoreBefore);if(u.hasMoreBefore){d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(p);return}s=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{chatJid:k,mayBeAdminMsgId:d("MAWDbMsg").toMsgId(j.minMessageId)}));d("WATagsLogger").TAGS(["labyrinth_web","useFetchSecureMessages"]).LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["useFetchSecureMessages: threadJid: "," minMsgSortOrderTsResponse ",""])),k,s.minMsgTimestampMs);d("MAWDataSourceLogger").logLoadMoreMsgsRangeQuery(p,s.minMsgTimestampMs);g=(yield n.load());t=(yield g({chatJid:k,count:l,db:a,direction:"before",timestampMs:(m||(m=d("I64"))).of_float(s.minMsgTimestampMs)}));t.success&&t.value.hasMoreBefore===!1&&(yield a.runInTransaction(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var c=j.minTimestampMs,f=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(e).bounds({lte:[c]}).filter(function(a){var b=a.maxTimestampMs;a=a.minTimestampMs;return(m||(m=d("I64"))).ge(c,a)&&(m||(m=d("I64"))).le(c,b)})));if(f==null)return;yield b.messages_ranges_v2__generated.upsert([f.threadKey,f.minTimestampMs,f.minMessageId],babelHelpers["extends"]({},f,{hasMoreBefore:!1,isLoadingBefore:!1}))});return function(a){return c.apply(this,arguments)}}(),"readwrite","ui",void 0,f.id+":231"));d("MAWDataSourceLogger").logLoadMoreMsgsSuccess(p)});function e(b,c,d,e,f,g,h,i,j){return a.apply(this,arguments)}return e}();e.requestMessages=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h,i,j){a=(yield d("MAWMessagesPaginationUtils").getExternalIdByMsgId(f));j=(yield c("MAWSecureLocalDBFetch")({actionType:j,chatJid:b,config:i,count:h!=null?h:d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:g,offsetMsg:f==null?null:{externalId:a,includeOriginalMsg:!1,messageId:f},timestampMs:e}));if(j.success===!1){throw(b=j.payload)!=null?b:c("err")(j.error)}i=j.value;d("MAWMessagesPaginationUtils").populateExternalIdCache(i.msgs);h=i.msgs.map(function(a){return{externalId:a.externalId,isOptimistic:a.ack<1,isOutgoing:a.isAuthorMe,msgType:a.type_,sortOrderMs:a.sortOrderMs}});return{hasMoreAfter:i.hasMoreAfter,hasMoreBefore:i.hasMoreBefore,msgs:h}});function e(b,c,d,e,f,g,h,i){return a.apply(this,arguments)}return e}();e.fetchSecureMessagesProtocol=function(a,b,c,e,f,g,h,i,k){h===void 0&&(h=d("MAWSecureDataSource").DEFAULT_NUM_MESSAGES);c=d("MAWDataSourceLogger").logLoadMoreMsgsStart(c);return this.$1(a,b,e,f,g,h,c,i,k)["catch"](function(a){var c;o.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch messages: ",""])),a);(c=d("MLV2DataSourceLogger").getMLV2LoggerForThread(b,d("MAWMessagesDirection").translateMawDirectionToMwpDirection(g)))==null||c.markQPLFailure(a)})};e.fetchMessagesByExternalId=function(a,c){a.length>2&&o.WARN(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Fetching "," messages by external id, which is not optimal.\n      Consider migrating 'loadMsgsByExternalId' backend request to a batch version "])),a.length);a=a.map(function(a){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:c,externalId:d("WAStanzaUtils").toStanzaId(a)})});return(l||(l=b("Promise"))).all(a).then(function(a){return a.map(function(a){return p(a)}).flat()})};return a}();g["default"]=a}),98);
__d("MAWFetchMoreMessages",["Int64Hooks","MAWSecureLocalDBDataSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("Int64Hooks").useMemoInt64(function(){return new(c("MAWSecureLocalDBDataSource"))()},[])}g.useSecureDataStorage=a}),98);
__d("MDSGlimmerImpl.react",["BaseGlimmer.react","react","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=["xstyle"],i,j=i||d("react"),k={dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=c("useCurrentDisplayMode")();return j.jsx(c("BaseGlimmer.react"),babelHelpers["extends"]({xstyle:[d==="dark"?k.dark:k.light,b]},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFDSAccount.svg.react",["cr:21519"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21519")}),98);
__d("MWFDSBadgeCheckmark.svg.react",["cr:21558"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21558")}),98);
__d("MWFDSBot.svg.react",["cr:21571"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21571")}),98);
__d("MWFDSCross.svg.react",["cr:21620"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21620")}),98);
__d("MWFDSDocument.svg.react",["cr:21628"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21628")}),98);
__d("MWFDSDots3Vertical.svg.react",["cr:21632"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21632")}),98);
__d("MWFDSExclamationMarkCircle.svg.react",["cr:21640"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21640")}),98);
__d("MWFDSEyeCross.svg.react",["cr:21641"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21641")}),98);
__d("MWFDSGroup.svg.react",["cr:21677"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21677")}),98);
__d("MWFDSHd.svg.react",["cr:21679"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21679")}),98);
__d("MWFDSInfoCircle.svg.react",["cr:21686"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21686")}),98);
__d("MWFDSPhotoPlus.svg.react",["cr:21737"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21737")}),98);
__d("MWFDSRefreshAlt.svg.react",["cr:21755"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21755")}),98);
__d("MWMessageListProtectedMedia.react",["fbt","$InternalEnum","MWLSThreadDisplayContext","MWVerticalRhythm","MWXPressable.react","MWXText.react","emptyFunction","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useMemo,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Protected","Blurred","Unprotected"]),p={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function q(a){var b=a.mediaType,d=a.state;a=a.uncoverable;a=a===void 0?!0:a;var e=h._(/*BTDS*/"Videos sent in message requests are covered."),f=h._(/*BTDS*/"Images sent in message requests are covered."),g=h._(/*BTDS*/"Media sent in message requests are covered."),i=h._(/*BTDS*/"Click to see blurred video"),j=h._(/*BTDS*/"Click to see blurred image"),l=h._(/*BTDS*/"Click to see blurred media"),m=h._(/*BTDS*/"Click to see video"),n=h._(/*BTDS*/"Click to see image"),p=h._(/*BTDS*/"Click to see media");f=k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"body3",children:b==="Image"?f:b==="Video"?e:g});return d===o.Unprotected?null:k.createElement("div",babelHelpers["extends"]({"aria-live":"polite","aria-relevant":"all"},{className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d x1o0tod xl56j7k xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x13vifvy xh8yej3 xhtitgo"},{key:d}),k.jsx("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf xurgmgr x2b8uid"},{children:d===o.Protected?k.jsxs(k.Fragment,{children:[f,a?k.jsxs(k.Fragment,{children:[k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?j:b==="Video"?i:l})]}):null]}):k.jsxs(k.Fragment,{children:[f,k.jsx(c("MWVerticalRhythm"),{height:25}),k.jsx(c("MWXText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:b==="Image"?n:b==="Video"?m:p})]})})))}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.ariaLabel,e=a.children,f=a.disabled,g=a.linkProps,h=a.mediaType,j=a.onPress,r=j===void 0?c("emptyFunction"):j;j=a.overlayDisabled;j=j===void 0?!1:j;var s=a.testid,t=a.type;s=a.uncoverable;s=s===void 0?!0:s;var u=a.url;a=a.xstyle;var v=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=n(o.Protected),x=w[0],y=w[1],z=x===o.Unprotected;w=x===o.Blurred;var A=m(null),B=l(function(){return{url:"#"}},[]),C=l(function(){if(t==="video")return;if(u!=null)return{backgroundImage:"url("+u+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"}},[u,t]);v=k.jsxs("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(p.container,v==="Inbox"?p.containerForInbox:!1,s?p.containerUncoverable:!1),{children:[k.jsx("div",{style:C}),k.jsx("div",babelHelpers["extends"]({"aria-hidden":!z},{0:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp"},2:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp x47corl"},1:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp xj2j9hd"},3:{className:"x193iq5w x171mlpp xw22vqi x1te0kx0 x1bx4cam x1ehtkf2 xy7dqi3 x1wl4osp x47corl xj2j9hd"}}[!!!z<<1|!!w<<0],{children:e})),z?null:k.jsx("div",babelHelpers["extends"]({},{0:{className:"x11dxs5c x5yr21d x1o0tod x10l6tqk x13vifvy xh8yej3 x1vjfegm"},1:{className:"x5yr21d x1o0tod x10l6tqk x13vifvy xh8yej3 x1vjfegm x1cw4mn1"}}[!!w<<0])),k.jsx(q,{mediaType:h,state:x,uncoverable:s})]}));return!s?k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(a,p.pressable),{"data-testid":void 0,children:v})):k.jsx(c("MWXPressable.react"),{"aria-label":z?b:void 0,disabled:f,linkProps:z?g:B,onPress:function(){z?r():y(function(a){switch(a){case o.Protected:return o.Blurred;case o.Blurred:c("setTimeout")(function(){var a=A.current;if(a!=null)return a.focus()},0);return o.Unprotected;case o.Unprotected:return a}})},overlayDisabled:j,ref:A,testid:void 0,xstyle:[a,p.pressable],children:v})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.isSecureMessage,e=a.maxLength,f=a.maxLines,g=a.seeLessLinkProps,i=a.seeMoreLinkProps,l=a.text,m=a.textColor,n=a.truncationStyle,o=a.outgoing,p=a.ranges,q=a.renderers,r=a.transforms;a=a.xstyleForText;b=d("MWUnvaultedText").useMWUnvaultedText(b,l);return j.jsx(c("MWXText.react"),{color:m,type:"body3",children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.regular,a,o?k.outgoing:k.incoming),{dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:e,maxLines:f,ranges:p,renderers:q,seeLessLinkProps:g,seeMoreLinkProps:i,text:b||"",transforms:r!=null?r:d("MWChatTextTransform").textTransforms,truncationStyle:n,truncationThreshold:2,withParagraphs:!0})}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWGhostMessageBubbleWrapper.react","MWPEditMessageHistoryListText.react","MWXMessageBubble.react","defaultMWPThreadTheme","react","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState,l={border:{boxShadow:"x7h7r2v",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingInlineEnd:"x1r41h1w",$$css:!0},messageBubbleOutgoing:{paddingInlineStart:"xprvd4o",$$css:!0}};function a(a){var b,e=a.isReply,f=a.isSecureMessage,g=a.messageHistoryEntry,i=a.outgoing,m=a.renderMessageActions;a={color_DEPRECATED:i?"white":void 0,weight_DEPRECATED:"semibold"};var n=k(!1),o=n[0],p=n[1];n=c("useMWPThreadTheme")();n=d("defaultMWPThreadTheme").isDefaultTheme(n==null||(b=n.threadTheme)==null?void 0:b.fbid);var q=n?c("MWGhostMessageBubbleWrapper.react"):j.Fragment;return j.jsxs("div",babelHelpers["extends"]({},{0:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli"},2:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},1:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli x15zctf7"},3:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo x15zctf7"}}[!!!n<<1|!!i<<0],{"data-testid":void 0,onMouseEnter:function(){m!=null&&p(!0)},onMouseLeave:function(){m!=null&&p(!1)},role:"none",children:[j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m?l.makeSpaceForMessageActions:i?l.messageBubbleOutgoing:l.messageBubbleIncoming),{children:j.jsx(q,{children:j.jsx(c("MWXMessageBubble.react"),{align:i?"right":"left",color:i?"outgoing":"incoming",connectBottom:!1,connectTop:!1,variant:n?"default":"opaque",xstyle:!i&&e&&l.border,children:j.jsx(c("MWPEditMessageHistoryListText.react"),{isSecureMessage:f,maxLength:300,maxLines:3,outgoing:i,ranges:[],seeLessLinkProps:a,seeMoreLinkProps:a,text:g.messageContent||"",textColor:n?"secondary":i?"white":"primary",truncationStyle:"see-more-and-less"})})})})),m&&o?j.jsx("div",babelHelpers["extends"]({className:"xc26acl x78zum5"},{children:m(g)})):null]}))}a.displayName=a.name+" [from "+f.id+"]";g.MWPEditedMessageHistoryEntry=a}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a,b){var e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(a)},[e,a],f.id+":29");return j(function(){return b?g.slice(0,-1):g},[g,b])}g["default"]=a}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","qpl","react","stylex","useEditMessageHistoryLS"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect,m={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0},outgoing:{display:"x1lliihq",paddingInlineEnd:"xf159sx",$$css:!0}};function a(a){var b=a.editCount,e=a.isReply,f=a.isSecureMessage,g=a.msgId,i=a.outgoing,n=a.renderMessageActions,o=a.threadType;a=a.xstyle;var p=d("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},q=p.showEdits,r=c("useEditMessageHistoryLS")(g,f);l(function(){q&&(c("QPLUserFlow").addAnnotations(c("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:f},"int":{threadType:(j||(j=d("I64"))).to_int32(o)}}),r!=null&&b!=null&&r.length===(j||(j=d("I64"))).to_int32(b)?c("QPLUserFlow").endSuccess(c("qpl")._(1056849214,"1777")):c("QPLUserFlow").endFailure(c("qpl")._(1056849214,"1777"),"no edits found"))},[r,b,q,f,o]);p=k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.base,i?m.outgoing:m.incoming,a),{role:"none",children:r.map(function(a,b){return k.jsx(d("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:e,isSecureMessage:f,messageHistoryEntry:a,outgoing:i,renderMessageActions:n},b)})}));return q?p:null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("TetraMWChatComposerIcons.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,k.fillGrey,a),{height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,k.fillGrey,a),{height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),j.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),j.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),j.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),j.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})}))}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0,f=b==null?"x1dmfqyo":void 0;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,a),{height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:j.jsxs("g",{fill:"none",fillRule:"evenodd",children:[j.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),j.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),j.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),j.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})}))}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=a.fill,c=a.isRotated;c=c===void 0?!1:c;a=a.size;return j.jsx("svg",babelHelpers["extends"]({},{0:{className:"x1lliihq x1tzjh5l x1k90msu x11xpdln x1qfuztq xsrhx6k x7p49u4"},1:{className:"x1lliihq x1tzjh5l x1k90msu x11xpdln x1qfuztq xsrhx6k x1158fpu"}}[!!c<<0],{height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:j.jsxs("g",{fillRule:"evenodd",children:[j.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),j.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})}))}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?!1:a;var e=b==null?"xsrhx6k":void 0;return j.jsx("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,a),{height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:j.jsx("g",{fill:"none",fillRule:"evenodd",children:j.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:j.jsx("g",{transform:"translate(709.000000, 314.000000)",children:j.jsx("g",{children:j.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})}))}m.displayName=m.name+" [from "+f.id+"]";g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=l;g.Emoji=m}),98);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=["hasMissingMessage"],i;function a(a,b,e,f){var g=a.threadKey;a=a.threadType;if(e!=null){var j=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),k=d("LSMessagingThreadTypeUtil").isGroup(a),l=(i||(i=d("I64"))).to_string(g);a=f!=null?f:{};var m=a.hasMissingMessage,n=babelHelpers.objectWithoutPropertiesLoose(a,h);g=f!=null?f:{};var o=g.MAW_vs_EB_numOfMissingInReference,p=g.MAW_vs_EB_numOfMissingInTarget,q=g.UI_vs_EB_numOfMissingInReference,r=g.UI_vs_EB_numOfMissingInTarget,s=g.UI_vs_MAW_numOfMissingInReference,t=g.UI_vs_MAW_numOfMissingInTarget,u=g.pageSize;c("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:e,event_name:b,extra_data:n,has_message_missing:m,is_secured:j,missing_messages_maw_vs_eb_missing_in_reference_count:o,missing_messages_maw_vs_eb_missing_in_target_count:p,missing_messages_page_size:u,missing_messages_ui_vs_eb_missing_in_reference_count:q,missing_messages_ui_vs_eb_missing_in_target_count:r,missing_messages_ui_vs_maw_missing_in_reference_count:s,missing_messages_ui_vs_maw_missing_in_target_count:t,other_user_fbid:k||j?void 0:l,thread_fbid:l}})}}g["default"]=a}),98);
__d("useIGDBroadcastChannelOpenThreadLogger",["I64","IGDInboxClickedThreadContextProvider","Int64Hooks","MWCMThreadTypes.react","promiseDone","react","react-compiler-runtime","useIGDBroadcastChannelLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useRef;function a(a){var b=d("react-compiler-runtime").c(6),e=d("IGDInboxClickedThreadContextProvider").useIGDInboxClickedThreadContext(),f=c("useIGDBroadcastChannelLogger")(a.threadKey),g=j(!1),h,k;b[0]!==e||b[1]!==f||b[2]!==a.threadKey||b[3]!==a.threadSubtype?(h=function(){var b=e.getProviderData();b=b.clickedThreadId;!g.current&&b!=null&&(i||(i=d("I64"))).equal(b,a.threadKey)&&a.threadSubtype!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a.threadSubtype)&&(c("promiseDone")(f({action:"tap",event:"thread_open",extra:{is_admin:"True",new_bc_user:"False",previously_joined:"True"},parent_surface:"broadcast",source:"broadcast_thread_item",surface:"inbox_channels"})),g.current=!0)},k=[e,f,a.threadKey,a.threadSubtype],b[0]=e,b[1]=f,b[2]=a.threadKey,b[3]=a.threadSubtype,b[4]=h,b[5]=k):(h=b[4],k=b[5]);d("Int64Hooks").useEffectInt64(h,k)}g["default"]=a}),98);
__d("useIGDIsViewerAdmin",["MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i;b[0]!==e.tables.participants||b[1]!==a||b[2]!==g?(i=function(){return d("ReQL").fromTableAscending(e.tables.participants,["isAdmin"]).getKeyRange(a,g)},b[0]=e.tables.participants,b[1]=a,b[2]=g,b[3]=i):i=b[3];var j;b[4]!==e||b[5]!==a||b[6]!==g?(j=[e,a,g],b[4]=e,b[5]=a,b[6]=g,b[7]=j):j=b[7];b=d("ReQLSuspense").useFirst(i,j,f.id+":24");if(b==null)return!1;i=b.isAdmin;return i!=null?i:!1}g["default"]=a}),98);
__d("useIsAdsAIChat",["AdsAIMessengerUtils","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useMemo;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a)},[b,a],f.id+":23"),g=j(function(){return e.some(function(a){return d("AdsAIMessengerUtils").isAdsAIParticipant(a.contactId)})},[e]);return g}g["default"]=a}),98);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=a.threadKey,e=a.threadName,g=a.threadType,j=d("MWPActor.react").useActor(),k=(i||(i=c("useReStore")))(),l=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(k.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(b),d("ReQL").fromTableAscending(k.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},[k,b],f.id+":37");return d("Int64Hooks").useMemoInt64(function(){var a=e;if(a!=null)return h._(/*BTDS*/"Conversation titled {name of conversation}",[h._param("name of conversation",a)]);a=(a=d("MWPGetThreadTitle").computeThreadTitle(void 0,g,l,j))!=null?a:"";return h._(/*BTDS*/"Conversation with {participant list}",[h._param("participant list",a)])},[e,g,l,j])}g["default"]=a}),226);
__d("useMessengerWebThreadSeenLogging",["CometDebounce","I64","Int64Hooks","MessengerWebUXLogger","logMessengerWebFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.consistentThreadFbid,e=a.entryPoint,f=a.threadKey,g=a.threadType,i=c("MessengerWebUXLogger").useInteractionLogger(),j=c("CometDebounce")(function(){e!=null&&c("logMessengerWebFalcoEvent")({threadKey:f,threadType:g},"seen_receipt",e),i==null||i({entryPoint:e,eventName:"read_receipt",extraData:{consistent_thread_fbid:(h||(h=d("I64"))).to_string(b!=null?b:(h||(h=d("I64"))).zero)},threadKey:f,threadType:g})});return d("Int64Hooks").useCallbackInt64(function(){return j()},[j])}g["default"]=a}),98);