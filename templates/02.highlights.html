{% extends "00.base.html" %}
{% block title %}Highlights{% endblock %}
{% block content %}
<div class="main-content">
    <h1 class="heading">Highlights</h1>
    <p class="caption">
        Coming up next for Taehyung and Jung Kook!
    </p>
    <div class="upcoming-container">
        {% if upcoming %}
            {% for event in upcoming %}
            <div class="upcoming-card">
                <div class="upcoming-header">
                    <h2 class="upcoming-title">{{ event.title }}</h2>
                    <p class="upcoming-date">{{ event.date.strftime('%B %d, %Y') }}</p>
                </div>
                <div class="upcoming-body">
                    {% if event.image and event.image.endswith('.mp4') %}
                        <video class="upcoming-image" controls controlsList="nodownload">
                            <source src="{{ url_for('static', filename='images/upcoming/' + event.image) }}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    {% else %}
                        <img src="{{ url_for('static', filename='images/upcoming/' + event.image) }}" 
                             alt="{{ event.title }}" class="upcoming-image">
                    {% endif %}
                    <div class="upcoming-content">
                        <p class="upcoming-description">{{ event.description }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        {% else %}
        <div class="stay-tuned-banner">
            <p>Taehyung and Jungkook have returned, and the universe is shifting once more.</p>
            <p>While the stage is being set, weâ€™re holding space for whatâ€™s next â€” and itâ€™s going to be unforgettable.ðŸ’œ</p>
            <img src="{{ url_for('static', filename='images/upcoming/stay_tuned.webp') }}" 
                 alt="Stay Tuned" class="stay-tuned-image">
        </div>        
        {% endif %}
        
        {% if recaps %}
        <div class="weekly-recap-section">
            <h2 class="section-heading">ðŸŒŸ Weekly Recap ðŸŒŸ</h2>
            <div class="recap-cards">
                {% for recap in recaps %}
                <div class="recap-card">
                    <h3 class="recap-title">{{ recap.title }}</h3>
                    <video class="recap-video" controls controlsList="nodownload">
                        <source src="{{ url_for('static', filename='images/upcoming/' + recap.video) }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
